<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ğŸ”¥å­—èŠ‚è·³åŠ¨é è°±å†…æ¨ğŸ”¥]]></title>
    <url>%2F2020%2F05%2F19%2Fwelcome-bytedance%2F</url>
    <content type="text"><![CDATA[ğŸ”¥21 å±Šæ ¡æ‹›æŠ€æœ¯æå‰æ‰¹ğŸ”¥3000+ å²—ä½æ¥è¢­ï¼Œç ”å‘æå‰æ‰¹æ— ç¬”è¯•ï¼Œé€šè¿‡æˆ‘çš„å†…æ¨å“åº”æ›´å¿«ï¼Œè¶…æ—©ä¸Šå²¸ã€å¿«äººä¸€æ­¥ã€å¤šä¸€æ¬¡æŠ•é€’æœºä¼šï¼Œç»“æœä¸å½±å“ç§‹æ‹›ï¼Œè¿˜ä¸æŠ•é€’è¯•è¯•ï¼Ÿ æŠ•é€’åœ°å€ï¼šä¼ é€é—¨ é¢å‘å¯¹è±¡ï¼š2021 å±Šçš„æ¯•ä¸šç”Ÿï¼ˆ 2020 å¹´ 9 æœˆ~2021 å¹´ 8 æœˆæ¯•ä¸šï¼‰ï¼Œé™ç ”å‘æ–¹å‘ï¼Œéç ”å‘åç»­ä¹Ÿä¼šå¼€æ”¾ æŠ•é€’æ—¶é—´ï¼š6æœˆ16æ—¥- 7æœˆ16æ—¥ 16:00 æ‰¾æˆ‘å†…æ¨çš„ä¼˜åŠ¿ æˆ‘æ˜¯å­—èŠ‚è·³åŠ¨æ­£å¼å‘˜å·¥ï¼Œå†…æ¨å®Œå…¨å…è´¹ï¼Œç®€å†å¯è·å¾—ä¼˜å…ˆç­›é€‰ï¼Œè¿›å…¥é¢è¯•äººæ•°ä¼—å¤šï¼› ç›´æ¥é€šè¿‡æˆ‘æä¾›çš„é“¾æ¥è¿›å…¥æŠ•é€’ï¼Œå³å¯ç®—ä½œæ˜¯æˆ‘çš„å†…æ¨ï¼Œå¯é ã€æ–¹ä¾¿ã€å¿«æ·ï¼› é€šè¿‡æˆ‘å†…æ¨æŠ•é€’çš„ä¸ä¼šè®©ä½ é‡åˆ°ç®€å†çŸ³æ²‰å¤§æµ·ï¼Œé¢è¯•æ³æ— éŸ³è®¯çš„åœºæ™¯ï¼Œå¯é€šè¿‡æˆ‘è¿½è¸ªå†…æ¨çŠ¶æ€ï¼Œå¤„ç†å¼‚å¸¸è¿›åº¦ï¼Œäººè‚‰è·Ÿ HR è”ç³»å¤„ç†ï¼Œå·²æ•‘æ´»æ•°äººï¼› æœ‰å¾®ä¿¡å†…æ¨äº¤æµç¾¤ï¼ŒåŠæ—¶åŒæ­¥æœ€æ–°æ‹›è˜æ¶ˆæ¯ï¼Œæœ‰é—®é¢˜ä¹Ÿå¯åŠæ—¶åé¦ˆç»™å€™é€‰äººï¼› å…³äºæˆ‘ï¼šå¯é€šè¿‡æœç´¢ 625783482 åŠ æˆ‘ä¸ªäººå¾®ä¿¡ï¼ˆéœ€è¦å¤‡æ³¨ï¼šå­—èŠ‚å†…æ¨-èŒä½-çœŸåï¼Œä¾‹å¦‚ï¼šå­—èŠ‚å†…æ¨-Android-å¼ ä¸‰ï¼Œå¦åˆ™ä¸åŠ ï¼‰ï¼Œæˆ‘æ‹‰ä½ è¿›å†…æ¨ç¾¤æ¥ä¸€èµ·äº¤æµã€‚ æ‰€æœ‰å²—ä½çš„å†…æ¨é“¾æ¥åŒ—äº¬ã€æ­å·ã€æ­¦æ±‰ã€å¹¿å·ã€æ·±åœ³ã€ä¸Šæµ·ï¼Œç­‰ä¼—å¤šåŸå¸‚ç­‰ä½ æ¥æŠ•ï½ ğŸ”¥é£ä¹¦æµ·é‡ HC å“åº”å¿«ğŸ”¥ï¼šä¼ é€é—¨ ğŸ”¥ç¤¾æ‹›æ‰€æœ‰èŒä½ğŸ”¥: ä¼ é€é—¨ ğŸ”¥å®ä¹ ç”Ÿå²—ä½ğŸ”¥ï¼šä¼ é€é—¨ ğŸ”¥æ ¡æ‹›çƒ­é—¨æå‰æ‰¹å²—ä½å“åº”å¿«ğŸ”¥ï¼šä¼ é€é—¨ ğŸ”¥æ ¡æ‹›æ‰€æœ‰èŒä½ğŸ”¥: ä¼ é€é—¨ ï¼ˆæ ¡æ‹›å†…æ¨ç : M8KN3K4ï¼‰ Q&amp;AQï¼šæˆ‘è¿˜æ˜¯æ„Ÿè§‰è‡ªå·±æ²¡å‡†å¤‡å¥½ï¼Œç„¶åæå‰æ‰¹åˆæ˜¯è¦åœ¨ç³»ç»Ÿé‡Œé¢ç•™è®°å½•çš„ï¼Œæ„Ÿè§‰è¡¨ç°ä¸å¥½çš„è¯å¯¹åé¢æ­£å¼æ‰¹çš„æŠ•é€’ä¹Ÿä¼šæœ‰å½±å“ï¼ŸAï¼š æå‰æ‰¹å…¶å®å°±æ˜¯æ­£å¼æ‰¹çš„æµç¨‹äº†ï¼Œæ­£å¼æ‰¹ä¼šç«äº‰å‹åŠ›æ›´å¤§ï¼Œæå‰æ‰¹ç¬”è¯•ã€é¢è¯•å‘¨æœŸæ¯å‘¨ä¸€æ¬¡ï¼Œå› æ­¤è¿›é¢äººæ•°ç­›é€‰éƒ½ä¼šæ›´å¤šï¼› æ­£å¼æ‰¹ä¸¤å‘¨ä¸€æ¬¡ï¼›é¢è¯•å®˜èµ„æºéƒ½æ˜¯è¿™ä¹ˆå¤šï¼Œå› æ­¤ç­›é€‰é˜¶æ®µè¿›ç¬”ã€é¢ç«äº‰çš„äººéƒ½ä¼šæ›´å‰å®³ï¼› ç§‹æ‹›å¤§å®¶è®¤çŸ¥åº¦é«˜ï¼Œå¾ˆå¤šå¥½å­¦æ ¡è¿˜æ²¡å¼€å§‹å‡†å¤‡æå‰æ‰¹ï¼Œå¤§å®¶éƒ½çŸ¥é“è¦ç§‹æ‹›ï¼Œè¿›æ¥çš„ç®€å†è´¨é‡ä¹Ÿæ˜¯ä¹‹åä¼šæ›´é«˜ï¼Œç«äº‰ä¼šæ›´æ¿€çƒˆï¼› è¯„ä¼°ã€é¢è¯•é˜¶æ®µæˆ‘ä»¬ä¼šå¯¹ä¸ªäººçš„åŒ¹é…åº¦å»çœ‹ç®€å†ï¼Œæ¯”å¦‚ä½ æå‰æ‰¹Aéƒ¨é—¨æŒ‚äº†ï¼ŒBéƒ¨é—¨æèµ·åä¸ä¼šå»çœ‹ä½ ä¹‹å‰çš„è¡¨ç°ï¼Œåªä¼šå°½å¯èƒ½å¼•å¯¼ä½ å‘æŒ¥ä½ çš„ä¼˜åŠ¿ï¼Œä»è€Œçœ‹è¿™ä¸ªå²—ä½çš„åŒ¹é…åº¦ï¼› Qï¼šæ€ä¹ˆæ‰ç®—æ˜¯ä½ çš„å†…æ¨å‘¢ï¼Ÿå¯ä¸€æ¬¡æ€§æŠ•é€’å¤šä¸ªå²—ä½å—ï¼ŸAï¼šç›´æ¥é€šè¿‡æˆ‘æä¾›çš„é“¾æ¥è¿›å…¥æŠ•é€’ä¾¿æ˜¯å±äºæˆ‘çš„å†…æ¨ï¼› å¯æŠ•é€’å¤šä¸ªå²—ä½ï¼ˆä½†ä¸å»ºè®® 1 æ¬¡æŠ•å¤ªå¤šï¼Œæœ€å¥½æ§åˆ¶åœ¨ 5 ä¸ªä»¥å†…ï¼‰ï¼Œå¯å¤šæ¬¡æŠ•é€’ï¼ŒæŒ‚äº†è¿˜å¯ä»¥ç»§ç»­æŠ•ã€‚ Qï¼šå†…æ¨åçš„æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿéœ€è¦å¤šé•¿æ—¶é—´ï¼ŸAï¼šæ•´ä½“æµç¨‹æ˜¯ï¼šHR ç®€å†åˆç­› -&gt; ä¸šåŠ¡æ–¹ç®€å†è¯„ä¼° -&gt; ç¬”è¯•/é¢è¯•ï¼ˆç¤¾æ‹›å’Œå®ä¹ æ— ç¬”è¯•ï¼Œç›´æ¥é¢è¯•ï¼Œé¢è¯•ä¸€èˆ¬æ˜¯ä¸šåŠ¡ 3 é¢ + HR 1 é¢ï¼‰-&gt; å–œæ offerã€‚ æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªèŠ‚ç‚¹è€—æ—¶ä¸€å‘¨æ—¶é—´ï¼Œå½“ç„¶ï¼Œæ ¡æ‹›å› ä¸ºäººæ•°æ¯”è¾ƒå¤šï¼Œæµç¨‹ä¼šæ…¢äº›ï¼Œæ¯”å¦‚ç¬”è¯•éƒ½æ˜¯åˆ†æ‰¹é›†ä¸­ç»„ç»‡ç¬”è¯•çš„ã€‚æ ¡æ‹›é›†ä¸­ç¬”è¯•çš„æ—¶é—´ï¼Œæ ¡æ‹›å®˜ç½‘ä¸Šä¸€èˆ¬æœ‰å…¬å¸ƒï¼Œå¦‚æœè¿›å…¥äº†ç¬”è¯•ä¹Ÿä¼šæœ‰çŸ­ä¿¡/é‚®ä»¶æé†’ã€‚ Qï¼šå†…æ¨è¿›åº¦æ€ä¹ˆçœ‹ï¼ŸAï¼šå®˜ç½‘ç›®å‰ä¸æ”¯æŒé™¤æ ¡æ‹›å¤–çš„æŠ•é€’è¿›åº¦æŸ¥è¯¢ï¼Œå¦‚æœæ˜¯é€šè¿‡æˆ‘çš„å†…æ¨ï¼Œä¸”è¶…è¿‡ 1 å‘¨æ²¡æœ‰æ¶ˆæ¯ï¼Œå¯å¾®ä¿¡æ‰¾æˆ‘æŸ¥è¯¢è¿›åº¦ï¼Œå¦‚æœä¸€ç›´æœªå¤„ç†ï¼Œæˆ‘ä¼šå‚¬ä¿ƒ HR åŠ å¿«è¿›åº¦ï¼Œæ­£å¸¸æ—¶é—´èŒƒå›´å†…ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œå¦‚æœä¸æ˜¯æˆ‘å†…æ¨çš„ï¼Œæˆ‘æŸ¥ä¸åˆ°è¿›åº¦ï¼Œæ— èƒ½ä¸ºåŠ›ã€‚ Qï¼šæŠ€æœ¯äººå‘˜å¦‚ä½•å‡†å¤‡é¢è¯•ï¼Ÿ ç®€å†å¯å‚è€ƒï¼šå¦‚ä½•å†™å‡ºä¸€ä»½ä¸“ä¸šçš„æŠ€æœ¯ç®€å†ï¼ˆPSï¼šç®€å†ä¸­è‡ªå·±æ‹¿å¾—å‡ºæ‰‹çš„éƒ¨åˆ†å¯ä»¥åŠ ç²—æ¥å¸å¼•é¢è¯•å®˜çœ¼çƒï¼‰ï¼› Android åŒå­¦å¯å‚è€ƒï¼šAndroidOfferKillerï¼ˆå…¶ä»–æŠ€æœ¯åŒå­¦ä¹Ÿå¯å‚è€ƒï¼‰ï¼› æŠ€æœ¯äººå‘˜ä¸€å®šè¦ ã€Œå¥½å¥½åˆ·ç®—æ³•ã€å¥½å¥½åˆ·ç®—æ³•ã€å¥½å¥½åˆ·ç®—æ³•ã€ï¼Œéš¾åº¦åˆ° LeetCode ä¸­ç­‰å³å¯ï¼Œå¯å‚è€ƒæˆ‘ä¹‹å‰æ€»ç»“çš„ awesome-java-leetcodeï¼› Qï¼šå¦‚æœé¢è¯•æŒ‚äº†ï¼Œä¼šå¯¹åé¢æŠ•é€’æœ‰å½±å“å—ï¼ŸAï¼šå­—èŠ‚çš„å†å²æŠ•é€’åŠé¢è¯•æƒ…å†µç³»ç»Ÿéƒ½æœ‰è®°å½•ï¼Œå¦‚æœæŠ•é€’æ–°å²—ä½HRã€é¢è¯•å®˜å¯ä»¥æŸ¥çœ‹å¹¶è¿›è¡Œå‚è€ƒã€‚ä½†ç›¸æ¯”å†å²è¡¨ç°ï¼Œå½“ä¸‹çš„é¢è¯•è¡¨ç°æ›´åŠ é‡è¦ã€‚æˆ‘å†…æ¨çš„æˆåŠŸæ¡ˆä¾‹ä¸­ï¼Œä¸ä¹å¤šæ¬¡æŠ•é€’å¹¶é¢è¯•ï¼Œæœ€åæˆåŠŸæ‹¿ä¸‹offerçš„åŒå­¦ã€‚ Qï¼šå¯ä»¥ä»‹ç»ä¸‹å­—èŠ‚å—ï¼ŸAï¼šæˆ‘æ‰€äº†è§£çš„å­—èŠ‚ï¼š åªè¦ä½ æœ‰å®åŠ›ï¼Œè–ªèµ„ä¸ä¼šæ¯”ä½ æ‹¿çš„å…¶ä»– offer ä½ï¼› å¤§å°å‘¨ï¼Œä¹Ÿå°±æ˜¯å‘¨å…­ä¸åŠ ç­ï¼Œæ¯éš”ä¸€å‘¨çš„å‘¨æ—¥ä¼šåŠ ç­ï¼ŒåŠ ç­å·¥èµ„ä¸º 1.2 å€ï¼› å…¨å‘˜ Mac + 4K æ˜¾ç¤ºå™¨ï¼Œä¸Šç­æ—© 10 ç‚¹åˆ°æ™š 7 ç‚¹ï¼Œæ ¹æ®å®é™…æƒ…å†µä¼šæœ‰ä¸€å®šçš„åŠ ç­ï¼Œ10 ç‚¹ä»¥åæ‰“è½¦æŠ¥é”€ï¼› æ¯åŒæœˆä¼šè¯„é€‰æ°å‡ºè´¡çŒ®è€…ï¼Œå‘æ”¾ Spot Bonus å¥–åŠ±ï¼› åŒ…ä¸‰é¤å’Œä¸‹åˆèŒ¶ï¼ˆèº«è¾¹ä¹‹å‰æ¥è‡ªå„äº’è”ç½‘çš„å°ä¼™ä¼´è¯„ä»·å­—èŠ‚çš„é£Ÿå ‚æ¯” ALã€WYã€TX ç­‰å¥½åƒå¤šäº†ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜ä¼šæœ‰å¤§é—¸èŸ¹ã€ç¾Šè‚‰ä¸²ã€å°é¾™è™¾ç­‰ï¼‰ï¼Œé›¶é£Ÿã€å’–å•¡ä¸é™é‡ï¼› å…¬å¸æœ‰åˆä½œçš„å¥èº«æˆ¿ï¼Œå¯å¥èº«ã€æ¸¸æ³³ï¼› å®šæœŸä¼šæœ‰å›¢é˜Ÿå»ºè®¾æ´»åŠ¨ï¼› æ¯å¹´ä¸€æ¬¡å…è´¹ä½“æ£€ï¼› æ­¥è¡Œ 30åˆ†é’Ÿ ä»¥å†…åˆ°å…¬å¸æœ‰æˆ¿è¡¥ï¼› æ‰å¹³åŒ–ç®¡ç†ï¼Œæ— éœ€è¿‡å¤šè€ƒè™‘ä¸Šä¸‹çº§çš„å…³ç³»ï¼ŒåŒäº‹éƒ½å¾ˆ niceï¼› æƒ³äº†è§£æ›´å¤šï¼Ÿæ¬¢è¿ä¼˜ç§€çš„ä½ æˆä¸ºæˆ‘çš„åŒäº‹å“ˆï¼›]]></content>
      <categories>
        <category>å†…æ¨</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
        <tag>å†…æ¨</tag>
        <tag>å­—èŠ‚è·³åŠ¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidUtilCode ç½‘çº¢åº“ç»ˆäºå‘å¸ƒ 1.26.0 å•¦ï¼ï¼ï¼]]></title>
    <url>%2F2019%2F11%2F27%2Futilcode-1-26-0%2F</url>
    <content type="text"><![CDATA[å‰è¨€ä½œä¸º Android å¼€å‘è€…å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å¬è¯´è¿™ä¸ªåº“ï¼Œé‚£ä¹ˆç›¸ä¿¡åœ¨äº†è§£ AndroidUtilCode ä¹‹åï¼Œä½ ä¼šå‘ç°å…¶ææ€–å¦‚æ–¯ã€‚ ä¸Šç‰ˆæœ¬çš„æ›´æ–°å†…å®¹æˆ‘åªæ”¾åœ¨äº†æˆ‘çš„æ˜Ÿçƒä¸­ï¼Œè¿™æ¬¡ä¹Ÿä¸€èµ·æ‹¿å‡ºæ¥åˆ†äº«ç»™ä½ ä»¬å§ï¼šé›†åˆä¸‰å‰‘å®¢å·¥å…·ç±»ï¼Œå¦‚æœæƒ³è¦ç¬¬ä¸€æ—¶é—´è·å¾—æœ€æ–°å†…å®¹ï¼Œå¯ä»¥åŠ å…¥æˆ‘çš„çŸ¥è¯†æ˜Ÿçƒå“¦ã€‚ æ­¤æ¬¡æ–°ç‰ˆæœ¬æ›´æ–°çš„ä¸œè¥¿è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œå…·ä½“ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹ï¼š æ•´ä½“ Demo çš„ä»£ç åŠç•Œé¢çš„ä¼˜åŒ–ï¼› æ–°å¢ UiMessageUtilsï¼› æ–°å¢ NotificationUtilsï¼› æ–°å¢ ShadowUtilsï¼› æ–°å¢ TouchUtilsï¼› æ–°å¢ ClickUtils pressed bg å˜æš—æ•ˆæœï¼› api-plugin å‡çº§åˆ° 1.2ï¼› bus-plugin å‡çº§åˆ° 2.4ï¼› AucFrame é€‚é… Gradle 6.0 ä¸‹é¢æˆ‘åªå¯¹å…¶éœ€è¦çš„è¿›è¡Œç®€å•çš„ä»‹ç»ï¼Œå…·ä½“æƒ³äº†è§£æœ€å¥½è¿˜æ˜¯é€šè¿‡ä½“éªŒ Demo åŠé˜…è¯»æºç ã€‚ æ•´ä½“ Demo çš„ä»£ç åŠç•Œé¢çš„ä¼˜åŒ–1.26.0 ç‰ˆæœ¬çš„ Demo å¯ä»¥åœ¨ 1.26.0 Release ä¸­ä¸‹è½½åˆ°ï¼Œå…¶ç•Œé¢å¦‚ä¸‹æ‰€ç¤ºï¼š åœ¨ UI æ–¹é¢æ˜¯ä¸æ˜¯æ¯”ä¹‹å‰è¦å¼ºç‚¹å“ˆï¼Œä¸è¿‡ä»£ç å¯æ¯”ä¹‹å‰å¤§å¤§ä¼˜åŒ–äº†ï¼Œä¹‹å‰éƒ½æ˜¯é€šè¿‡åœ¨å¸ƒå±€ä¸­æ’å…¥ä¸€ä¸ªä¸ª Buttonï¼Œå¦‚ä»Šå·²ç»æ”¹ä¸ºä¸€ä¸ª RV èµ°å¤©ä¸‹äº†ã€‚å…³äºæœ¬é¡¹ç›®ï¼Œæˆ‘æ¨èå¤§å®¶æ‹‰ä¸‹æ¥æºç å¥½å¥½é˜…è¯»ä¸‹ï¼Œä¸ç®¡æ˜¯ AucFrameã€base åŠ common æºç ã€Demo çš„å®ç°â€¦â€¦å…¶ä¸­å­˜åœ¨å¾ˆå¤šå¯å€Ÿé‰´çš„æ¨¡æ¿ä»£ç è®©ä½ ä»¬ copy çš„å“ˆã€‚ UI æ¶ˆæ¯ç›¸å…³ -&gt; UiMessageUtils123send : å‘é€æ¶ˆæ¯addListener : æ–°å¢æ¶ˆæ¯ç›‘å¬å™¨removeListener: ç§»é™¤æ¶ˆæ¯ç›‘å¬å™¨ è¿™ä¸ªç±»å°±æ˜¯é€šè¿‡ Handler å®ç°äº†ä¸»çº¿ç¨‹é—´æ¶ˆæ¯çš„é€šä¿¡ï¼Œå¯ä»¥ä»£æ›¿æœ¬åœ°å¹¿æ’­æ¥ä½¿ç”¨ï¼Œæ•ˆç‡ä¹Ÿæ›´åŠ é«˜æ•ˆï¼Œç”¨æ¥é¡µé¢é—´ä¼ é€’æ¶ˆæ¯å†åˆé€‚ä¸è¿‡äº†ã€‚ é€šçŸ¥ç›¸å…³ -&gt; NotificationUtils12345areNotificationsEnabled : åˆ¤æ–­é€šçŸ¥æ˜¯å¦å¯ç”¨notify : å‘é€é€šçŸ¥cancel : å–æ¶ˆé€šçŸ¥cancelAll : å–æ¶ˆæ‰€æœ‰é€šçŸ¥setNotificationBarVisibility: è®¾ç½®é€šçŸ¥æ æ˜¯å¦å¯è§ è¿™ä¸ªç±»ä¹Ÿæ˜¯æ‹–äº†å¥½ä¹…ï¼Œä¸ºäº†æ»¡è¶³ä½ ä»¬ï¼Œæˆ‘è¿˜æ˜¯è´¹äº†ç‚¹åŠŸå¤«æ‰æå®Œçš„ã€‚ ShadowUtilsä¸€ä¸ªä¸å¢åŠ å±‚çº§ï¼Œåªåœ¨å…¶ background åŸºç¡€ä¸Šå®ç°å¯è®¾ç½®ä»»æ„è‰²çš„é˜´å½±å·¥å…·ç±»ï¼Œæ•´ä¸ª View å¤§å°éœ€è¦è€ƒè™‘åˆ°é˜´å½±å“¦ï¼ TouchUtilsä¸€ä¸ªå¯ä»¥ä¸ºä½ å¿«é€Ÿå®ç°å•æŒ‡æ‰‹åŠ¿æ“ä½œçš„å·¥å…·ç±»ã€‚ ç‚¹å‡»ç›¸å…³ -&gt; ClickUtils.java12345678applyPressedViewScale : åº”ç”¨ç‚¹å‡»åå¯¹è§†å›¾ç¼©æ”¾applyPressedViewAlpha : åº”ç”¨ç‚¹å‡»åå¯¹è§†å›¾æ”¹å˜é€æ˜åº¦applyPressedBgAlpha : åº”ç”¨ç‚¹å‡»åå¯¹èƒŒæ™¯æ”¹å˜é€æ˜åº¦applyPressedBgDark : åº”ç”¨ç‚¹å‡»åå¯¹èƒŒæ™¯åŠ æ·±applySingleDebouncing : å¯¹å•è§†å›¾åº”ç”¨é˜²æŠ–ç‚¹å‡»applyGlobalDebouncing : å¯¹æ‰€æœ‰è®¾ç½® GlobalDebouncing çš„è§†å›¾åº”ç”¨é˜²æŠ–ç‚¹å‡»ClickUtils#OnDebouncingClickListener: é˜²æŠ–ç‚¹å‡»ç›‘å¬å™¨ClickUtils#OnMultiClickListener : è¿ç»­ç‚¹å‡»ç›‘å¬å™¨ æ»¡è¶³æ—¥å¸¸ç”¨åˆ°çš„ç‚¹å‡»éœ€æ±‚ï¼Œæˆ‘çœŸæ˜¯å¤ªè´´å¿ƒäº†ã€‚ æœ€åçš„è¯è¿™æ¬¡çš„å¾ˆå¤šä»‹ç»éƒ½æ˜¯ä¸€ç¬”å¸¦è¿‡ï¼Œä¸»è¦æ˜¯æƒ³æ¨èä½ ä»¬é˜…è¯»ä¸‹æºç ï¼Œç”Ÿæ€•ä½ ä»¬æµªè´¹äº†è¿™ä¹ˆå¥½çš„ä¸€æ¬¡æœºä¼šï¼Œæˆ‘è¯éƒ½è¯´åˆ°è¿™ä¸ªä»½ä¸Šäº†ï¼Œå†ä¸çœ‹æºç åƒäºçš„å¯çœŸæ˜¯ä½ å“¦ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>AucFrame</category>
        <category>å·¥å…·ç±»</category>
      </categories>
      <tags>
        <tag>å·¥å…·ç±»</tag>
        <tag>AucFrame</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[EditText æœç´¢ä¼˜åŒ– | å®‰å“ offer æ”¶å‰²åŸº]]></title>
    <url>%2F2019%2F09%2F06%2Foptimize-edittext-search%2F</url>
    <content type="text"><![CDATA[æè¿°è®¾è®¡ä¸€ä¸ª EditText çš„æ–‡æœ¬ç›‘å¬å™¨ï¼Œåœæ­¢è¾“å…¥ 1s åï¼Œå¦‚æœæ–‡æœ¬å‘ç”Ÿå˜åŒ–åˆ™è§¦å‘ç›‘å¬å™¨ã€‚ ä¾‹å­ï¼šæ–‡æœ¬å†…å®¹æ˜¯ 111ï¼Œ111 -&gt; 1111 -&gt; 11111ï¼Œè¿ç»­è¾“å…¥éƒ½å°äº 1sï¼Œåœ¨è¾“å®Œåçš„ 1s è§¦å‘ç›‘å¬å™¨ä¸º 11111ï¼›æ–‡æœ¬å†…å®¹æ˜¯ 111ï¼Œ111 -&gt; 1111 -&gt; 111ï¼Œè¿ç»­è¾“å…¥éƒ½å°äº 1sï¼Œåœ¨è¾“å®Œåçš„ 1s ä¸è§¦å‘ç›‘å¬å™¨ï¼› ç±»ä¼¼å¾®ä¿¡çš„å®¢æˆ·ç«¯æœç´¢ï¼Œä¸åŒçš„æ˜¯å¾®ä¿¡åœ¨ 111 -&gt; 1111 -&gt; 111 æ˜¯ä¼šè§¦å‘æ”¹å˜çš„ã€‚ æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼Œæ³¨æ„è§‚å¯Ÿ title æ–‡æœ¬çš„æ”¹å˜ï¼š å‚è€ƒç­”æ¡ˆä»£ç å¾ˆç®€å•ï¼Œç»“åˆæ³¨é‡Šå‚è€ƒå³å¯ï¼Œå°åŠŸèƒ½ä»æ„æ€åˆ°ç¼–ç åˆ°å®Œæˆåˆ°ä¼˜åŒ–ï¼Œå…¶å®ä¹Ÿæ˜¯è¦èŠ±ä¸å°‘æ—¶é—´çš„ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°ä½ ä»¬å“ˆã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556public class SearchEditText extends EditText &#123; private static final long LIMIT = 1000; private OnTextChangedListener mListener; private String mStartText = "";// è®°å½•å¼€å§‹è¾“å…¥å‰çš„æ–‡æœ¬å†…å®¹ private Runnable mAction = new Runnable() &#123; @Override public void run() &#123; if (mListener != null) &#123; // åˆ¤æ–­æœ€ç»ˆå’Œå¼€å§‹å‰æ˜¯å¦ä¸€è‡´ if (!StringUtils.equals(mStartText, getText().toString())) &#123; mStartText = getText().toString();// æ›´æ–° mStartText mListener.onTextChanged(mStartText); &#125; &#125; &#125; &#125;; public SearchEditText(Context context) &#123; super(context); &#125; public SearchEditText(Context context, AttributeSet attrs) &#123; super(context, attrs); &#125; public SearchEditText(Context context, AttributeSet attrs, int defStyleAttr) &#123; super(context, attrs, defStyleAttr); &#125; /** * åœ¨ LIMIT æ—¶é—´å†…è¿ç»­è¾“å…¥ä¸è§¦å‘æ–‡æœ¬å˜åŒ– */ public void setOnTextChangedListener(OnTextChangedListener listener) &#123; mListener = listener; &#125; @Override protected void onTextChanged(final CharSequence text, int start, int lengthBefore, int lengthAfter) &#123; super.onTextChanged(text, start, lengthBefore, lengthAfter); // ç§»é™¤ä¸Šä¸€æ¬¡çš„å›è°ƒ removeCallbacks(mAction); postDelayed(mAction, LIMIT); &#125; @Override protected void onDetachedFromWindow() &#123; super.onDetachedFromWindow(); removeCallbacks(mAction); &#125; public interface OnTextChangedListener &#123; void onTextChanged(String text); &#125;&#125; ç»“è¯­æˆ‘æ­£åœ¨æ‰“é€ ä¸€ä¸ªå¸®åŠ© Android å¼€å‘è€…ä»¬æ‹¿åˆ°æ›´å¥½ offer çš„é¢è¯•åº“â€”â€”â€”â€”å®‰å“ offer æ”¶å‰²åŸºï¼Œæ¬¢è¿ starï¼Œè§‰å¾—ä¸é”™çš„å¯ä»¥æŒç»­å…³æ³¨ï¼Œæœ‰å…´è¶£çš„å¯ä»¥ä¸€èµ·åŠ å…¥è¿›æ¥å’Œæˆ‘ä¸€åŒæ‰“é€ ã€‚]]></content>
      <categories>
        <category>å®‰å“ offer æ”¶å‰²åŸº</category>
        <category>Android</category>
      </categories>
      <tags>
        <tag>ä¼˜åŒ–</tag>
        <tag>æœç´¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AucFrame ä¹‹ç»Ÿä¸€ç®¡ç† Gradle]]></title>
    <url>%2F2019%2F07%2F24%2Fauc-frame-manage-gradle%2F</url>
    <content type="text"><![CDATA[å‰è¨€AucFrame å¾€æœŸæ–‡ç« ï¼š AucFrame ä¹‹ç®€ä»‹åŠå­¦ä¹  AucFrame ä¹‹è®©ä½ çš„ Gradle æ›´æ™ºèƒ½ ã€ŒAucFrame ä¹‹ç»Ÿä¸€ç®¡ç† Gradleã€æºç ä¼ é€é—¨ ç®¡ç† lib çš„ Gradleé¦–å…ˆï¼Œæˆ‘ä»¬å†çœ‹ä¸€é AucFrame çš„æ¶æ„å›¾ã€‚ æˆ‘ä»¬ä»ä¸‹å¼€å§‹å¾€ä¸Šæ­å»ºï¼Œåœ¨æ ¹ç›®å½•åˆ›å»º lib æ–‡ä»¶å¤¹ï¼Œåœ¨é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ª Android Library ç±»å‹çš„ base moduleï¼Œç„¶ååˆ é™¤å…¶ä¸­çš„ base.imlï¼Œå› ä¸ºä¸åˆ é™¤ base.iml æ–‡ä»¶çš„è¯ä¼šå½±å“åç»­çš„ç§»åŠ¨ï¼ŒæŠŠ androidTest ä»¥åŠ test æµ‹è¯•ç›®å½•åˆ äº†ä¹Ÿæ²¡äº‹ï¼Œç„¶åæˆ‘ä»¬æŠŠ base æ–‡ä»¶å¤¹ç§»å…¥åˆ° lib ä¸­ï¼Œæœ€åæˆ‘ä»¬ä¿®æ”¹ setting.gradle æ–‡ä»¶ä¸­çš„ &#39;:base&#39; ä¸º :lib:baseï¼Œæœ€åç‚¹å‡» Gradle çš„åŒæ­¥å³å¯ï¼Œæœ€ç»ˆä¼šåœ¨ lib ä¸‹ç”Ÿæˆ lib.imlï¼Œbase ä¸‹ç”Ÿæˆ lib-base.iml è¡¨ç¤ºæˆåŠŸï¼Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š åŒæ ·çš„æ–¹å¼ï¼Œæˆ‘ä»¬åˆ›å»º :lib:commonï¼Œæ¥ä¸‹æ¥é…ç½®ä»–ä»¬çš„ä¾èµ–å…³ç³»ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ° base å’Œ common çš„ build.gralde ç®€ç›´ä¸€æ¯›ä¸€æ ·ï¼Œè¿™æ ·æˆ‘ä»¬æ˜¯å¦å¯ä»¥æŠŠä»–ä»¬éƒ½æŠ½å‡ºå»å‘¢ï¼Œç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º buildLib.gradle æ–‡ä»¶ï¼Œä»£è¡¨æ‰€æœ‰ lib ç±»å‹çš„æ¨¡å—éƒ½å¯ä»¥ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬æ”¾å…¥å…¬å…±å†…å®¹å³å¯ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526apply &#123; plugin "com.android.library" plugin "kotlin-android" plugin "kotlin-android-extensions"&#125;android &#123; compileSdkVersion Config.compileSdkVersion defaultConfig &#123; minSdkVersion Config.minSdkVersion versionCode Config.versionCode versionName Config.versionName &#125; buildTypes &#123; release &#123; minifyEnabled false proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro' &#125; &#125; lintOptions &#123; abortOnError false &#125;&#125; å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ°äº† Config.groovy ä¸­çš„å±æ€§ï¼Œè¿™æ ·æ–¹ä¾¿æ‰€æœ‰ lib çš„ç‰ˆæœ¬éƒ½ä¸€è‡´ï¼Œè¯´åˆ°ç‰ˆæœ¬ä¸€è‡´ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜è¦ç»Ÿä¸€ç¬¬ä¸‰æ–¹åº“çš„ä¾èµ–ï¼Œå¾ˆç®€å•ï¼Œæˆ‘ä»¬åœ¨ Config.groovy ä¸­åˆ›å»ºä¾èµ–åº“çš„é…ç½®ï¼Œå¦‚ä»Šå®ƒé•¿è¿™æ ·ï¼š 1234567891011121314151617181920212223242526272829303132333435363738class Config &#123; static applicationId = 'com.blankj.aucframe' // TODO: MODIFY static appName = 'AucFrame' // TODO: MODIFY static compileSdkVersion = 27 // TODO: MODIFY static minSdkVersion = 21 // TODO: MODIFY static targetSdkVersion = 27 // TODO: MODIFY static versionCode = 1_000_000 // TODO: MODIFY static versionName = '1.0.0'// E.g. 1.9.72 =&gt; 1,009,072 // TODO: MODIFY static kotlin_version = '1.3.10' static support_version = '27.1.1' static leakcanary_version = '1.6.3' static depConfig = [ plugin : [ gradle: "com.android.tools.build:gradle:3.3.0", kotlin: "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version", ], support : [ appcompat_v7: "com.android.support:appcompat-v7:$support_version", design : "com.android.support:design:$support_version", multidex : "com.android.support:multidex:1.0.2", constraint : "com.android.support.constraint:constraint-layout:1.1.3", ], kotlin : "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version", utilcode : "com.blankj:utilcode:1.25.0", free_proguard: "com.blankj:free-proguard:1.0.1", swipe_panel : "com.blankj:swipe-panel:1.1", leakcanary : [ android : "com.squareup.leakcanary:leakcanary-android:$leakcanary_version", android_no_op : "com.squareup.leakcanary:leakcanary-android-no-op:$leakcanary_version", support_fragment: "com.squareup.leakcanary:leakcanary-support-fragment:$leakcanary_version", ], ]&#125; æ¥ä¸‹æ¥å°±æ˜¯è®© base å’Œ common åº”ç”¨å®ƒä»¬äº†ï¼Œæˆ‘ä»¬å¾€ base çš„ build.gradle å†™å…¥å¦‚ä¸‹å®Œæ•´å†…å®¹ï¼š 1234567891011121314151617apply &#123; from "$&#123;project.rootDir.path&#125;/buildLib.gradle"&#125;dependencies &#123; implementation fileTree(include: ['*.jar'], dir: 'libs') api Config.depConfig.utilcode api Config.depConfig.free_proguard api Config.depConfig.swipe_panel api Config.depConfig.support.appcompat_v7 api Config.depConfig.support.design api Config.depConfig.support.multidex api Config.depConfig.support.constraint api Config.depConfig.kotlin compileOnly Config.depConfig.leakcanary.android_no_op.dep&#125; ç”±äºæˆ‘ä»¬ common æ¨¡å—æ˜¯ä¾èµ– base çš„ï¼Œæ‰€ä»¥ common çš„é…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567apply &#123; from "$&#123;project.rootDir.path&#125;/buildLib.gradle"&#125;dependencies &#123; api project(":lib:base")&#125; å†™å…¥çš„å†…å®¹éƒ½æ¯”è¾ƒç®€å•ï¼Œæˆ‘å°±ä¸ä¸€ä¸€è§£é‡Šäº†ï¼Œä¸‹é¢æˆ‘ä»¬æ¥ç®¡ç† featureã€‚ ç°åœ¨æˆ‘ä»¬å¾€ base æ¨¡å—æ”¾ä¸¤ä¸ªåŸºç¡€ç±» â€”â€”â€”â€” BaseApplication å’Œ BaseActivityï¼Œåœ¨ common ä¸­æ”¾å…¥ä¸¤ä¸ªå…¬å…±ç±» â€”â€”â€”â€” CommonApplication å’Œ CommonBackActivity ä»¥åŠä¸€äº›å…¬å…±èµ„æºï¼Œå…·ä½“è¯·æŸ¥é˜…æºç ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬æ¥ç®¡ç† fratureã€‚ ç®¡ç† feature çš„ Gradleç®¡ç† export çš„ Gradleå†çœ‹ä¸€éæ¶æ„å›¾ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç° feature ä¸­æ¯ä¸ª feature ä¸­éƒ½å­˜æœ‰ appã€pkgï¼ˆã€exportï¼‰ æ¨¡å—ï¼Œæˆ‘ä»¬è‡ªåº•å‘ä¸Šæ¥ä¸€æ­¥æ­¥æ“ä½œï¼Œç°åœ¨æˆ‘ä»¬åœ¨æ ¹ç›®å½•åˆ›å»º feature ç›®å½•ï¼Œåœ¨ feature ç›®å½•ä¸‹åˆ›å»º feature0 åŠ feature1 ç›®å½•ï¼Œå’Œåˆ›å»º base ç±»ä¼¼ï¼Œæˆ‘ä»¬åœ¨ feature0 å’Œ feature1 ä¸­åˆ›å»º export æ¨¡å—ï¼Œæ³¨æ„ä¸¤ä¸ª feature ä¸­çš„ export åŒ…åè¦åŒºåˆ†å¼€ï¼Œæˆ‘è¿™é‡Œåˆ†åˆ«æ˜¯ com.blankj.feature0.exportã€com.blankj.feature1.exportï¼Œå»ºç«‹å®Œä¹‹åçš„ setting.gradle æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š 12include ':app', ':lib:base', ':lib:common', ':feature:feature0:export', ':feature:feature1:export', ç”±äº export æ˜¯ä¾èµ– common çš„ï¼Œæ‰€ä»¥ä¸¤ä¸ª export çš„ build.gradle å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567apply &#123; from "$&#123;project.rootDir.path&#125;/buildLib.gradle"&#125;dependencies &#123; api project(":lib:common")&#125; ç°åœ¨æˆ‘ä»¬ gradle åŒæ­¥ä¸€ä¸‹ï¼Œå¯ä»¥å‘ç°ä¸¤ä¸ª export å·²ç»è¢«æ·»åŠ è¿›æ¥äº†ã€‚ ç®¡ç† pkg çš„ Gradleæˆ‘ä»¬ä»¥ç›¸åŒçš„æ–¹å¼åˆ›å»ºä¸¤ä¸ª pkgï¼ŒåŒ…ååˆ†åˆ«æ˜¯ com.blankj.feature0.pkgã€com.blankj.feature1.pkgï¼Œå»ºç«‹å®Œåçš„ setting.gradle æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š 123include ':app', ':lib:base', ':lib:common', ':feature:feature0:export', ':feature:feature1:export', ':feature:feature0:pkg', ':feature:feature1:pkg' pkg æˆ‘ä»¬æš‚æ—¶åªä¾èµ–å„è‡ªçš„ exportï¼Œåé¢æˆ‘ä»¬ä¼šå†æ”¹æˆå…¨é‡ä¾èµ– exportï¼Œæ‰€ä»¥ :feature:feature0:pkg çš„ build.gradle å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567apply &#123; from "$&#123;project.rootDir.path&#125;/buildLib.gradle"&#125;dependencies &#123; api project(":feature:feature0:export")&#125; :feature:feature1:pkg çš„ build.gradle åŒç†ã€‚ gradle åŒæ­¥ä¸€ä¸‹ï¼Œå¯ä»¥å‘ç°ä¸¤ä¸ª pkg å·²ç»è¢«æ·»åŠ è¿›æ¥äº†ï¼Œç°åœ¨æˆ‘ä»¬åœ¨ :feature:feature0:pkg ä¸­æ·»åŠ ä¸€ä¸ª Feature0Activityï¼Œä»¥åŠåœ¨ :feature:feature1:pkg ä¸­æ·»åŠ ä¸€ä¸ª Feature1Activityï¼Œå…·ä½“è¯·å‚çœ‹æºç ã€‚ ç®¡ç† app çš„ Gradlepkg ä¸Šå±‚å°±æ˜¯ mock å±‚äº†ï¼Œå› ä¸ºè¿™å±‚æ˜¯å¯é€‰çš„ï¼Œæˆ‘ä»¬æš‚æ—¶å…ˆè·³è¿‡ï¼Œåé¢æˆ‘ä»¬ç”¨åˆ°çš„æ—¶å€™å†æ¥æå®šå®ƒï¼Œé‚£ä¹ˆç°åœ¨å°±åªå‰©ä¸‹å„ä¸ª app äº†ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬åˆ©ç”¨ç±»ä¼¼å’Œ buildLib.gradle ç›¸ä¼¼çš„æ–¹å¼ï¼Œåœ¨æ ¹ç›®å½•åˆ›å»ºå…¬å…±çš„ buildApp.gradle æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051apply &#123; plugin "com.android.application" plugin "kotlin-android" plugin "kotlin-android-extensions"&#125;android &#123; defaultConfig &#123; minSdkVersion Config.minSdkVersion versionCode Config.versionCode versionName Config.versionName applicationId Config.applicationId + suffix targetSdkVersion Config.targetSdkVersion multiDexEnabled true resValue "string", "app_name", Config.appName + suffix &#125; buildTypes &#123; debug &#123; minifyEnabled false proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' &#125; release &#123; minifyEnabled true proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' &#125; &#125; packagingOptions &#123; exclude 'META-INF/*' &#125; dexOptions &#123; preDexLibraries true javaMaxHeapSize "8g" maxProcessCount 8 dexInProcess = true &#125;&#125;dependencies &#123; // LeakCanary debugImplementation Config.depConfig.leakcanary.android debugImplementation Config.depConfig.leakcanary.support_fragment releaseImplementation Config.depConfig.leakcanary.android_no_op&#125;def getSuffix() &#123; if (project.path == ":feature:launcher:app") return "" return project.path.replace(":", "_").substring(":feature".length(), project.path.length() - ":app".length())&#125; è¿™æ ·æˆ‘ä»¬åœ¨æ¯ä¸ª app ä¸­çš„ build.gradle éƒ½å¯ä»¥ä½¿ç”¨è¿™äº›å…¬å…±å±æ€§ï¼Œç»†å¿ƒçš„æœ‹å‹åº”è¯¥å¯ä»¥çœ‹åˆ°æˆ‘è¿™è¾¹é™¤äº† launcher ä»¥å¤–ï¼Œæ¯ä¸ª applicationId éƒ½æ˜¯éƒ½æ˜¯å¸¦æœ‰ feature çš„æ¨¡å—ååç¼€çš„ï¼Œå…·ä½“æ–¹æ³•å°±æ˜¯ getSuffix()ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨æ‰‹æœºä¸ŠåŒæ—¶è£…å¤šä¸ªåº”ç”¨ã€‚ æˆ‘ä»¬å…ˆåˆ é™¤æ ¹ç›®å½•ä¸‹çš„ app ç›®å½•ï¼Œåœ¨ feature0 å’Œ feature1 ä¸­ä»¥ç›¸åŒçš„æ–¹å¼åˆ›å»ºä¸¤ä¸ª appï¼ŒåŒ…ååˆ†åˆ«æ˜¯ com.blankj.feature0.appã€com.blankj.feature1.appï¼Œå»ºç«‹å®Œåçš„ setting.gradle æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š 1234include ':lib:base', ':lib:common', ':feature:feature0:export', ':feature:feature1:export', ':feature:feature0:pkg', ':feature:feature1:pkg', ':feature:feature0:app', ':feature:feature1:app' app æ˜¯åªä¾èµ–å„è‡ªçš„ pkgï¼Œæ‰€ä»¥ :feature:feature0:app çš„ build.gradle å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567apply &#123; from "$&#123;project.rootDir.path&#125;/buildApp.gradle"&#125;dependencies &#123; api project(":feature:feature0:pkg")&#125; :feature:feature1:app çš„ build.gradle åŒç†ã€‚ åŒæ­¥ä¸€ä¸‹é¡¹ç›®å¯ä»¥å‘ç°ä¸¤ä¸ª app ä¹Ÿè¢«ç¼–è¯‘åˆ°äº†é¡¹ç›®ä¸­ï¼Œåœ¨å¯è¿è¡Œ app åˆ—è¡¨ä¸­å·²ç»æœ‰äº† feature0-app å’Œ feature1-appï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ç°åœ¨æˆ‘ä»¬åœ¨ :feature:feature0:app ä¸­æ·»åŠ ä¸€ä¸ª Feature0Appï¼Œä»¥åŠåœ¨ :feature:feature1:app ä¸­æ·»åŠ ä¸€ä¸ª Feature1Appï¼Œå…·ä½“è¯·å‚çœ‹æºç ï¼Œç„¶åæŠŠè®¾ç½®å„è‡ªçš„ AndroidManifest.xmlï¼Œæˆ‘è¿™é‡Œä»¥ :feature:feature0:app ä¸­çš„ä¸ºä¾‹ï¼š 123456789101112131415161718192021&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android" package="com.blankj.feature0.app"&gt; &lt;application android:name="com.blankj.feature0.app.Feature0App" android:allowBackup="false" android:icon="@mipmap/ic_launcher" android:label="@string/app_name" android:theme="@style/AppTheme"&gt; &lt;activity android:name="com.blankj.feature0.pkg.Feature0Activity"&gt; &lt;intent-filter&gt; &lt;action android:name="android.intent.action.VIEW" /&gt; &lt;action android:name="android.intent.action.MAIN" /&gt; &lt;category android:name="android.intent.category.LAUNCHER" /&gt; &lt;/intent-filter&gt; &lt;/activity&gt; &lt;/application&gt;&lt;/manifest&gt; å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬åŠ å…¥äº† Feature0Activity ä½œä¸ºå¯åŠ¨é¡µï¼Œè¿™æ ·ä¾¿å¯å¿«é€Ÿè°ƒè¯•å®ƒï¼ŒåŒç†ï¼Œ:feature:feature1:app çš„ AndroidManifest.xml ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¾¿å¯å•ç‹¬è¿è¡Œä¸€ä¸‹å®ƒä»¬äº†ï¼Œç”±äºä»–ä»¬çš„ applicationId æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥ä¸¤è€…å¯ä»¥åŒæ—¶å®‰è£…ã€‚ ä¸‹é¢ï¼Œæˆ‘ä»¬å’Œä¹‹å‰ä¸Šè¿°ä¸€æ ·çš„æ–¹å¼æ¥åˆ›å»ºæœ€é¡¶å±‚çš„ :feature:launcher:app æ¨¡å—ï¼Œç›®å‰æˆ‘ä»¬è®©å®ƒä¾èµ– :feature:feature0:pkg å’Œ :feature:feature1:pkg æ¨¡å—ï¼Œåç»­æˆ‘ä»¬ä¼šè®©å®ƒæ”¯æŒåŠ¨æ€åŒ–é…ç½®ï¼Œå…¶ build.gradle å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678apply &#123; from "$&#123;project.rootDir.path&#125;/buildApp.gradle"&#125;dependencies &#123; api project(":feature:feature0:pkg") api project(":feature:feature1:pkg")&#125; æŠŠå…¶åŠ å…¥åˆ° setting.gradle ä¸­ï¼ŒåŒæ­¥ä¸€ä¸‹ gradleï¼Œä¼šå‘ç°å¯è¿è¡Œ app ä¸­å¤šäº†ä¸ª launcher-appï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª LauncherAppï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾ app çš„å…¥å£å°±åœ¨ feature0 ä¸­ï¼Œæ•…é…ç½® :feature:launcher:app ä¸­çš„ AndroidManifest.xml å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android" package="com.blankj.feature0.app"&gt; &lt;application android:name="com.blankj.feature0.app.Feature0App" android:allowBackup="false" android:icon="@mipmap/ic_launcher" android:label="@string/app_name" android:theme="@style/AppTheme"&gt; &lt;activity android:name="com.blankj.feature0.pkg.Feature0Activity"&gt; &lt;intent-filter&gt; &lt;action android:name="android.intent.action.VIEW" /&gt; &lt;action android:name="android.intent.action.MAIN" /&gt; &lt;category android:name="android.intent.category.LAUNCHER" /&gt; &lt;/intent-filter&gt; &lt;/activity&gt; &lt;/application&gt;&lt;/manifest&gt; æˆ‘ä»¬æŠŠä¸‰ä¸ªåº”ç”¨éƒ½è£…åˆ°æ‰‹æœºä¸Šï¼Œåº”ç”¨ååˆ†åˆ«ä¸º AucFrameã€AucFrame_feature0ã€AucFrame_featrue1ï¼Œåˆ°æ­¤ï¼Œæˆ‘ä»¬ç»Ÿä¸€ç®¡ç† Gradle å·²ç»“æŸã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>AucFrame</category>
      </categories>
      <tags>
        <tag>AucFrame</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AucFrame ä¹‹è®©ä½ çš„ Gradle æ›´æ™ºèƒ½]]></title>
    <url>%2F2019%2F07%2F23%2Fauc-frame-smart-gradle%2F</url>
    <content type="text"><![CDATA[å‰è¨€ä¸äº†è§£ä»€ä¹ˆæ˜¯ AucFrame çš„å¯ä»¥å…ˆçœ‹ä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼šAucFrame ä¹‹ç®€ä»‹åŠå­¦ä¹  ç¯å¢ƒé¦–å…ˆæ¥æ˜ç¡®ä¸‹å¼€å‘ç¯å¢ƒï¼Œè¿™é‡Œæ¨èä½¿ç”¨ Android Studio 3.5-Beta4 åŠä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œ3.3.x å’Œ 3.4.x ä¹Ÿéƒ½æ˜¯å¯ä»¥çš„ï¼Œåªæ˜¯æ²¡æœ‰æ™ºèƒ½æç¤ºï¼Œ3.2.x åŠä»¥ä¸‹ç‰ˆæœ¬çš„è¯å°±ä¸æ¨èä½¿ç”¨äº†ï¼Œå¦åˆ™åé¢çš„è¯¾ç¨‹å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚ èƒŒæ™¯å¦‚æœä½ å¼€å‘è¿‡ç¨å¾®å¤§å‹ç‚¹çš„é¡¹ç›®ï¼Œé¡¹ç›®ä¸­è‚¯å®šä¼šå­˜æœ‰å¤šä¸ª moduleï¼Œé‚£ä¹ˆå¤šä¸ª gradle çš„ç®¡ç†ä¾¿æˆäº†é—®é¢˜ï¼Œæ›¾ç»æˆ‘ä¹Ÿåˆ†äº«è¿‡ Android å¼€å‘ä¹‹ç‰ˆæœ¬ç»Ÿä¸€è§„èŒƒ è¿™æ ·çš„ ext ç®¡ç†æ–¹å¼ï¼Œä½†åœ¨ gradle ä¸­æ²¡æœ‰æ™ºèƒ½æç¤ºï¼Œä¹Ÿä¸èƒ½è·³è½¬åˆ°è¿™äº›å˜é‡ï¼Œå±€é™æ€§å¤ªé«˜æ˜¯ä¸ªç¡¬ä¼¤ï¼Œé‚£ä¹ˆç°åœ¨æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œå°±æ˜¯åˆ©ç”¨ buildSrc æ¥æ›´å¥½åœ°ç®¡ç† Gradleã€‚ è§£å†³æ–¹æ¡ˆé¦–å…ˆå£°æ˜ä¸‹ï¼Œè¯¥æ–¹å¼åœ¨ AS çš„ 3.3.x ç‰ˆæœ¬ä»¥åŠ 3.4.x ç‰ˆæœ¬æ˜¯ä¸èƒ½æä¾›æ™ºèƒ½æç¤ºï¼Œæ¨èä½¿ç”¨ 3.5-Beta4 åŠä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œç›¸å…³ bug åœ°å€ä¼ é€é—¨ï¼šhttps://issuetracker.google.com/issues/123032843ï¼Œä»ä¿®å¤ bug è¿™é‡Œå¯ä»¥çœ‹å‡º AS å›¢é˜Ÿä¹Ÿæ˜¯èµæˆä½¿ç”¨çš„ï¼Œæœ€æ–°çš„ 3.5 æ­£å¼ç‰ˆç›¸ä¿¡é©¬ä¸Šå°±ä¼šåˆ°æ¥äº†ï¼Œæˆ‘å¦‚ä»Šä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯ 3.5-Beta5 ç‰ˆæœ¬ï¼Œä¸€åˆ‡å¦‚æ–¯é¡ºç•…ï¼Œæ•ˆæœå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š é‚£ä¹ˆå…·ä½“æ€ä¹ˆæ“ä½œå‘¢ï¼Œç°åœ¨æ¥æ­æ™“å…¶çœŸé¢ç›®ï¼Œå†™è¿‡æ’ä»¶çš„è‚¯å®šçŸ¥é“ buildSrc è¿™ä¸ªç›®å½•ï¼Œè¿™ä¸ªç›®å½•å­˜åœ¨äºé¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œå°±æ˜¯ AucFrameTemplate/buildSrcï¼Œæé†’ä¸€ä¸‹ï¼Œè¿™ä¸ªæ˜¯è¦è‡ªå·±åˆ›å»ºçš„å“¦ï¼Œå®ƒé»˜è®¤æ˜¯ç›´æ¥ä¼šå‚ä¸ç¼–è¯‘ï¼Œæ‰€ä»¥ä¸ç”¨åŠ å…¥åˆ° setting.gradle ä¸­ï¼Œå…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸‹é¢æˆ‘ä»¬è‡ªå·±æ¥å»ºç«‹å®ƒï¼Œé¦–å…ˆæ˜¯ .gitignoreï¼Œè¿™ä¸ªæ–‡ä»¶æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå†…å®¹å°±æ˜¯ /buildã€‚ å…¶ build.gradle æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415repositories &#123; google() jcenter()&#125;apply &#123; plugin 'groovy' plugin 'java-gradle-plugin'&#125;dependencies &#123; implementation gradleApi() implementation localGroovy() implementation "commons-io:commons-io:2.6"&#125; åŠ å®Œè¿™ä¸¤æ–‡ä»¶å sync ä¸‹é¡¹ç›®åä¾¿å¯ä»¥çœ‹åˆ° buildSrc ç›®å½•ä¸‹ç”Ÿæˆäº† buildSrc.imlï¼Œè¿™å°±ä»£è¡¨ buildSrc å·²ç»å‚ä¸åˆ°é¡¹ç›®ç¼–è¯‘ä¸­äº†ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ buildSrc/src/main/groovy ä¸­åˆ›å»º Config.groovy æ–‡ä»¶ï¼Œå‘å…¶ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼ˆæ ¹æ®é¡¹ç›®è‡ªå·±ä¿®æ”¹ï¼‰ï¼š 1234567891011class Config &#123; static applicationId = 'com.blankj.aucframe' // TODO: MODIFY static appName = 'AucFrame' // TODO: MODIFY static compileSdkVersion = 27 // TODO: MODIFY static minSdkVersion = 21 // TODO: MODIFY static targetSdkVersion = 27 // TODO: MODIFY static versionCode = 1_000_000 // TODO: MODIFY static versionName = '1.0.0'// E.g. 1.9.72 =&gt; 1,009,072 // TODO: MODIFY&#125; å†™å®Œåæˆ‘ä»¬å†åŒæ­¥ä¸€ä¸‹é¡¹ç›®ï¼Œç°åœ¨ä½ å¯ä»¥è·³è½¬åˆ° app ä¸­çš„ build.gradle ä¸­ï¼Œè®¾ç½®ä½ æ‰€éœ€è¦è®¾ç½®çš„å±æ€§å³å¯ï¼Œå¯è®¾ç½®æˆå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910android &#123; compileSdkVersion Config.compileSdkVersion defaultConfig &#123; minSdkVersion Config.minSdkVersion versionCode Config.versionCode versionName Config.versionName applicationId Config.applicationId targetSdkVersion Config.targetSdkVersion &#125;&#125; ä½ ä¼šå‘ç°åœ¨è¾“å…¥è¿‡ç¨‹ä¸­æ˜¯æ”¯æŒæ™ºèƒ½æç¤ºçš„ï¼Œä¹Ÿå¯ä»¥æ”¯æŒè·³è½¬ï¼Œå¦‚ä¸Šåªæ˜¯åŸºæœ¬çš„æ“ä½œï¼Œæ„£ç€å¹²å˜›å•Šï¼Œèµ¶ç´§æ‰£ 6 å§ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åšæ›´åˆºæ¿€çš„æ“ä½œã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>AucFrame</category>
      </categories>
      <tags>
        <tag>AucFrame</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AucFrame ä¹‹ç®€ä»‹åŠå­¦ä¹ ]]></title>
    <url>%2F2019%2F07%2F22%2Fauc-frame%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹é¦–å…ˆï¼Œä»€ä¹ˆæ˜¯ AUC å‘¢ï¼Ÿåœ¨ QQ ç¾¤é‡Œçš„å°ä¼™ä¼´ä»¬åº”è¯¥çŸ¥é“è¿™ä¸ªè¯ï¼Œæˆ–è€…çŸ¥é“æˆ‘çš„å·¥å…·ç±»çš„ä¹Ÿåº”è¯¥èƒ½çŒœåˆ°æ˜¯ä»€ä¹ˆï¼Œæ²¡é”™ï¼ŒAUC å…¨ç§°å°±æ˜¯ AndroidUtilCodeï¼Œè¿™ä¸ªé¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸå·²é•¿è¾¾ 3 å¹´ä¹‹ä¹…ï¼Œstar æ•°ç›®å‰æ˜¯ 24k+ï¼Œåº”è¯¥ç®—æ˜¯æ¯”è¾ƒæˆåŠŸçš„ä¸€ä¸ªå¼€æºé¡¹ç›®äº†ï¼ŒåŸºäºå®ƒï¼Œæˆ‘æ‰“é€ äº†ä¸€å¥—è‡ªè®¤ä¸ºè¿˜ä¸é”™çš„ç»„ä»¶åŒ–æ¶æ„ â€”â€”â€”â€” AucFrameï¼Œå…¶ä¼˜ç‚¹å¦‚ä¸‹æ‰€ç¤ºï¼š ç»Ÿä¸€ç®¡ç†é¡¹ç›®ä¸­çš„ Gradle è‡ªç”±é€‰æ‹©è°ƒè¯•æ¨¡å— è‡ªç”±é€‰æ‹©éœ€è¦çš„åŒ… è‡ªç”±åˆ‡æ¢æºç å’Œè¿œç¨‹ä»“åº“ ä¸šåŠ¡æ¨¡å—äº’ä¸ä¾èµ–ï¼Œå®Œå…¨è§£å¶ æ¨¡å—é—´é€šè®¯ä¸€å­¦å°±ä¼š æ¯” EventBus æ›´é«˜æ•ˆçš„æ¨¡å—å†…é€šè®¯ æ¥ä¸‹æ¥å°±è®©æˆ‘ä»¬æ¥ä¸€ä¸€æ­å¼€ä»–çš„ç¥ç§˜é¢çº±ã€‚ é¢„è§ˆæ¶æ„ä¹ˆï¼Œè‚¯å®šè¦å¼€é—¨è§å±±ï¼Œç›´æ¥ä¸Šå›¾ï¼Œä¸ç„¶è¯´çš„å†å¤©èŠ±ä¹±å ä¹Ÿæ— æµäºäº‹ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ no picture you say a j8ï¼ŒAucFrame çš„æ¶æ„å¦‚ä¸‹æ‰€ç¤ºï¼š å…¶é¡¹ç›®ä¸­å…·ä½“çš„å·¥ç¨‹ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š123456789101112131415161718192021â””â”€â”€ AndroidUtilCode â”œâ”€â”€ feature â”‚ â”œâ”€â”€ launcher â”‚ â”‚ â””â”€â”€ app â”‚ â”œâ”€â”€ main â”‚ â”‚ â”œâ”€â”€ app â”‚ â”‚ â””â”€â”€ pkg â”‚ â”œâ”€â”€ mock â”‚ â”œâ”€â”€ subutil â”‚ â”‚ â”œâ”€â”€ app â”‚ â”‚ â”œâ”€â”€ export â”‚ â”‚ â””â”€â”€ pkg â”‚ â””â”€â”€ utilcode â”‚ â”œâ”€â”€ app â”‚ â”œâ”€â”€ export â”‚ â””â”€â”€ pkg â””â”€â”€ lib â”œâ”€â”€ base â”œâ”€â”€ common â”œâ”€â”€ subutil â””â”€â”€ utilcode åŸºäºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡å‡ºå¦‚ä¸‹é€šç”¨æ¶æ„ï¼š å…¶å·¥ç¨‹ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š123456789101112131415161718â””â”€â”€ ProjectName â”œâ”€â”€ feature â”‚ â”œâ”€â”€ launcher â”‚ â”‚ â””â”€â”€ app â”‚ â”œâ”€â”€ feature0 â”‚ â”‚ â”œâ”€â”€ app â”‚ â”‚ â”œâ”€â”€ export â”‚ â”‚ â””â”€â”€ pkg â”‚ â”œâ”€â”€ feature1 â”‚ â”‚ â”œâ”€â”€ app â”‚ â”‚ â”œâ”€â”€ export â”‚ â”‚ â””â”€â”€ pkg â”‚ â””â”€â”€ mock â””â”€â”€ lib â”œâ”€â”€ base â”œâ”€â”€ common â”œâ”€â”€ rxjava â””â”€â”€ utilcode å¯¹ç€æ¶æ„å›¾ä¹Ÿè®¸ä½ ä¹Ÿèƒ½æ’¸å‡ºæ¥ä¸€ä¸ªï¼Œä½†å…¶ä¼˜é›…ç¨‹åº¦è‚¯å®šä¸åŠæˆ‘æ’¸çš„ï¼Œå…·ä½“å¦‚ä½•ä¼˜é›…ï¼Ÿæœ€ç›´æ¥çš„å°±æ˜¯ feature ä¸‹çš„æ‰€æœ‰æ¨¡å—çš„ build.gradle éƒ½æ˜¯ç©ºç©ºå¦‚ä¹Ÿï¼Œæ²¡æœ‰ä¸€è¡Œä»£ç ï¼Œç”šè‡³åˆ äº†ä¹Ÿæ— æ‰€è°“ï¼Œä¹Ÿå°±ä¸éœ€è¦ä½ å†™å“ªä¸ªæ¨¡å—å…·ä½“éœ€è¦ä¾èµ–ä»€ä¹ˆï¼Œä½†ç¡®åˆ‡çš„ä¾èµ–å…³ç³»ï¼Œå°±æ˜¯æ¶æ„ä¸­æ‰€ç¤ºï¼Œå¼€å‘è€…å¯è‡ªç”±é…ç½®æƒ³è¦è¿è¡Œå“ªä¸ª appï¼Œè‡ªç”±é…ç½®ä½ æ‰€éœ€è¦çš„ pkgï¼Œåšåˆ°å„ä¸šåŠ¡å¯å®Œå…¨ç‹¬ç«‹è¿è¡Œï¼Œä¸‹é¢å°±è®©æˆ‘å¸¦é¢†ä½ å¦‚ä½•ä¼˜é›…åœ°æ’¸å‡ºå®ƒæ¥ã€‚ å­¦ä¹ è¯¥æ•™ç¨‹é€‚åˆæœŸæœ›èƒ½ä¼˜åŒ–è‡ªå·±å·¥ç¨‹æ¶æ„çš„ä¸­é«˜çº§å¼€å‘äººå‘˜ï¼Œæ–°æ‰‹çš„è¯å»ºè®®æŠŠ Gradle æ‘¸æ¸…æ¥šäº†å†æ¥å­¦ä¹ å³å¯ï¼Œä¸ºäº†ä½ æ›´å¥½æ›´å…¨é¢åœ°äº†è§£åŠæŒæ¡ AucFrameï¼Œåœ¨è¿™é‡Œæˆ‘ä¼šä¸€æ­¥æ­¥åœ°æ­å»ºä¸€ä¸ªæ¨¡æ¿å·¥ç¨‹ï¼šAucFrameTemplateï¼Œå¹¶æ•™ä½ å¦‚ä½•æ­å»ºå‡ºè¯¥æ¶æ„åŠèƒŒåçš„åŸç†ï¼Œæ–¹ä¾¿ä½ å¯ä»¥è¿ç”¨åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼Œæˆ–è€…åœ¨ä¸‹ä¸ªé¡¹ç›®ä¸­å¿«é€Ÿä½¿ç”¨ï¼Œç›¸å…³è¯¾ç¨‹åˆ—è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼š AucFrame ä¹‹ç®€ä»‹åŠå­¦ä¹ ï¼ˆå°±æ˜¯æœ¬èŠ‚ï¼‰ AucFrame ä¹‹è®©ä½ çš„ Gradle æ›´æ™ºèƒ½ AucFrame ä¹‹ç»Ÿä¸€ç®¡ç† Gradle AucFrame ä¹‹è§£æ”¾ Gradle AucFrame ä¹‹æ¨¡å—é—´é€šä¿¡ AucFrame ä¹‹æ¨¡å—å†…é€šä¿¡]]></content>
      <categories>
        <category>Android</category>
        <category>AucFrame</category>
      </categories>
      <tags>
        <tag>AucFrame</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¯” EventBus æ›´é«˜æ•ˆçš„äº‹ä»¶æ€»çº¿ï¼ˆBusUtilsï¼‰]]></title>
    <url>%2F2019%2F07%2F22%2Fbusutils%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯è®¾è®¡è¿™ä¸ª BusUtils å…¶å®æ˜¯åœ¨åš ApiUtils æ—¶é¡ºæ‰‹åšçš„ï¼Œå› ä¸ºä¸¤è€…å®ç°æ–¹å¼åŸºæœ¬ä¸€è‡´ï¼Œè®¾è®¡å‰æˆ‘ä¹Ÿæ²¡æƒ³ç€è¦å’Œ greenrobot çš„ EventBus ä¸€è¾ƒé«˜ä½ï¼Œä½†è®¾è®¡å®Œæ€»éœ€è¦ä¸€ä¸ªå¯¹æ¯”ï¼Œæ‰€ä»¥å°±æ‹¿ä¸šç•Œæœ€ä¼˜ç§€çš„äº‹ä»¶æ€»çº¿ EventBus æ¯”è¾ƒä¸€ä¸‹å§ï¼Œç„¶åå°±å‘ç°æˆ‘è¿™åŒºåŒº 300 è¡Œä¸åˆ°çš„ BusUtils æ€§èƒ½æ¯” EventBus è¦é«˜å‡ºå¥½å¤šï¼Œå½“ç„¶ï¼Œè¿™ä¸€åˆ‡çš„å‰æéƒ½æ˜¯åœ¨ BusUtils æ˜¯åˆ‡å®å¯ç”¨å¹¶ä¸”æœ‰æ•ˆçš„ï¼Œå®ƒä¹Ÿæ˜¯ä¸€æ¬¾çº¿ç¨‹å®‰å…¨çš„äº‹ä»¶æ€»çº¿ï¼Œè¿™äº›æˆ‘éƒ½åœ¨å•æµ‹ä¸­æœ‰åšè¿‡å®é™…æµ‹è¯•çš„ï¼Œä¸å¹ä¸æ“‚ï¼Œåé¢æˆ‘ä»¬æ‹¿æ•°æ®è¯´è¯ï¼Œæœ‰å°ä¼™ä¼´ä¸ç›¸ä¿¡çš„è¯ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹è½½æˆ‘çš„æºç æ¥æ¯”è¾ƒå³å¯ï¼Œå•æµ‹åœ°å€ï¼šBusUtilsVsEventBusTestï¼ŒAndroid æµ‹è¯•åœ°å€ï¼šBusCompareActivityï¼ŒBusUtils åœ¨ AucFrame ä¸­çš„ä½œç”¨å°±æ˜¯æ¨¡å—å†…ä¼ å€¼ï¼Œå…¶æ‰®æ¼”çš„è§’è‰²å¦‚ä¸‹æ‰€ç¤ºï¼š ä¸‹é¢ä»‹ç»å…¶ä½¿ç”¨ï¼š ä½¿ç”¨é…ç½®åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ build.gradle ä¸­æ·»åŠ  bus æ’ä»¶ï¼š 123456buildscript &#123; dependencies &#123; ... classpath 'com.blankj:bus-gradle-plugin:latest_version' &#125;&#125; ç„¶ååœ¨ application æ¨¡å—ä¸­ä½¿ç”¨è¯¥æ’ä»¶ï¼š 1apply plugin: "com.blankj.bus" ç»™ä½ çš„é¡¹ç›®æ·»åŠ  AndroidUtilCode ä¾èµ–ï¼š 1api "com.blankj:utilcode:latest_version å¦‚æœä½ å•çº¯åªæƒ³å¼•å…¥ BusUtils ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œéœ€è¦ä½ è‡ªå·±æ‹·è´ä¸€ä»½è¿™ä¸ªç±»æ”¾åˆ°ä½ å·¥ç¨‹é‡Œï¼Œè®°å¾—è¿˜è¦æ‹·è´ ThreadUtils å“¦ï¼Œç„¶ååœ¨ app ä¸‹çš„ build.gradle ä¸­ é…ç½® bus çš„ DSL åŸŸå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567bus &#123; busUtilsClass "com.xxx.xxx.BusUtils"&#125;android &#123; ...&#125; å¯ä»¥çŒœæµ‹åˆ°é»˜è®¤çš„ busUtilsClass ä¸º com.blankj.utilcode.util.BusUtils å“ˆã€‚ å¦‚æœå¼€å¯æ··æ·†çš„è¯è¿˜éœ€è¦é…ç½®ä½ çš„ BusUtils ä¸­æ³¨è§£æ–¹æ³•çš„é˜²æ··æ·†ï¼Œå¦‚æœç›´æ¥ç”¨ AndroidUtilCode çš„è¯æ˜¯ä¸éœ€è¦ä½ é…ç½®çš„ï¼Œæˆ‘å·²ç»å¸®ä½ åšå®Œäº†ï¼Œé…ç½®ä½ è‡ªå·±çš„ BusUtils é˜²æ··æ·†åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š 1234-keepattributes *Annotation*-keepclassmembers class * &#123; @com.xxx.xxx.BusUtils$Bus &lt;methods&gt;;&#125; å½“ç„¶ï¼Œå¦‚æœä½ é¡¹ç›®æ˜¯å¼€å¯æ··æ·†çš„è¯ï¼Œå…¨é‡å¼•å…¥ AndroidUtilCode ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ··æ·†ä¼šå¸®ä½ å»é™¤æœªä½¿ç”¨åˆ°çš„ç±»å’Œæ–¹æ³•ã€‚ å¥½äº†ï¼Œæ’ä»¶å’Œä¾èµ–éƒ½é…ç½®å®Œæ¯•ï¼Œä¸‹é¢ä»‹ç»åŸºæœ¬ä½¿ç”¨ã€‚ åŸºæœ¬ä½¿ç”¨1234567891011121314151617181920212223public static final String TAG_NO_PARAM = "TagNoParam";public static final String TAG_ONE_PARAM = "TagOneParam";@BusUtils.Bus(tag = TAG_NO_PARAM)public void noParamFun() &#123;/* Do something */&#125;@BusUtils.Bus(tag = TAG_ONE_PARAM)public void oneParamFun(String param) &#123;/* Do something */&#125;@Overridepublic void onStart() &#123; super.onStart(); BusUtils.register(this);&#125;@Overridepublic void onStop() &#123; super.onStop(); BusUtils.unregister(this);&#125;BusUtils.post(TAG_NO_PARAM);// noParamFun() will receiveBusUtils.post(TAG_ONE_PARAM, "param");// oneParamFun() will receive ä½¿ç”¨è¿‡ EventBus çš„è‚¯å®šä¸€ä¸‹å­å°±èƒ½çœ‹æ‡‚ã€‚ é«˜çº§ä½¿ç”¨ç²˜æ€§äº‹ä»¶æ”¯æŒç²˜æ€§äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯å…ˆå‘é€ï¼Œç„¶ååœ¨è®¢é˜…çš„æ—¶å€™æ¥æ”¶åˆ°ä¹‹å‰å‘é€çš„ç²˜æ€§äº‹ä»¶ï¼ŒæŠŠå…¶æ¶ˆè´¹æ‰ï¼Œä½¿ç”¨æ–¹å¼å’Œ EventBus ä¸€è‡´ï¼Œå°±æ˜¯åœ¨ `@BusUtils.Busæ³¨è§£ä¸­è®¾ç½®sticky = true`ï¼Œå…·ä½“ä¾‹å­å¦‚ä¸‹æ‰€ç¤ºï¼š123456789101112public static final String TAG_NO_PARAM_STICKY = "TagNoParamSticky";@BusUtils.Bus(tag = TAG_NO_PARAM_STICKY, sticky = true)public void noParamStickyFun() &#123;/* Do something */&#125;BusUtils.postSticky(TAG_NO_PARAM_STICKY);BusUtils.register(xxx);// will invoke noParamStickyFunBusUtils.removeSticky(TAG_NO_PARAM_STICKY);// When u needn't use the sticky, remove itBusUtils.unregister(xxx); çº¿ç¨‹åˆ‡æ¢çº¿ç¨‹åˆ‡æ¢ä½¿ç”¨çš„æ˜¯ ThreadUtils ä¸­çš„çº¿ç¨‹æ± ï¼Œå®ƒå…·æœ‰å®‰å…¨çš„ Cached çº¿ç¨‹æ± ï¼Œä»¥åŠ MAIN, IO, CPU, CACHED, SINGLE çº¿ç¨‹æ± ï¼Œé»˜è®¤ä¸è®¾ç½®çš„è¯å°±æ˜¯åœ¨æäº¤çš„çº¿ç¨‹ POSTINGï¼Œä½¿ç”¨çš„è¯å°±æ˜¯åœ¨ `@BusUtils.Busæ³¨è§£ä¸­è®¾ç½®threadMode = BusUtils.ThreadMode.xx` å³å¯ã€‚ è§„èŒƒè¦æƒ³å·¥å…·ç”¨å¾—èˆ’æœï¼Œè§„èŒƒè‚¯å®šè¦éµå®ˆçš„ï¼Œæ‰€è°“æ— è§„çŸ©ä¸æˆæ–¹åœ†ï¼Œä¸ç„¶äº”èŠ±å…«é—¨çš„é—®é¢˜è‚¯å®šä¸€å †å †ï¼Œè¿™é‡Œæ¨èå¦‚ä¸‹è§„èŒƒï¼š æŒæœ‰äº‹ä»¶çš„ç±»å’Œå‡½æ•°ç¡®ä¿ç¡®ä¿éƒ½æ˜¯ public çš„ã€‚ ç”±äº BusUtils æ˜¯ç”¨äºæ¨¡å—å†…è°ƒç”¨ï¼Œæ‰€ä»¥å¯ä»¥å†™ä¸€ä¸ª BusConfig çš„ç±»æ¥ä¿å­˜ä¸€ä¸ªæ¨¡å—å†…æ‰€æœ‰ bus çš„ Tagï¼Œæ–¹ä¾¿æŸ¥æ‰¾åˆ°ä½¿ç”¨æ–¹åŠè°ƒç”¨æ–¹ã€‚ Tag ä¸­æœ€å¥½è¿˜èƒ½å¸¦æœ‰ä¸šåŠ¡æ¨¡å—åç¼€åé˜²æ­¢é‡å¤ï¼Œæ˜¯ sticky ç±»å‹çš„è¯ä¹Ÿå¸¦ä¸Š stickyï¼ŒæŒ‡å®šå…·ä½“çº¿ç¨‹çš„è¯ä¹Ÿå¸¦ä¸Šçº¿ç¨‹åï¼Œä¾‹å¦‚ï¼šupdate_avatar_sticky_main_info è¿™ä¸ª Tagï¼Œè®©äººç›´æ¥æœ›æ–‡ç”Ÿä¹‰ã€‚ å¦‚æœèƒ½ç»“åˆ AucFrame æ¥ä½¿ç”¨ï¼Œé‚£å°±æ›´è§„èŒƒä¸è¿‡äº†ã€‚ å¯¹ BusUtils ä¸­äº‹ä»¶ä¼ è¾“çš„çš„ bean éƒ½éœ€è¦ keep ä¸‹æ¥ï¼Œå¦åˆ™å¼€å¯æ··æ·†åä¼šæ‰¾ä¸åˆ°è¯¥å®ä½“å¯¹è±¡è€ŒæŠ¥é”™ã€‚ ä½¿ç”¨å·²ç»ä»‹ç»å®Œæ¯•ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å’Œ EventBus å¯¹æ¯”ä¸‹æ€§èƒ½ã€‚ æ€§èƒ½æµ‹è¯•é¦–å…ˆï¼ŒæŠŠä¸¤è€…çš„äº‹ä»¶å®šä¹‰å¥½ï¼Œå› ä¸ºæ¯”è¾ƒçš„æ˜¯äº‹ä»¶è¾¾åˆ°çš„å¿«æ…¢ï¼Œæ‰€ä»¥å†…éƒ¨éƒ½æ˜¯ç©ºå®ç°å³å¯ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567@Subscribepublic void eventBusFun(String param) &#123;&#125;@BusUtils.Bus(tag = "busUtilsFun")public void busUtilsFun(String param) &#123;&#125; BusUtils åœ¨ç¼–è¯‘æ—¶ä¼šæ ¹æ® `@BusUtils.Bus` æ³¨è§£ç”Ÿæˆä¸€ä»½è®°å½• tag å’Œ æ–¹æ³•ç­¾åçš„æ˜ å°„è¡¨ï¼Œå› ä¸ºæ˜¯åœ¨ç¼–è¯‘æ—¶å®Œæˆçš„ï¼Œè¿™é‡Œæˆ‘ä»¬é€šè¿‡åå°„æ¥å®Œæˆã€‚ 123456@Beforepublic void setUp() throws Exception &#123; // è¿™ä¸€æ­¥æ˜¯åœ¨ AOP çš„æ—¶å€™æ³¨å…¥çš„ï¼Œè¿™é‡Œé€šè¿‡åå°„æ¥æ³¨å…¥ busUtilsFun äº‹ä»¶ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚ ReflectUtils getInstance = ReflectUtils.reflect(BusUtils.class).method("getInstance"); getInstance.method("registerBus", "busUtilsFun", BusUtilsVsEventBusTest.class.getName(), "busUtilsFun", String.class.getName(), "param", false, "POSTING");&#125; é€šè¿‡æ¯”è¾ƒå¦‚ä¸‹å‡ ç‚¹çš„æµ‹è¯•æ¥å®Œæˆå¯¹æ¯”ï¼š æ³¨å†Œ 10000 ä¸ªè®¢é˜…è€…ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼ å‘ 1 ä¸ªè®¢é˜…è€…å‘é€ * 1000000 æ¬¡ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼ å‘ 100 ä¸ªè®¢é˜…è€…å‘é€ * 100000 æ¬¡ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼ æ³¨é”€ 10000 ä¸ªè®¢é˜…è€…ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼ æµ‹è¯•æœºå™¨å¦‚ä¸‹æ‰€ç¤ºï¼š 12macOS: 2.2GHz Intel Core i7 16GBä¸€åŠ 6: Android 9 8GB åœ¨ Android ä¸Šï¼Œæˆ‘ä»¬åŠ å…¥ EventBus çš„æ³¨è§£å¤„ç†å™¨æ¥æå‡ EventBus æ•ˆç‡ï¼Œè®©å…¶åœ¨æœ€ä¼˜æƒ…å†µä¸‹å’Œ BusUtils æ¯”è¾ƒã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŠŠæµ‹è¯•çš„æ¨¡æ¿ä»£ç å†™å¥½ï¼Œæ–¹ä¾¿åç»­å¯ä»¥ç›´æ¥æŠŠä¸¤è€…æ¯”è¾ƒçš„ä»£ç å¾€å›è°ƒä¸­å¡å…¥å³å¯ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839/** * @param name ä¼ å…¥çš„æµ‹è¯•å‡½æ•°å * @param sampleSize æ ·æœ¬çš„æ•°é‡ * @param times æ¯æ¬¡æ‰§è¡Œçš„æ¬¡æ•° * @param callback æ¯”è¾ƒçš„å›è°ƒå‡½æ•° */private void compareWithEventBus(String name, int sampleSize, int times, CompareCallback callback) &#123; long[][] dur = new long[2][sampleSize]; for (int i = 0; i &lt; sampleSize; i++) &#123; long cur = System.currentTimeMillis(); for (int j = 0; j &lt; times; j++) &#123; callback.runEventBus(); &#125; dur[0][i] = System.currentTimeMillis() - cur; cur = System.currentTimeMillis(); for (int j = 0; j &lt; times; j++) &#123; callback.runBusUtils(); &#125; dur[1][i] = System.currentTimeMillis() - cur; callback.restState(); &#125; long eventBusAverageTime = 0; long busUtilsAverageTime = 0; for (int i = 0; i &lt; sampleSize; i++) &#123; eventBusAverageTime += dur[0][i]; busUtilsAverageTime += dur[1][i]; &#125; System.out.println( name + "\nEventBusCostTime: " + eventBusAverageTime / sampleSize + "\nBusUtilsCostTime: " + busUtilsAverageTime / sampleSize );&#125;public interface CompareCallback &#123; void runEventBus(); void runBusUtils(); void restState();&#125; ä¸‹é¢å°±è®©æˆ‘ä»¬æ¥ä¸€ä¸€å¯¹æ¯”æµ‹è¯•ã€‚ æ³¨å†Œ 10000 ä¸ªè®¢é˜…è€…ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼123456789101112131415161718192021222324252627282930313233343536373839404142/** * æ³¨å†Œ 10000 ä¸ªè®¢é˜…è€…ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼ */@Testpublic void compareRegister10000Times() &#123; final List&lt;BusUtilsVsEventBusTest&gt; eventBusTests = new ArrayList&lt;&gt;(); final List&lt;BusUtilsVsEventBusTest&gt; busUtilsTests = new ArrayList&lt;&gt;(); compareWithEventBus("Register 10000 times.", 10, 10000, new CompareCallback() &#123; @Override public void runEventBus() &#123; BusUtilsVsEventBusTest test = new BusUtilsVsEventBusTest(); EventBus.getDefault().register(test); eventBusTests.add(test); &#125; @Override public void runBusUtils() &#123; BusUtilsVsEventBusTest test = new BusUtilsVsEventBusTest(); BusUtils.register(test); busUtilsTests.add(test); &#125; @Override public void restState() &#123; for (BusUtilsVsEventBusTest test : eventBusTests) &#123; EventBus.getDefault().unregister(test); &#125; eventBusTests.clear(); for (BusUtilsVsEventBusTest test : busUtilsTests) &#123; BusUtils.unregister(test); &#125; busUtilsTests.clear(); &#125; &#125;);&#125;// MacOS Output:// Register 10000 times.// EventBusCostTime: 427// BusUtilsCostTime: 41// ä¸€åŠ 6 Output:// Register 10000 times.// EventBusCostTime: 1268// BusUtilsCostTime: 399 å‘ 1 ä¸ªè®¢é˜…è€…å‘é€ * 1000000 æ¬¡ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼12345678910111213141516171819202122232425262728293031323334353637383940414243/** * å‘ 1 ä¸ªè®¢é˜…è€…å‘é€ * 1000000 æ¬¡ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼ */@Testpublic void comparePostTo1Subscriber1000000Times() &#123; comparePostTemplate("Post to 1 subscriber 1000000 times.", 1, 1000000);&#125;// MacOS Output:// Post to 1 subscriber 1000000 times.// EventBusCostTime: 145// BusUtilsCostTime: 33// ä¸€åŠ 6 Output:// Post to 1 subscriber 1000000 times.// EventBusCostTime: 1247// BusUtilsCostTime: 696private void comparePostTemplate(String name, int subscribeNum, int postTimes) &#123; final List&lt;BusUtilsVsEventBusTest&gt; tests = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; subscribeNum; i++) &#123; BusUtilsVsEventBusTest test = new BusUtilsVsEventBusTest(); EventBus.getDefault().register(test); BusUtils.register(test); tests.add(test); &#125; compareWithEventBus(name, 10, postTimes, new CompareCallback() &#123; @Override public void runEventBus() &#123; EventBus.getDefault().post("EventBus"); &#125; @Override public void runBusUtils() &#123; BusUtils.post("busUtilsFun", "BusUtils"); &#125; @Override public void restState() &#123; &#125; &#125;); for (BusUtilsVsEventBusTest test : tests) &#123; EventBus.getDefault().unregister(test); BusUtils.unregister(test); &#125;&#125; å‘ 100 ä¸ªè®¢é˜…è€…å‘é€ * 100000 æ¬¡ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼12345678910111213141516/** * å‘ 100 ä¸ªè®¢é˜…è€…å‘é€ * 100000 æ¬¡ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼ */@Testpublic void comparePostTo100Subscribers10000Times() &#123; comparePostTemplate("Post to 100 subscribers 100000 times.", 100, 100000);&#125;// MacOS Output:// Post to 100 subscribers 100000 times.// EventBusCostTime: 139// BusUtilsCostTime: 79// ä¸€åŠ 6 Output:// Post to 100 subscribers 100000 times.// EventBusCostTime: 3092// BusUtilsCostTime: 2900 æ³¨é”€ 10000 ä¸ªè®¢é˜…è€…ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * æ³¨é”€ 10000 ä¸ªè®¢é˜…è€…ï¼Œå…±æ‰§è¡Œ 10 æ¬¡å–å¹³å‡å€¼ */@Testpublic void compareUnregister10000Times() &#123; final List&lt;BusUtilsVsEventBusTest&gt; tests = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; 10000; i++) &#123; BusUtilsVsEventBusTest test = new BusUtilsVsEventBusTest(); EventBus.getDefault().register(test); BusUtils.register(test); tests.add(test); &#125; compareWithEventBus("Unregister 10000 times.", 10, 1, new CompareCallback() &#123; @Override public void runEventBus() &#123; for (BusUtilsVsEventBusTest test : tests) &#123; EventBus.getDefault().unregister(test); &#125; &#125; @Override public void runBusUtils() &#123; for (BusUtilsVsEventBusTest test : tests) &#123; BusUtils.unregister(test); &#125; &#125; @Override public void restState() &#123; for (BusUtilsVsEventBusTest test : tests) &#123; EventBus.getDefault().register(test); BusUtils.register(test); &#125; &#125; &#125;); for (BusUtilsVsEventBusTest test : tests) &#123; EventBus.getDefault().unregister(test); BusUtils.unregister(test); &#125;&#125;// MacOS Output:// Unregister 10000 times.// EventBusCostTime: 231// BusUtilsCostTime: 23// ä¸€åŠ 6 Output:// Unregister 10000 times.// EventBusCostTime: 800// BusUtilsCostTime: 199 ç»“è®ºä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿï¼Œæˆ‘ä»¬ç”Ÿæˆä¸€ä»½å›¾è¡¨æ¥æ¯”è¾ƒä¸¤è€…ä¹‹é—´çš„æ€§èƒ½ï¼š å›¾è¡¨ä¸­åˆ†åˆ«å¯¹å››ä¸ªå‡½æ•°åœ¨ MacOS å’Œ OnePlus6 ä¸­çš„è¡¨ç°è¿›è¡Œç»Ÿè®¡ï¼Œæ¯ä¸ªå‡½æ•°ä¸­ä»å·¦å‘å³åˆ†åˆ«æ˜¯ ã€ŒMacOS çš„ BusUtilsã€ã€ã€ŒMacOS çš„ EventBusã€ã€ã€ŒOnePlus6 çš„ BusUtilsã€ã€ã€ŒOnePlus6 çš„ EventBusã€ï¼Œå¯ä»¥å‘ç°ï¼ŒBusUtils åœ¨æ³¨å†Œå’Œæ³¨é”€ä¸ŠåŸºæœ¬æ¯” EventBus è¦å¿«ä¸Šå¥½å‡ å€ï¼ŒBusUtils åœ¨å‘å°‘é‡è®¢é˜…è€…å‘é€å¤šæ¬¡äº‹ä»¶æ¯” EventBus ä¹Ÿå¿«ä¸Šå¥½å¤šï¼Œåœ¨å‘å¤šä¸ªè®¢é˜…è€…å‘é€å¤šæ¬¡äº‹ä»¶ä¹Ÿæ¯” EventBus å¿«ä¸Šäº›è®¸ã€‚ åŸºäºä»¥ä¸Šè¯´çš„è¿™ä¹ˆå¤šï¼Œå¦‚æœä½ é¡¹ç›®ä¸­äº‹ä»¶æ€»çº¿ç”¨å¾—æ¯”è¾ƒé¢‘ç¹ï¼Œé‚£ä¹ˆå¯ä»¥è¯•ç€ç”¨æˆ‘çš„ BusUtils æ¥æ›¿ä»£ EventBus æ¥æå‡æ€§èƒ½ï¼Œæˆ–è€…åœ¨æ–°çš„é¡¹ç›®ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æ€§èƒ½æ›´å¥½çš„ BusUtilsã€‚ ä¸‹é¢æ¥æ€»ç»“ä¸‹ BusUtils çš„ä¼˜ç‚¹ï¼š BusUtils æ˜¯é€šè¿‡äº‹ä»¶ Tag æ¥ç¡®å®šå”¯ä¸€äº‹ä»¶çš„ï¼Œæ‰€ä»¥æ¥æ”¶å‡½æ•°æ”¯æŒæ— å‚æˆ–è€…ä¸€ä¸ªå‚æ•°ï¼Œè€Œ EventBus åªèƒ½é€šè¿‡ MessageEvent æ¥ç¡®å®šå…·ä½“çš„æ¥æ”¶è€…ï¼Œåªèƒ½æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³ä¾¿ä»…ä»…æ˜¯é€šçŸ¥ï¼Œä¹Ÿéœ€è¦å®šä¹‰ä¸€ä¸ª MessageEventï¼Œæ‰€ä»¥ï¼ŒBusUtils ä¼ å‚æ›´çµæ´»ã€‚ BusUtils åœ¨åº”ç”¨åˆ°é¡¹ç›®ä¸­åï¼Œç¼–è¯‘åä¾¿ä¼šåœ¨ application ä¸­ç”Ÿæˆ __bus__.json äº‹ä»¶åˆ—è¡¨ï¼Œå¦‚ä¸Šç”Ÿæˆçš„äº‹ä»¶åˆ—è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678&#123; "BusUtilsClass": "com.blankj.utilcode.util.BusUtils", "rightBus": &#123; "noParamFun": "&#123; desc: com.blankj.utilcode.pkg.feature.bus.BusActivity#noParamFun(), threadMode: POSTING &#125;", "oneParamFun": "&#123; desc: com.blankj.utilcode.pkg.feature.bus.BusActivity#oneParamFun(java.lang.String param), threadMode: POSTING &#125;" &#125;, "wrongBus": &#123;&#125;&#125; ä¿®æ”¹ oneParamFun ä¸ºä¸¤ä¸ªå‚æ•°çš„è¯ï¼Œä¸ºäº†ç¡®ä¿é¡¹ç›®ä¸ä¼šå› ä¸º BusUtils åœ¨è¿è¡Œæ—¶å´©æºƒï¼Œapi æ’ä»¶ä¼šä½¿å…¶åœ¨ç¼–è¯‘æ—¶å°±ä¸è¿‡ï¼Œæ­¤æ—¶ __bus__.json æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼Œæç¤ºä½ å‚æ•°ä¸ªæ•°ä¸å¯¹ï¼š 12345678&#123; "BusUtilsClass": "com.blankj.utilcode.util.BusUtils", "rightBus": &#123; "noParamFun": "&#123; desc: com.blankj.utilcode.pkg.feature.bus.BusActivity#noParamFun(), threadMode: POSTING &#125;", &#125;, "wrongBus": &#123; "oneParamFun": "&#123; desc: com.blankj.utilcode.pkg.feature.bus.BusActivity#oneParamFun(java.lang.String param, java.lang.String param1), threadMode: POSTING, paramSize: 2 &#125;" &#125; åŒç†ï¼Œå¦‚æœä¸¤ä¸ª bus çš„ Tag ç›¸åŒäº†ï¼Œä¹Ÿä¼šç¼–è¯‘ä¸è¿‡ï¼Œæç¤ºä½ é¡¹ç›®ä¸­å­˜åœ¨ Tag ç›¸åŒçš„ busã€‚ï¼ˆ2.1 ç‰ˆæœ¬å·²æ”¯æŒ Tag ä¸€å¯¹å¤šåŠäº‹ä»¶ä¼˜å…ˆçº§ï¼‰ æ‰€ä»¥ï¼ŒBusUtils æ¯” EventBus æ›´å‹å¥½ã€‚ BusUtils æ¯” EventBus ä»£ç å°‘å¾—å¤ªå¤šï¼ŒBusUtils çš„æºç åªæœ‰åŒºåŒº 300 è¡Œï¼Œè€Œ EventBus 3000 è¡Œè‚¯å®šæ˜¯ä¸æ­¢çš„å“ˆã€‚ BusUtils æ¯” EventBus æ€§èƒ½æ›´å¥½ã€‚ åŸç†bus æ’ä»¶åŸç†åˆ†æbus æ’ä»¶çš„æºç åœ¨è¿™é‡Œï¼šbus æ’ä»¶æºç ä¼ é€é—¨ï¼Œè¯¥æ’ä»¶é€šè¿‡ Gradle çš„ transform æ¥å®Œæˆå¯¹ BusUtils.init() åšæ³¨å…¥ï¼Œä¸‹é¢æ¥ä¸€æ­¥æ­¥åˆ†æï¼š ä¸æ˜ç™½ transform çš„å¯ä»¥å…ˆå»äº†è§£ä¸‹ï¼Œç®€å•æ¥è¯´ transform å°±æ˜¯ä¸“é—¨ç”¨æ¥åšå­—èŠ‚ç æ’å…¥æ“ä½œçš„ï¼Œæœ€å¸¸è§çš„å°±æ˜¯ AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ï¼Œè¿™éƒ¨åˆ†æˆ‘å°±ä¸ç§‘æ™®äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±æœç´¢äº†è§£ã€‚ è¯´åˆ°å­—èŠ‚ç æ“ä½œï¼Œé‚£å°±åˆæœ‰çŸ¥è¯†ç‚¹äº†ï¼Œæƒ³è¦ä¸Šæ‰‹å¿«é€Ÿç®€å•çš„å¯ä»¥ä½¿ç”¨ javassistï¼Œä¸è¿‡ï¼Œæˆ‘é€‰æ‹©äº†æ›´å¼ºå¤§å¿«é€Ÿçš„ ASMï¼Œè¿™é‡Œæˆ‘å°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±å»å­¦ä¹ ï¼ŒASM å…¶å®ä¹Ÿå¾ˆç®€å•çš„ï¼Œåœ¨ ASM Bytecode Outline è¿™ä¸ªæ’ä»¶å¸®åŠ©ä¸‹å†™å¾—è¿˜æ˜¯å¾ˆå¿«çš„ã€‚ é€šè¿‡ ASM æ‰«æå‡ºæ‰€æœ‰å¸¦æœ‰ `@BusUtils.Bus` æ³¨è§£çš„å‡½æ•°ï¼Œè¯»å–å¹¶ä¿å­˜æ³¨è§£çš„å€¼å’Œå‡½æ•°çš„å‚æ•°ä¿¡æ¯ï¼Œç›¸å…³ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576@Overridepublic void visit(int version, int access, String name, String signature, String superName, String[] interfaces) &#123; className = name.replace("/", "."); super.visit(version, access, name, signature, superName, interfaces);&#125;@Overridepublic MethodVisitor visitMethod(int access, String funName, String desc, String signature, String[] exceptions) &#123; if (cv == null) return null; MethodVisitor mv = cv.visitMethod(access, funName, desc, signature, exceptions); busInfo = null; mv = new AdviceAdapter(Opcodes.ASM5, mv, access, funName, desc) &#123; @Override public AnnotationVisitor visitAnnotation(String desc1, boolean visible) &#123; final AnnotationVisitor av = super.visitAnnotation(desc1, visible); if (("L" + mBusUtilsClass + "$Bus;").equals(desc1)) &#123; busInfo = new BusInfo(className, funName); funParamDesc = desc.substring(1, desc.indexOf(")")); return new AnnotationVisitor(Opcodes.ASM5, av) &#123; @Override public void visit(String name, Object value) &#123;// å¯è·å–æ³¨è§£çš„å€¼ super.visit(name, value); if ("tag".equals(name)) &#123; tag = (String) value; &#125; else if ("sticky".equals(name) &amp;&amp; (Boolean) value) &#123; busInfo.sticky = true; &#125; &#125; @Override public void visitEnum(String name, String desc, String value) &#123; super.visitEnum(name, desc, value); if ("threadMode".equals(name)) &#123; busInfo.threadMode = value; &#125; &#125; &#125;; &#125; return av; &#125; @Override public void visitLocalVariable(String name, String desc, String signature, Label start, Label end, int index) &#123; super.visitLocalVariable(name, desc, signature, start, end, index);// è·å–æ–¹æ³•å‚æ•°ä¿¡æ¯ if (busInfo != null &amp;&amp; !funParamDesc.equals("")) &#123; if ("this".equals(name)) &#123; return; &#125; funParamDesc = funParamDesc.substring(desc.length());// æ¯æ¬¡å»é™¤å‚æ•°ç›´åˆ°ä¸º ""ï¼Œé‚£ä¹ˆä¹‹åçš„å°±ä¸æ˜¯å‚æ•°äº† busInfo.paramsInfo.add(new BusInfo.ParamsInfo(Type.getType(desc).getClassName(), name)); if (busInfo.isParamSizeNoMoreThanOne &amp;&amp; busInfo.paramsInfo.size() &gt; 1) &#123; busInfo.isParamSizeNoMoreThanOne = false; &#125; &#125; &#125; @Override public void visitEnd() &#123; super.visitEnd(); if (busInfo != null) &#123; List&lt;BusInfo&gt; infoList = mBusMap.get(tag); if (infoList == null) &#123; infoList = new ArrayList&lt;&gt;(); mBusMap.put(tag, infoList); &#125; else if (infoList.size() == 0) &#123; mBusMap.put(tag, infoList); &#125; else if (infoList.size() == 1) &#123; BusInfo info0 = infoList.get(0); info0.isTagRepeat = true; busInfo.isTagRepeat = true; &#125; else &#123; busInfo.isTagRepeat = true; &#125; infoList.add(busInfo); &#125; &#125; &#125;; return mv;&#125; ç„¶åå¾€ BusUtils.init() æ’å…¥æ‰«æå‡ºæ¥çš„å†…å®¹ï¼Œæ¯”å¦‚ä¸Šé¢æåˆ°çš„ oneParamFun è¿™ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå…¶æœ€ç»ˆæ’å…¥çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234private void init() &#123; this.registerBus("TagOneParam", "com.blankj.bus.BusTest", "oneParamFun", "java.lang.String", "param", false, "POSTING");&#125; å…¶ ASM æ’å…¥çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344@Overridepublic MethodVisitor visitMethod(int access, String name, String descriptor, String signature, String[] exceptions) &#123; if (!"init".equals(name)) &#123; return super.visitMethod(access, name, descriptor, signature, exceptions); &#125; // å¾€ init() å‡½æ•°ä¸­å†™å…¥ if (cv == null) return null; MethodVisitor mv = cv.visitMethod(access, name, descriptor, signature, exceptions); mv = new AdviceAdapter(Opcodes.ASM5, mv, access, name, descriptor) &#123; @Override public AnnotationVisitor visitAnnotation(String desc, boolean visible) &#123; return super.visitAnnotation(desc, visible); &#125; @Override protected void onMethodEnter() &#123; super.onMethodEnter(); &#125; @Override protected void onMethodExit(int opcode) &#123; super.onMethodExit(opcode); for (Map.Entry&lt;String, List&lt;BusInfo&gt;&gt; busEntry : mBusMap.entrySet()) &#123; List&lt;BusInfo&gt; infoList = busEntry.getValue(); if (infoList.size() != 1) continue; BusInfo busInfo = infoList.get(0); if (!busInfo.isParamSizeNoMoreThanOne) continue; mv.visitVarInsn(ALOAD, 0); mv.visitLdcInsn(busEntry.getKey()); mv.visitLdcInsn(busInfo.className); mv.visitLdcInsn(busInfo.funName); if (busInfo.paramsInfo.size() == 1) &#123; mv.visitLdcInsn(busInfo.paramsInfo.get(0).className); mv.visitLdcInsn(busInfo.paramsInfo.get(0).name); &#125; else &#123; mv.visitLdcInsn(""); mv.visitLdcInsn(""); &#125; mv.visitInsn(busInfo.sticky ? ICONST_1 : ICONST_0); mv.visitLdcInsn(busInfo.threadMode); mv.visitMethodInsn(INVOKESPECIAL, mBusUtilsClass, "registerBus", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)V", false); &#125; &#125; &#125;; return mv;&#125; BusUtils åŸç†åˆ†ææ¥ä¸‹æ¥çœ‹ä¸‹ BusUtils.registerBus çš„å®ç°ï¼š 12345private void registerBus(String tag, String className, String funName, String paramType, String paramName, boolean sticky, String threadMode) &#123; mTag_BusInfoMap.put(tag, new BusInfo(className, funName, paramType, paramName, sticky, threadMode));&#125; å¾ˆç®€å•ï¼Œå°±æ˜¯å¾€ mTag_BusInfoMap ä¸­æ’å…¥äº† key ä¸º tagï¼Œvalue ä¸º BusInfo çš„ä¸€ä¸ªå®ä¾‹ï¼Œè¿™æ ·ä¾¿æŠŠä¸€ä¸ªäº‹ä»¶ä¿ç•™äº†ä¸‹æ¥ã€‚ æ¥ä¸‹æ¥å°±æ˜¯ä½¿ç”¨äº†ï¼Œä¸€å¼€å§‹æˆ‘ä»¬éƒ½æ˜¯å…ˆ registerï¼Œæºç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617public static void register(final Object bus) &#123; getInstance().registerInner(bus);&#125;private void registerInner(final Object bus) &#123; if (bus == null) return; String className = bus.getClass().getName(); synchronized (mClassName_BusesMap) &#123; Set&lt;Object&gt; buses = mClassName_BusesMap.get(className); if (buses == null) &#123; buses = new CopyOnWriteArraySet&lt;&gt;(); mClassName_BusesMap.put(className, buses); &#125; buses.add(bus); &#125; processSticky(bus);&#125; æˆ‘ä»¬è·å– bus çš„ç±»åï¼Œç„¶åå¯¹ mClassName_BusesMap åŠ é”æ¥æŠŠå®ƒæ’å…¥åˆ° mClassName_BusesMap çš„ value çš„é›†åˆä¸­ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç”¨äº†çº¿ç¨‹å®‰å…¨çš„ CopyOnWriteArraySet é›†åˆï¼Œç„¶åè¿˜éœ€è¦å¤„ç†ä¸‹ä¹‹å‰æ˜¯å¦è®¢é˜…è¿‡ç²˜æ€§äº‹ä»¶ processStickyï¼Œåˆ°è¿™é‡Œ register ä¾¿ç»“æŸäº†ã€‚ ç„¶åå°±æ˜¯ post æ¥å‘é€äº‹ä»¶äº†ï¼Œæºç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697public static void post(final String tag) &#123; post(tag, NULL);&#125;public static void post(final String tag, final Object arg) &#123; getInstance().postInner(tag, arg);&#125;private void postInner(final String tag, final Object arg) &#123; postInner(tag, arg, false);&#125;private void postInner(final String tag, final Object arg, final boolean sticky) &#123; BusInfo busInfo = mTag_BusInfoMap.get(tag); if (busInfo == null) &#123; Log.e(TAG, "The bus of tag &lt;" + tag + "&gt; is not exists."); return; &#125; if (busInfo.method == null) &#123; Method method = getMethodByBusInfo(busInfo); if (method == null) &#123; return; &#125; busInfo.method = method; &#125; invokeMethod(tag, arg, busInfo, sticky);&#125;private Method getMethodByBusInfo(BusInfo busInfo) &#123; try &#123; if ("".equals(busInfo.paramType)) &#123; return Class.forName(busInfo.className).getDeclaredMethod(busInfo.funName); &#125; else &#123; return Class.forName(busInfo.className).getDeclaredMethod(busInfo.funName, Class.forName(busInfo.paramType)); &#125; &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace(); &#125; catch (NoSuchMethodException e) &#123; e.printStackTrace(); &#125; return null;&#125;private void invokeMethod(final String tag, final Object arg, final BusInfo busInfo, final boolean sticky) &#123; Runnable runnable = new Runnable() &#123; @Override public void run() &#123; realInvokeMethod(tag, arg, busInfo, sticky); &#125; &#125;; switch (busInfo.threadMode) &#123; case "MAIN": Utils.runOnUiThread(runnable); return; case "IO": ThreadUtils.getIoPool().execute(runnable); return; case "CPU": ThreadUtils.getCpuPool().execute(runnable); return; case "CACHED": ThreadUtils.getCachedPool().execute(runnable); return; case "SINGLE": ThreadUtils.getSinglePool().execute(runnable); return; default: runnable.run(); &#125;&#125;private void realInvokeMethod(final String tag, Object arg, BusInfo busInfo, boolean sticky) &#123; Set&lt;Object&gt; buses = mClassName_BusesMap.get(busInfo.className); if (buses == null || buses.size() == 0) &#123; if (!sticky) &#123; Log.e(TAG, "The bus of tag &lt;" + tag + "&gt; was not registered before."); return; &#125; else &#123; return; &#125; &#125; try &#123; if (arg == NULL) &#123; for (Object bus : buses) &#123; busInfo.method.invoke(bus); &#125; &#125; else &#123; for (Object bus : buses) &#123; busInfo.method.invoke(bus, arg); &#125; &#125; &#125; catch (IllegalAccessException e) &#123; e.printStackTrace(); &#125; catch (InvocationTargetException e) &#123; e.printStackTrace(); &#125;&#125; å¯ä»¥çœ‹åˆ°ä»£ç è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œä¸è¿‡åˆ«æ€¥ï¼Œæˆ‘ä»¬ä¸€æ­¥æ­¥æ¥è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œé¦–å…ˆåœ¨æˆ‘ä»¬ä¹‹å‰æ³¨å…¥çš„ mTag_BusInfoMap ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰è¯¥ tag çš„ BusInfoï¼Œæ²¡æœ‰çš„è¯å°±è¾“å‡ºé”™è¯¯æ—¥å¿—ç›´æ¥è¿”å›ã€‚ ç„¶åæˆ‘ä»¬æ ¹æ®è·å–åˆ°çš„ BusInfo æ¥æ‰¾åˆ° method å®ä¾‹ï¼ŒBusInfo ç¬¬ä¸€æ¬¡ä¼šæŠŠ method ä¿å­˜åœ¨å®ä¾‹ä¸­ï¼Œä¹‹åè°ƒç”¨çš„è¯ç›´æ¥ä»å®ä¾‹ä¸­å–å‡º method å³å¯ã€‚ æ¥ç€æˆ‘ä»¬ä» BusInfo ä¸­å–å‡ºçº¿ç¨‹ä¿¡æ¯ï¼Œæœ€ååœ¨çº¿ç¨‹ä¸­æ‰§è¡Œ method çš„åå°„ï¼Œå¤§ä½“å°±æ˜¯è¿™æ ·ï¼Œå…·ä½“ç»†èŠ‚çš„è¯è¿˜æ˜¯éœ€è¦è‡ªå·±åˆ†ææºç ã€‚ æœ€åå°±æ˜¯ unregister äº†ï¼š 12345678910111213141516public static void unregister(final Object bus) &#123; getInstance().unregisterInner(bus);&#125;private void unregisterInner(final Object bus) &#123; if (bus == null) return; String className = bus.getClass().getName(); synchronized (mClassName_BusesMap) &#123; Set&lt;Object&gt; buses = mClassName_BusesMap.get(className); if (buses == null || !buses.contains(bus)) &#123; Log.e(TAG, "The bus of &lt;" + bus + "&gt; was not registered before."); return; &#125; buses.remove(bus); &#125;&#125; unregister å’Œ register ç›¸åï¼Œå°±æ˜¯ä» mClassName_BusesMap çš„ value é›†åˆä¸­ç§»é™¤ï¼ŒåŒæ ·éœ€è¦å¯¹ mClassName_BusesMap åŠ é”å“¦ã€‚ Change Log]]></content>
      <categories>
        <category>Android</category>
        <category>AucFrame</category>
        <category>å·¥å…·ç±»</category>
      </categories>
      <tags>
        <tag>å·¥å…·ç±»</tag>
        <tag>AucFrame</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€å­¦å°±ä¼šçš„æ¨¡å—é—´é€šè®¯ï¼ˆApiUtilsï¼‰]]></title>
    <url>%2F2019%2F07%2F22%2Fapiutils%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯éšç€é¡¹ç›®ä¸šåŠ¡è¶Šæ¥è¶Šå¤šï¼Œå¼€å‘å‡ºä¸€å¥—å¥½çš„ç»„ä»¶åŒ–æ–¹æ¡ˆåŠ¿åœ¨å¿…è¡Œï¼Œå¦‚æœè¿˜åœ¨æ¢å¯»ä¸€å¥—å¥½çš„ç»„ä»¶åŒ–æ¶æ„ï¼Œé‚£ä¹ˆ AucFrame æƒ³å¿…ä¼šæ˜¯ä½ çš„èœã€‚ ç»„ä»¶åŒ–æ–¹æ¡ˆä¸­å„ä¸šåŠ¡æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œæ‰€ä»¥ä¸¤ä¸ªä¸šåŠ¡æ¨¡å—è¦é€šä¿¡çš„è¯ï¼Œå°±éœ€è¦é€šè¿‡è·¯ç”±æˆ–è€…æ¥å£ä¸‹æ²‰æ¥å®Œæˆï¼Œä¸šç•Œçš„æ–¹æ¡ˆéƒ½æ— æ³•ä¸ AucFrame å®Œç¾èåˆï¼Œæ‰€ä»¥æˆ‘å°±åªå¥½è‡ªå·±åŠ¨æ‰‹æ¥å®Œæˆä¸€ä¸ªæ›´æ–¹ä¾¿ã€ç²¾ç®€ã€å®Œç¾çš„ ApiUtilsï¼Œå®ƒåŠŸèƒ½ç±»ä¼¼ SPIï¼Œä½†æ¯” SPI æ›´é€‚åˆäº Androidï¼Œè€Œä¸”åŠŸèƒ½æ›´å¼ºå¤§ã€‚ åœ¨ AucFrame æ¶æ„ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ ApiUtils æ¥è‡ªç”±è°ƒç”¨å„æ¨¡å—çš„ apisï¼Œå„ä¸šåŠ¡é€šè¿‡å¯¹å¤–æä¾›çš„ export æ¨¡å—æ¥ä¾›å…¶ä»–ä¸šåŠ¡æ–¹ä½¿ç”¨ï¼Œè‡ªèº«åªéœ€è¦å®ç°è‡ªèº«çš„ export ä¸­çš„ apis å³å¯ã€‚å…¶ AucFrame çš„æ¶æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š ApiUtils æ‰®æ¼”çš„è§’è‰²å¦‚ä¸‹æ‰€ç¤ºï¼š å›¾ä¸­è¿˜æœ‰æåˆ° BusUtilsï¼Œè¿™æ˜¯ä¸€ä¸ªæ¯” EventBus æ›´é«˜æ•ˆçš„æ¨¡å—å†…é€šè®¯å·¥å…·ï¼Œæƒ³äº†è§£çš„å¯ä»¥ç‚¹è¿›å»çœ‹çœ‹å“ˆã€‚å½“ç„¶ï¼ŒApiUtils ä¸ä»…åœ¨ AucFrame ä¸­å¯ä»¥ä½¿ç”¨ï¼Œåœ¨æ­£å¸¸é¡¹ç›®ä¸­ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒæ¥åšä¸šåŠ¡éš”ç¦»ï¼Œä¸‹é¢æ¥ä»‹ç»å…¶å…·ä½“ä½¿ç”¨æ–¹å¼ã€‚ ä½¿ç”¨é…ç½®åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ build.gradle ä¸­æ·»åŠ  api æ’ä»¶ï¼š 123456buildscript &#123; dependencies &#123; ... classpath 'com.blankj:api-gradle-plugin:latest_version' &#125;&#125; ç„¶ååœ¨ application æ¨¡å—ä¸­ä½¿ç”¨è¯¥æ’ä»¶ï¼š 1apply plugin: "com.blankj.api" ç»™ä½ çš„é¡¹ç›®æ·»åŠ  AndroidUtilCode ä¾èµ–ï¼š 1api "com.blankj:utilcode:latest_version" å¦‚æœä½ å•çº¯åªæƒ³å¼•å…¥ ApiUtils ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œéœ€è¦ä½ è‡ªå·±æ‹·è´ä¸€ä»½è¿™ä¸ªç±»æ”¾åˆ°ä½ å·¥ç¨‹é‡Œï¼Œç„¶ååœ¨ app ä¸‹çš„ build.gradle ä¸­ é…ç½® api çš„ DSL åŸŸå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567api &#123; apiUtilsClass "com.xxx.xxx.ApiUtils"&#125;android &#123; ...&#125; å¯ä»¥çŒœæµ‹åˆ°é»˜è®¤çš„ apiUtilsClass ä¸º com.blankj.utilcode.util.ApiUtils å“ˆã€‚ å½“ç„¶ï¼Œå¦‚æœä½ é¡¹ç›®æ˜¯å¼€å¯æ··æ·†çš„è¯ï¼Œå…¨é‡å¼•å…¥ AndroidUtilCode ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ··æ·†ä¼šå¸®ä½ å»é™¤æœªä½¿ç”¨åˆ°çš„ç±»å’Œæ–¹æ³•ã€‚ ä¾‹å­æ’ä»¶å’Œä¾èµ–éƒ½é…ç½®å®Œæ¯•ï¼Œä¸‹é¢å°±è®©æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å§ï¼Œä¸¾ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼Œæ¯”å¦‚ login æ¨¡å—ä¸­å­˜åœ¨ LoginActivityï¼Œmain æ¨¡å—å­˜åœ¨ MainActivityï¼Œè¿™ä¸¤ä¸ªæ¨¡å—æ˜¯å¹³è¡Œçš„å…³ç³»ï¼Œä¸¤è€…äº’ä¸ä¾èµ–ï¼Œç°åœ¨æˆ‘ä»¬é€šè¿‡ ApiUtils è®© LoginActivity æ¥å¯åŠ¨ MainActivityï¼Œåœ¨ AucFrame ä¸­æ¯ä¸ªä¸šåŠ¡æ¨¡å—ä¸‹éƒ½æœ‰ export æ¨¡å—ï¼Œç±»ä¼¼äºä½ ä»¬è‡ªå·±é¡¹ç›®ä¸­çš„åº•å±‚å…¬å…±æ¨¡å—ï¼Œå› ä¸ºæ˜¯ login æ¥è°ƒç”¨ main æ¨¡å—ï¼Œæ‰€ä»¥æ˜¯ mian æ¨¡å—éœ€è¦æä¾› api æ¥ä¾› login æ¥è°ƒï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ main çš„ export ä¸­åŠ å…¥ä¸€ä¸ªç»§æ‰¿è‡ª ApiUtils.BaseApi çš„æŠ½è±¡ç±» MainApiï¼Œå¹¶æ·»åŠ å¯åŠ¨ MainActivity çš„æŠ½è±¡æ–¹æ³•ï¼Œæˆ‘ä»¬æŠŠæ–¹æ³•æå¾—æ›´å¤æ‚ç‚¹ï¼Œå¸¦ä¸Šè‡ªå®šä¹‰çš„å‚æ•°å’Œè¿”å›å€¼ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728293031323334353637public abstract class MainApi extends ApiUtils.BaseApi &#123; public abstract MainResult startMainActivity(Context context, MainParam param);&#125;public class MainParam &#123; private String name; public MainParam(String name) &#123; this.name = name; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125;&#125;public class MainResult &#123; private String name; public MainResult(String name) &#123; this.name = name; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125;&#125; æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ main æ¨¡å—æ–°å»º MainApiImpl å»å®ç°è¿™ä¸ªæŠ½è±¡ç±»ï¼Œä½†éœ€è¦é¢å¤–åšä¸€æ­¥ï¼Œå¯¹è¯¥å®ç°ç±»åŠ ä¸€ä¸ª `@ApiUtils.Api` æ³¨è§£ï¼Œè¯¥æ³¨è§£æ˜¯æä¾›ç»™ api æ’ä»¶æ³¨å…¥ä½¿ç”¨çš„ï¼Œåé¢åŸç†åˆ†æä¼šæåˆ°ï¼Œè€Œä¸”éœ€è¦ä¿è¯åªèƒ½æœ‰ä¸€ä¸ªç©ºå‚çš„æ„é€ å‡½æ•°ï¼Œå› ä¸ºåç»­è°ƒç”¨çš„æ—¶å€™ä¼šç”¨æ— å‚æ„é€ æ¥ç”Ÿæˆå®ä¾‹ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678@ApiUtils.Apipublic class MainApiImpl extends MainApi &#123; @Override public MainResult startMainActivity(Context context, MainParam param) &#123; MainActivity.start(context, param); return new MainResult("result"); &#125;&#125; å…³äºå„æ¨¡å—çš„ impl æˆ‘å»ºè®®æœ€å¥½æ”¾åœ¨å„æ¨¡å—åŒ…åçš„æœ€å¤–å±‚ï¼Œè¿™æ ·æ–¹ä¾¿æ‰“å¼€è¿™ä¸ªæ¨¡å—æºç å°±èƒ½æ‰¾åˆ°è¿™ä¸ªæ¨¡å—å‘å¤–æš´éœ²çš„ apisã€‚ æ³¨è§£ `@ApiUtils.Apiä¸­è¿˜æä¾›äº†ä¸€ä¸ªisMockçš„å€¼ï¼Œè¯¥å€¼é»˜è®¤æ˜¯falseï¼Œæ‰€ä»¥å¦‚ä¸Šæ³¨è§£ç›¸å½“äº@ApiUtils.Api(isMock = false)ï¼Œè¯¥å€¼ä»£è¡¨è¯¥æ¥å£æ˜¯å¦ç”¨äº mockï¼Œä¸€ä¸ªapiåœ¨é¡¹ç›®ä¸­åªæœ‰ä¸€ä¸ªå®ç°ï¼Œæ‰€ä»¥åœ¨å•æ¨¡å—è°ƒè¯•çš„æ—¶å€™ï¼Œè¯¥æ¨¡å—åœ¨é€šè¿‡ApiUtilsè°ƒç”¨å…¶ä»–æ¨¡å—apiçš„æ—¶å€™ï¼Œå› ä¸ºå…¶ä»–æ¨¡å—æ²¡æœ‰ä¾èµ–è¿›æ¥ï¼Œæ‰€ä»¥æ­¤æ—¶å°±éœ€è¦ mock å…¶ä»–æ¨¡å—çš„apiï¼Œé˜²æ­¢å› ä¸ºæ‰¾ä¸åˆ°å…¶ä»–æ¨¡å—çš„apiè€Œ crashï¼Œåœ¨ **[AucFrame](https://github.com/Blankj/AucFrameTemplate)** ä¸­çš„mockå±‚ä¸­æˆ‘ä»¬å°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œæ¯”å¦‚loginæ¨¡å—åœ¨å•ç‹¬è°ƒè¯•çš„æ—¶å€™ï¼Œæ­¤æ—¶mainæ¨¡å—æ˜¯ä¸å­˜åœ¨çš„ï¼Œæˆ‘ä»¬å°±è¦å†™ä¸€ä¸ª mock çš„api` å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678@ApiUtils.Api(isMock = true)public class MainApiMockImpl extends MainApi &#123; @Override public MainResult startMainActivity(Context context, MainParam param) &#123; ToastUtils.showLong("Start MainActivity succeed."); return new MainResult("mock result"); &#125;&#125; å½“ MainApiImpl å’Œ MainApiMockImpl åŒæ—¶å­˜åœ¨çš„æ—¶å€™ï¼Œapi æ’ä»¶ä¼šè®© isMock = false ä¸ºæœ€ç»ˆçš„ api å®ç°ç±»ï¼Œä¹Ÿå°±æ˜¯ MainApiImplï¼Œåœ¨ AucFrame ä¸­ï¼Œmock å±‚æ˜¯åœ¨éå…¨é‡ pkg çš„æƒ…å†µä¸‹æ‰ä¼šå‚ä¸ç¼–è¯‘ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒæœ€ç»ˆå…¨é‡çš„ app ä¸­å­˜æœ‰ mock çš„å†—ä½™æ“ä½œã€‚ ä¸‹é¢å°±è®©æˆ‘ä»¬åœ¨ login ä¸­é€šè¿‡ ApiUtils æ¥è°ƒç”¨ mian æä¾›çš„ api å§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12MainResult result = ApiUtils.getApi(MainApi.class) .startMainActivity(LoginActivity.this, new MainParam("MainParam")); è¿™é‡Œè¯´æ˜ä¸‹ï¼ŒApiUtils.getApi(MainApi.class) è¿™ä¸€æ­¥æ˜¯æ‡’åŠ è½½çš„ï¼Œä¹Ÿå°±æ˜¯åªä¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™æ‰åˆå§‹åŒ–ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒåˆå§‹åŒ–çš„æ—¶å€™æŠŠæ‰€æœ‰ä¸šåŠ¡ api éƒ½ä¸€è‚¡è„‘å®ç°é™ä½æ•ˆç‡çš„é£é™©ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥è¿è¡Œä¸€ä¸‹æŸ¥çœ‹æ˜¯å¦å¯ä»¥è·³è½¬æˆåŠŸï¼Œapi æ’ä»¶è¿˜ä¼šåœ¨ä½ çš„ application ç›®å½•ä¸‹ç”Ÿæˆä¸€ä»½ __api__.json çš„ api åˆ—è¡¨æ–‡ä»¶ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567&#123; "ApiUtilsClass": "com.blankj.utilcode.util.ApiUtils", "implApis": &#123; "com/blankj/main/export/api/MainApi": "&#123; implApiClass: com/blankj/main/pkg/MainApiImpl, isMock: false &#125;" &#125;, "noImplApis": []&#125; å¦‚æœé¡¹ç›®ä¸­å¹¶æ²¡æœ‰å®ç° MainApi çš„è¯ï¼Œä¸ºäº†ç¡®ä¿é¡¹ç›®ä¸ä¼šå› ä¸º ApiUtils åœ¨è¿è¡Œæ—¶å´©æºƒï¼Œapi æ’ä»¶ä¼šä½¿å…¶åœ¨ç¼–è¯‘æ—¶å°±ä¸é€šè¿‡ï¼Œæ­¤æ—¶ __api__.json æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼Œæç¤ºä½ éœ€è¦å®ç° MainApiï¼š 1234567&#123; "ApiUtilsClass": "com.blankj.utilcode.util.ApiUtils", "implApis": &#123;&#125;, "noImplApis": [ "com/blankj/main/export/api/MainApi" ]&#125; å¥½äº†ï¼Œä½¿ç”¨å·²ç»ä»‹ç»å®Œæ¯•äº†ï¼Œçœ‹å®Œæ˜¯ä¸æ˜¯è§‰å¾—è¿˜ä¸é”™ï¼Œ6 ç€å¹²å˜›ï¼Œèµ¶ç´§æ‰£æ„£å§ï¼Œç»“åˆ AucFrame ä½¿ç”¨ç®€ç›´ç¾å“‰å“ˆã€‚ è§„èŒƒè¦æƒ³å·¥å…·ç”¨å¾—èˆ’æœï¼Œè§„èŒƒè‚¯å®šè¦éµå®ˆçš„ï¼Œæ‰€è°“æ— è§„çŸ©ä¸æˆæ–¹åœ†ï¼Œä¸ç„¶äº”èŠ±å…«é—¨çš„é—®é¢˜è‚¯å®šä¸€å †å †ï¼Œè¿™é‡Œæ¨èå¦‚ä¸‹è§„èŒƒï¼š impl å’Œ api åº”è¯¥éƒ½æ˜¯ public çš„ï¼Œè€Œä¸” impl ä¸­åº”è¯¥åªå­˜åœ¨ä¸€ä¸ªæ— å‚çš„ public æ„é€ å‡½æ•°ï¼ˆé»˜è®¤ä¸å†™å³å¯ï¼‰ã€‚ api ä¸­æ¥å£çš„ä¿®æ”¹æˆ‘ä»¬éµå¾ªç±»ä¼¼äºå®˜æ–¹ Android SDK çš„å‡çº§ï¼Œå¤§éƒ¨åˆ†æƒ…å†µæ˜¯æ–°æ¥å£çš„å‡ºç°éœ€è¦å…¼å®¹è€æ¥å£ï¼Œå¦‚æœè€æ¥å£å¹¶ä¸å½±å“åŠŸèƒ½çš„æ­£å¸¸ä½¿ç”¨ï¼Œä¹Ÿå°±æ— éœ€é€šçŸ¥ä¸šåŠ¡æ–¹æ›´æ–°ä¸ºæ–°æ¥å£ï¼Œæ–°çš„æ¥å£ä¸€èˆ¬éƒ½æ˜¯æ–°çš„ä¸šåŠ¡æ–¹æ¥è°ƒç”¨ï¼›é™¤éè€çš„æ¥å£å­˜æœ‰é—®é¢˜æˆ–æ¼æ´ï¼Œæˆ‘ä»¬æ˜ç¡®éœ€è¦åˆ é™¤å®ƒï¼Œé‚£åœ¨åˆ é™¤å®ƒçš„åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŠŠä¸šåŠ¡ä¸­è°ƒç”¨è€æ¥å£çš„åœ°æ–¹ç»Ÿä¸€æ›¿æ¢ä¸ºæ–°çš„æ¥å£ï¼Œç±»ä¼¼äºæˆ‘ä»¬å‡çº§ Android SDK çš„æ—¶å€™ï¼ŒæŸäº› api æ˜ç¡®è¢«å®˜æ–¹åˆ é™¤äº†ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦å¼ºè¡Œæ›¿æ¢ä¸ºæ–°çš„æ¥å£ã€‚è¿˜æ˜¯ä¸Šé¢çš„è·³è½¬ main çš„ä¾‹å­ï¼Œç”±äºæ–°çš„ä¸šåŠ¡åœ¨è·³è½¬çš„æ—¶å€™éœ€æ–°å¢ä¸€ä¸ª UserInfo çš„å‚æ•°ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š12345678910111213141516// oldpublic abstract class MainApi extends ApiUtils.BaseApi &#123; public abstract MainResult startMainActivity(Context context, MainParam param);&#125;// goodpublic abstract class MainApi extends ApiUtils.BaseApi &#123; public abstract MainResult startMainActivity(Context context, MainParam param); public abstract MainResult startMainActivity(Context context, MainParam param, UserInfo info);&#125;// don'tpublic abstract class MainApi extends ApiUtils.BaseApi &#123; public abstract MainResult startMainActivity(Context context, MainParam param, UserInfo info);&#125; å¦‚æœåˆ é™¤æˆ–ä¿®æ”¹è€çš„æ¥å£çš„è¯ï¼Œä¼šå¯¼è‡´å…¶ä»–æ¨¡å—è¿˜æ²¡æ¥å¾—åŠæ›´æ–°ä½ çš„æ¥å£ï¼Œä»è€Œè°ƒç”¨ä½ è€çš„æ¥å£ç›´æ¥ç¼–è¯‘ä¸è¿‡çš„é—®é¢˜ã€‚ æŠŠ impl æ”¾åœ¨ä¸šåŠ¡åŒ…çš„æœ€å¤–å±‚ï¼Œå¼€é—¨è§å±±ï¼Œæ–¹ä¾¿å¯»æ‰¾ã€‚ å¦‚æœèƒ½ç»“åˆ AucFrame æ¥ä½¿ç”¨ï¼Œé‚£å°±æ›´è§„èŒƒä¸è¿‡äº†ã€‚ åŸç†api æ’ä»¶åŸç†åˆ†æapi æ’ä»¶çš„æºç åœ¨è¿™é‡Œï¼šapi æ’ä»¶æºç ä¼ é€é—¨ï¼Œè¯¥æ’ä»¶é€šè¿‡ Gradle çš„ transform æ¥å®Œæˆå¯¹ ApiUtils.init() åšæ³¨å…¥ï¼Œä¸‹é¢æ¥ä¸€æ­¥æ­¥åˆ†æï¼š ä¸æ˜ç™½ transform çš„å¯ä»¥å…ˆå»äº†è§£ä¸‹ï¼Œç®€å•æ¥è¯´ transform å°±æ˜¯ä¸“é—¨ç”¨æ¥åšå­—èŠ‚ç æ’å…¥æ“ä½œçš„ï¼Œæœ€å¸¸è§çš„å°±æ˜¯ AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰ï¼Œè¿™éƒ¨åˆ†æˆ‘å°±ä¸ç§‘æ™®äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±æœç´¢äº†è§£ã€‚ è¯´åˆ°å­—èŠ‚ç æ“ä½œï¼Œé‚£å°±åˆæœ‰çŸ¥è¯†ç‚¹äº†ï¼Œæƒ³è¦ä¸Šæ‰‹å¿«é€Ÿç®€å•çš„å¯ä»¥ä½¿ç”¨ javassistï¼Œä¸è¿‡ï¼Œæˆ‘é€‰æ‹©äº†æ›´å¼ºå¤§å¿«é€Ÿçš„ ASMï¼Œè¿™é‡Œæˆ‘å°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±å»å­¦ä¹ ï¼ŒASM å…¶å®ä¹Ÿå¾ˆç®€å•çš„ï¼Œåœ¨ ASM Bytecode Outline è¿™ä¸ªæ’ä»¶å¸®åŠ©ä¸‹å†™å¾—è¿˜æ˜¯å¾ˆå¿«çš„ã€‚ é€šè¿‡ ASM æ‰«æå‡ºæ‰€æœ‰ç»§æ‰¿è‡ª ApiUtils.BaseApi çš„ç±»ï¼Œä»¥åŠæ‰€æœ‰å¸¦æœ‰ `@ApiUtils.Api` æ³¨è§£çš„ç±»ï¼Œç„¶åä¿å­˜èµ·æ¥ï¼Œç›¸å…³ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243@Overridepublic void visit(int version, int access, String name, String signature, String superName, String[] interfaces) &#123; className = name; superClassName = superName; if ((mApiUtilsClass + "$BaseApi").equals(superName)) &#123; mApiClasses.add(name); &#125; super.visit(version, access, name, signature, superName, interfaces);&#125;@Overridepublic AnnotationVisitor visitAnnotation(String desc, boolean visible) &#123; if (("L" + mApiUtilsClass + "$Api;").equals(desc)) &#123; hasAnnotation = true; return new AnnotationVisitor(Opcodes.ASM5, super.visitAnnotation(desc, visible)) &#123; @Override public void visit(String name, Object value) &#123;// å¯è·å–æ³¨è§£çš„å€¼ isMock = (boolean) value; super.visit(name, value); &#125; &#125;; &#125; return super.visitAnnotation(desc, visible);&#125;@Overridepublic void visitEnd() &#123; super.visitEnd(); if (hasAnnotation) &#123; if (!isMock) &#123;// å¦‚æœä¸æ˜¯ mock çš„è¯ ApiInfo apiInfo = mApiImplMap.get(superClassName); if (apiInfo == null) &#123; mApiImplMap.put(superClassName, new ApiInfo(className, false)); &#125; else &#123;// å­˜åœ¨ä¸€ä¸ª api å¤šä¸ªå®ç°å°±æŠ¥é”™ errorStr = "&lt;" + className + "&gt; and &lt;" + apiInfo.implApiClass + "&gt; impl same api of &lt;" + superClassName + "&gt;"; &#125; &#125; else &#123;// mock çš„è¯ï¼Œå¦‚æœ map ä¸­å·²å­˜åœ¨å°±ä¸è¦†ç›–äº† if (!mApiImplMap.containsKey(superClassName)) &#123; mApiImplMap.put(superClassName, new ApiInfo(className, true)); &#125; &#125; &#125;&#125; ç„¶åå¾€ ApiUtils.init() æ’å…¥æ‰«æå‡ºæ¥çš„å†…å®¹ï¼Œæ¯”å¦‚ä¸Šé¢ä¸¾ä¾‹çš„ MainApiï¼Œé‚£ä¹ˆå…¶æœ€ç»ˆæ’å…¥çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 123private void init() &#123; this.registerImpl(MainApiImpl.class);&#125; å…¶ ASM æ’å…¥çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526272829@Overridepublic MethodVisitor visitMethod(int access, String name, String descriptor, String signature, String[] exceptions) &#123; if (!"init".equals(name)) &#123; return super.visitMethod(access, name, descriptor, signature, exceptions); &#125; // å¾€ init() å‡½æ•°ä¸­å†™å…¥ if (cv == null) return null; MethodVisitor mv = cv.visitMethod(access, name, descriptor, signature, exceptions); mv = new AdviceAdapter(Opcodes.ASM5, mv, access, name, descriptor) &#123; @Override public AnnotationVisitor visitAnnotation(String desc, boolean visible) &#123; return super.visitAnnotation(desc, visible); &#125; @Override protected void onMethodEnter() &#123; super.onMethodEnter(); &#125; @Override protected void onMethodExit(int opcode) &#123; super.onMethodExit(opcode); for (Map.Entry&lt;String, ApiInfo&gt; apiImplEntry : mApiImplMap.entrySet()) &#123; mv.visitVarInsn(Opcodes.ALOAD, 0); mv.visitLdcInsn(Type.getType("L" + apiImplEntry.getValue().implApiClass + ";")); mv.visitMethodInsn(Opcodes.INVOKESPECIAL, mApiUtilsClass, "registerImpl", "(Ljava/lang/Class;)V", false); &#125; &#125; &#125;; return mv;&#125; ApiUtils åŸç†åˆ†ææ¥ä¸‹æ¥çœ‹ä¸‹ ApiUtils.registerImpl çš„å®ç°ï¼š 123private void registerImpl(Class implClass) &#123; mInjectApiImplMap.put(implClass.getSuperclass(), implClass);&#125; å¾ˆç®€å•ï¼Œå°±æ˜¯å¾€ mInjectApiImplMap ä¸­æ’å…¥äº† key ä¸º MainApiImpl çš„çˆ¶ç±»ï¼šMainApi çš„ classï¼Œvalue ä¸º MainApiImpl çš„ classã€‚ åé¢å°±è®©æˆ‘ä»¬æ¥çœ‹å…·ä½“è°ƒç”¨ getApi çš„æ“ä½œå§ï¼š 1234567891011121314151617181920212223242526272829303132public static &lt;T extends BaseApi&gt; T getApi(@NonNull final Class&lt;T&gt; apiClass) &#123; return getInstance().getApiInner(apiClass);&#125;private &lt;Result&gt; Result getApiInner(Class apiClass) &#123; BaseApi api = mApiMap.get(apiClass); if (api == null) &#123; synchronized (this) &#123; api = mApiMap.get(apiClass); if (api == null) &#123; Class implClass = mInjectApiImplMap.get(apiClass); if (implClass != null) &#123; try &#123; api = (BaseApi) implClass.newInstance(); mApiMap.put(apiClass, api); &#125; catch (Exception ignore) &#123; Log.e(TAG, "The &lt;" + implClass + "&gt; has no parameterless constructor."); return null; &#125; &#125; else &#123; Log.e(TAG, "The &lt;" + apiClass + "&gt; doesn't implement."); return null; &#125; &#125; &#125; &#125; //noinspection unchecked return (Result) api;&#125;public abstract static class BaseApi &#123;&#125; è¿™æ®µä»£ç å¾ˆå¥½ç†è§£ï¼Œè€Œä¸”åŠ äº†åŒæ­¥é”æ“ä½œï¼Œé˜²æ­¢å¤šçº¿ç¨‹ç”Ÿæˆå¤šä¸ª implï¼Œç„¶åï¼Œæ ¹æ®ä¼ è¿›æ¥çš„ api çš„ classï¼Œæˆ‘ä»¬é€šè¿‡æ³¨å…¥çš„ map ä¸­æ‰¾åˆ°å…·ä½“çš„ impl çš„ classï¼Œå¦‚æœç¼“å­˜ä¸­æœ‰å°±å–ç¼“å­˜ä¸­çš„ï¼Œæ²¡æœ‰çš„è¯å°±é€šè¿‡ newInstance æ¥å®ä¾‹åŒ–ä¸€ä¸ª implï¼Œå¹¶æ”¾å…¥ç¼“å­˜ä¸­ï¼Œæœ€ç»ˆè¿”å›å…¶ implã€‚å› ä¸ºæ˜¯é€šè¿‡ newInstance æ¥å®ä¾‹åŒ– implï¼Œè¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆ impl ä¸­éœ€ä¿ç•™æ— å‚æ„é€ å‡½æ•°ï¼Œè€Œä¸”åªæœ‰åœ¨ä½¿ç”¨æ—¶æ‰ä¼šåˆå§‹åŒ–ï¼Œè€Œä¸æ˜¯ä¸€è‚¡è„‘æŠŠæ‰€æœ‰çš„ api éƒ½åˆå§‹åŒ–ã€‚ ç®€æ˜“å®ç”¨ï¼Œä¸åˆ° 100 è¡Œä»£ç å®ç°æ¨¡å—é—´è·³è½¬çš„ ApiUtils å·²ä»‹ç»å®Œæ¯•ï¼Œæ¥ä¸‹æ¥ä½ å°±å¯ä»¥å°è¯•ç‰›åˆ€äº†ã€‚ Change Log]]></content>
      <categories>
        <category>Android</category>
        <category>AucFrame</category>
        <category>å·¥å…·ç±»</category>
      </categories>
      <tags>
        <tag>å·¥å…·ç±»</tag>
        <tag>AucFrame</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‡ éœ€ä¸€è¡Œä»£ç å®Œæˆå¤šè¯­è¨€åˆ‡æ¢]]></title>
    <url>%2F2019%2F06%2F29%2Fonly-one-code-change-language%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä¹‹å‰æ€»æ˜¯æœ‰å¼€å‘è€…åé¦ˆæˆ‘åº”ç”¨åˆ‡æ¢äº†è¯­è¨€ï¼Œå¯æ˜¯å·¥å…·ç±»è·å–çš„ string å´æ²¡æœ‰å‘ç”Ÿæ”¹å˜ã€‚å…¶å®è¿™ä¸ªé—®é¢˜å¾ˆç®€å•ï¼Œä½ åˆ‡æ¢è¯­è¨€çš„ Context åªä½œç”¨åœ¨äº†ä½ çš„ Activity ä¸Šï¼Œå¹¶æ²¡æœ‰å¯¹ä½ çš„ Application åšåŒæ ·çš„æ“ä½œï¼ŒçŸ¥é“äº†è¿™ç‚¹ï¼Œé‚£ä¹ˆè§£å†³é—®é¢˜å°±å¾ˆç®€å•äº†ï¼Œä¸ºäº†çœäº‹ï¼Œæˆ‘ç»™å¤§å®¶å°è£…äº† LanguageUtilsï¼Œç›´æ¥ä¸€è¡Œä»£ç ä¾¿å¯å®Œæˆå¤šè¯­è¨€çš„åˆ‡æ¢ï¼Œç±»ä¼¼å¾®ä¿¡çš„è¯­è¨€åˆ‡æ¢åˆ†åˆ†é’Ÿä¾¿å¯å®Œæˆã€‚ ä½¿ç”¨Gradle:1implementation 'com.blankj:utilcode:latest_version' APIs è¯­è¨€ç›¸å…³ -&gt; LanguageUtils.java -&gt; Demo12applySystemLanguage: åº”ç”¨ç³»ç»Ÿè¯­è¨€applyLanguage : åº”ç”¨è¯­è¨€ åŸç†å¦‚æœæˆ‘ä»¬çš„åº”ç”¨ä¸è®¾ç½® android:configChanges=&quot;locale|layoutDirection&quot;ï¼Œé‚£ä¹ˆåº”ç”¨æ˜¯è·Ÿéšç³»ç»Ÿè¯­è¨€è®¾ç½®çš„å˜åŒ–è€Œå˜åŒ–çš„ï¼Œæ¯”å¦‚ä½ åº”ç”¨é€‚é…äº†è‹±è¯­ï¼ˆvalues-en-rUSï¼‰å’Œç®€ä½“ä¸­æ–‡ï¼ˆvalues-zh-rCNï¼‰ï¼Œé‚£ä¹ˆä½ å»è®¾ç½®é‡Œåˆ‡æ¢æˆè‹±è¯­çš„è¯ï¼Œè¿”å›åˆ°ä½ åº”ç”¨ä¸­ï¼Œä½ çš„ Activity ä¼šé‡æ–°åˆ›å»ºä¸€éï¼ŒæŠŠ Activity#Resource#Configuration#Locale è®¾ç½®ä¸ºå½“å‰ç³»ç»Ÿè¯­è¨€ï¼Œè¿™æ ·å°±è¾¾åˆ°äº†è·Ÿéšç³»ç»Ÿè¯­è¨€è®¾ç½®çš„å˜åŒ–è€Œå˜åŒ–ï¼Œä½† Application å¹¶æ²¡æœ‰é‡å¯ï¼Œæ‰€ä»¥è¿™å°±å¯¼è‡´äº†ä¸€å¼€è¯´åˆ°çš„é—®é¢˜ã€‚ è¦è§£å†³è·Ÿéšç³»ç»Ÿå˜åŒ–è¿™ä¸€ç‚¹çš„è¯ï¼Œåªéœ€è¦åœ¨ Activity#onCreate çš„ç”Ÿå‘½å‘¨æœŸä¸­æŠŠ Application#Resource#Configuration#Locale è®¾ç½®ä¸ºç³»ç»Ÿçš„ Locale å³å¯ï¼Œé‚£ä¹ˆç³»ç»Ÿçš„ Locale æ€ä¹ˆè¯»å–å‘¢ï¼ŒçŸ¥é“ä¹‹å‰å±å¹•é€‚é…æ–¹æ¡ˆçš„äººåº”è¯¥ä¹Ÿèƒ½æƒ³åˆ°è¿™ä¸€æ–¹å¼ï¼šResources.getSystem().getConfiguration().localeï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬çš„ Application ä¾¿ä¹Ÿåˆ‡æ¢æˆäº†ç³»ç»Ÿè¯­è¨€ï¼Œæ³¨æ„æ›´æ–° Locale éœ€è¦å…¼å®¹ä¸‹é«˜ç‰ˆæœ¬ï¼Œè°ƒç”¨å…·ä½“ä»£ç å¯ä»¥å‚ç…§å¦‚ä¸‹ï¼š 1234567891011121314151617private static void updateLanguage(Context context, Locale locale) &#123; Resources resources = context.getResources(); Configuration config = resources.getConfiguration(); Locale contextLocale = config.locale; if (equals(contextLocale.getLanguage(), locale.getLanguage()) &amp;&amp; equals(contextLocale.getCountry(), locale.getCountry())) &#123; return; &#125; DisplayMetrics dm = resources.getDisplayMetrics(); if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) &#123; config.setLocale(locale); context.createConfigurationContext(config); &#125; else &#123; config.locale = locale; &#125; resources.updateConfiguration(config, dm);&#125; é‚£ä¹ˆå¦‚æœæ˜¯åº”ç”¨å†…åˆ‡æ¢è¯­è¨€å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä»¿ç…§ç³»ç»Ÿåˆ‡æ¢è¯­è¨€çš„æ–¹å¼ï¼ŒæŠŠæˆ‘ä»¬è‡ªå·±æ‰€æœ‰çš„ Activity å…¨å…³æ‰ï¼Œç„¶åå¯åŠ¨é¦–é¡µçš„ Activity å³å¯ï¼Œåœ¨æ‰“å¼€çš„ Activity#onCreate ä¸­æŠŠ Activity å’Œ Application çš„ Locale éƒ½è®¾ç½®ä¸ºæˆ‘ä»¬è®¾ç½®çš„è¯­è¨€å³å¯ï¼Œå½“ç„¶ï¼Œè¿™ä»½è®¾ç½®æ˜¯éœ€è¦ä¿å­˜ä¸‹æ¥çš„ï¼Œæ ¹æ®ä½ çš„éœ€æ±‚æ¥ç¡®å®šæ˜¯è¦ä¿å­˜åœ¨æœåŠ¡ç«¯è¿˜æ˜¯æœ¬åœ°ã€‚é‚£ä¹ˆæ€ä¹ˆå…³é—­æ‰€æœ‰çš„ Activity å‘¢?æˆ‘ä»¬å¯ä»¥é€šè¿‡å¢åŠ  Intent çš„ flag ä¸º Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_CLEAR_TASK å³å¯ï¼Œç›¸å…³ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041private static void applyLanguage(@NonNull final Locale locale, final String activityClassName, final boolean isFollowSystem) &#123; if (isFollowSystem) &#123;// å¦‚æœæ˜¯è·Ÿéšç³»ç»Ÿï¼Œé‚£ä¹ˆ sp å°±ä»€ä¹ˆéƒ½ä¸å­˜ SPUtils.getInstance().put(KEY_LOCALE, ""); &#125; else &#123;// å¦åˆ™æŠŠè®¾ç½®çš„è¯­è¨€ä¿å­˜ä¸‹æ¥ï¼Œåœ¨ onCreate ä¸­åº”ç”¨è¯¥è¯­è¨€ String localLanguage = locale.getLanguage(); String localCountry = locale.getCountry(); SPUtils.getInstance().put(KEY_LOCALE, localLanguage + "$" + localCountry); &#125; updateLanguage(Utils.getApp(), locale);// æ›´æ–° Application çš„è¯­è¨€ Intent intent = new Intent(); String realActivityClassName// å¦‚æœä¼ å…¥çš„ activityClassName ä¸ºç©ºï¼Œé‚£ä¹ˆå¯åŠ¨ launcher Activityã€‚ = TextUtils.isEmpty(activityClassName) ? getLauncherActivity() : activityClassName; intent.setComponent(new ComponentName(Utils.getApp(), realActivityClassName)); intent.addFlags( Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_CLEAR_TASK ); Utils.getApp().startActivity(intent);// å…³é—­å…¶ä»– Activity å¹¶å¯åŠ¨ realActivityClassName çš„ Activity&#125;// å·¥å…·ç±»è°ƒç”¨æ­¤å‡½æ•°æ˜¯åœ¨ ActivityLifecycleCallbacks#onActivityCreated ä¸­static void applyLanguage(@NonNull final Activity activity) &#123; final String spLocale = SPUtils.getInstance().getString(KEY_LOCALE);// è·å–ä¿å­˜çš„è¯­è¨€ if (TextUtils.isEmpty(spLocale)) &#123;// ä¸ºç©ºè¯´æ˜æ˜¯è·Ÿéšç³»ç»Ÿèµ°ï¼Œé‚£ä¹ˆæ›´æ–°ç³»ç»Ÿè¯­è¨€å³å¯ Locale sysLocale = Resources.getSystem().getConfiguration().locale; updateLanguage(Utils.getApp(), sysLocale); updateLanguage(activity, sysLocale); return; &#125; // è¯»å– sp ä¿å­˜ä¸‹æ¥çš„è¯­è¨€å¹¶åº”ç”¨è¯¥è¯­è¨€ String[] language_country = spLocale.split("\\$"); if (language_country.length != 2) &#123; Log.e("LanguageUtils", "The string of " + spLocale + " is not in the correct format."); return; &#125; Locale settingLocale = new Locale(language_country[0], language_country[1]); updateLanguage(Utils.getApp(), settingLocale); updateLanguage(activity, settingLocale);&#125; åŸºäºä»¥ä¸Šåˆ†æï¼š å¦‚æœåº”ç”¨æ˜¯è·Ÿéšç³»ç»Ÿè®¾ç½®è¯­è¨€æ¥åˆ‡æ¢çš„è¯ï¼Œé‚£ä¹ˆç›´æ¥ä¾èµ–æˆ‘çš„å·¥å…·ç±»å³å¯ï¼Œå®ƒä¼šè‡ªåŠ¨å¸®ä½ æ›´æ–° Application çš„è¯­è¨€ã€‚ å¦‚æœéœ€è¦åº”ç”¨å†…åˆ‡æ¢è¯­è¨€çš„è¯ï¼Œåªéœ€åœ¨ä½ åˆ‡æ¢è¯­è¨€çš„åœ°æ–¹è°ƒç”¨ LanguageUtils.applyLanguage(Locale.ä½ è¦è®¾ç½®çš„è¯­è¨€, &quot;com.blankj.launcher.pkg.MainActivity/* åˆ‡æ¢è¯­è¨€åä½ è¦è·³è½¬åˆ°çš„é¡µé¢ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™å¯åŠ¨åº”ç”¨çš„ launcher Activity */&quot;) å³å¯ï¼› å¦‚æœéœ€è¦åº”ç”¨å†…åˆ‡æ¢è¯­è¨€å˜ä¸ºè·Ÿéšç³»ç»Ÿè®¾ç½®è¯­è¨€ï¼Œé‚£ä¹ˆè°ƒç”¨ LanguageUtils.applySystemLanguage(&quot;&quot;/* åˆ‡æ¢è¯­è¨€åä½ è¦è·³è½¬åˆ°çš„é¡µé¢ï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™å¯åŠ¨åº”ç”¨çš„ launcher Activity */); å³å¯ã€‚ ç»“è¯­åŠŸèƒ½å…¶å®å¾ˆç®€å•ï¼Œä½†æ€»æ˜¯ç¼ºå°‘äººèƒ½æŠŠå®ƒåˆ†æå¾—é€å½»ï¼Œä»è€Œåšå¾—å¾ˆå®Œç¾åˆ†äº«å‡ºæ¥ï¼Œå¸Œæœ›æˆ‘è¿™æ¬¡çš„åˆ†äº«èƒ½è®©ä½ çœ‹åˆ°è¿™ä¸€ç‚¹ï¼Œä»è€Œæå‡ä½ ä¹‹åçš„æŠ€èƒ½ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>å·¥å…·ç±»</category>
      </categories>
      <tags>
        <tag>å·¥å…·ç±»</tag>
        <tag>å›½é™…åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android ä¾§åˆ’ï¼Œå¦‚æ–¯ä¼˜é›…]]></title>
    <url>%2F2019%2F04%2F24%2Fswipe-panel%2F</url>
    <content type="text"><![CDATA[Backgroundå¯¹å¸‚é¢ä¸Šå®ç°çš„ä¾§åˆ’è¿”å›ä¸æ˜¯å¾ˆæ»¡æ„ï¼ˆä»¿å¾®ä¿¡ï¼ŒQQ é€šè¿‡ä¿®æ”¹çª—å£é€æ˜å‘å¤ªå¤šï¼‰ï¼Œæœ€ç»ˆå†³å®šè¿˜æ˜¯äº²æ‰‹å†™ä¸€ä¸ªé«˜å®ç”¨æ€§çš„å§ï¼Œæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼Œæ¢ä¸ªå›¾æ ‡ï¼Œæ›´å¤šåˆ’åŠ¨åŠŸèƒ½å¯ä»¥ç”±ä½ è‡ªå·±è§£é”ï¼Œæ€»å…±ä¸€ä¸ª 600 å¤šè¡Œä»£ç çš„ç±»ï¼Œæ¨èé€šè¿‡é˜…è¯»æºç ï¼Œä½ è‚¯å®šä¼šæ”¶è·å¾ˆå¤šå“ˆã€‚ Preview Downloadæºç åœ°å€ï¼šSwipePanelï¼Œå–œæ¬¢çš„è®°å¾—ç»™ä¸ªå°æ˜Ÿæ˜Ÿå“ˆã€‚ Gradle:1implementation 'com.blankj:swipe-panel:1.0' How to useåŠ¨æ€1234567891011final SwipePanel swipePanel = new SwipePanel(this);swipePanel.setLeftEdgeSize(SizeUtils.dp2px(100));// è®¾ç½®å·¦ä¾§è§¦å‘é˜ˆå€¼ 100dpswipePanel.setLeftDrawable(R.drawable.base_back);// è®¾ç½®å·¦ä¾§ iconswipePanel.wrapView(findViewById(R.id.rootLayout));// è®¾ç½®åµŒå¥—åœ¨ rootLayout å¤–å±‚swipePanel.setOnFullSwipeListener(new SwipePanel.OnFullSwipeListener() &#123;// è®¾ç½®å®Œå…¨åˆ’å¼€æ¾æ‰‹åçš„ç›‘å¬ @Override public void onFullSwipe(int direction) &#123; finish(); swipePanel.close(direction);// å…³é—­ &#125;&#125;); é™æ€1234567891011121314151617&lt;com.blankj.swipepanel.SwipePanel xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools" xmlns:app="http://schemas.android.com/apk/res-auto" android:id="@+id/swipePanel" android:background="@color/mediumGray" android:layout_width="match_parent" android:layout_height="match_parent" tools:context=".LayoutSwipePanelActivity" app:isLeftCenter="false" app:leftEdgeSize="100dp" app:leftSwipeColor="@color/colorPrimary" app:leftDrawable="@drawable/base_back"&gt; ...&lt;/com.blankj.swipepanel.SwipePanel&gt; API æ–¹æ³•å å±æ€§å è¯´æ˜ setLeft(Top, Right, Bottom)SwipeColor app:left(top, right, bottom)SwipeColor è®¾ç½®å·¦ï¼ˆä¸Šã€å³ã€ä¸‹ï¼‰æµ‹é¢œè‰² setLeft(Top, Right, Bottom)EdgeSize app:left(top, right, bottom)EdgeSize è®¾ç½®å·¦ï¼ˆä¸Šã€å³ã€ä¸‹ï¼‰æµ‹è§¦å‘é˜ˆå€¼ setLeft(Top, Right, Bottom)Drawable app:left(top, right, bottom)Drawable è®¾ç½®å·¦ï¼ˆä¸Šã€å³ã€ä¸‹ï¼‰æµ‹ icon setLeft(Top, Right, Bottom)Center app:isLeft(Top, Right, Bottom)Center è®¾ç½®å·¦ï¼ˆä¸Šã€å³ã€ä¸‹ï¼‰æµ‹æ˜¯å¦å±…ä¸­ setLeft(Top, Right, Bottom)Enabled app:isLeft(Top, Right, Bottom)Enabled è®¾ç½®å·¦ï¼ˆä¸Šã€å³ã€ä¸‹ï¼‰æµ‹æ˜¯å¦å¯ç”¨ wrapView â€” è®¾ç½®åµŒå¥—åœ¨è¯¥ view çš„å¤–å±‚ setOnFullSwipeListener â€” è®¾ç½®å®Œå…¨åˆ’å¼€æ¾æ‰‹åçš„ç›‘å¬ isOpen â€” åˆ¤æ–­æ˜¯å¦è¢«åˆ’å¼€ close â€” å…³é—­ Change Log]]></content>
      <categories>
        <category>Android</category>
        <category>è‡ªå®šä¹‰View</category>
      </categories>
      <tags>
        <tag>è‡ªå®šä¹‰View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android å±å¹•é€‚é…ç»ˆç»“è€…]]></title>
    <url>%2F2018%2F12%2F18%2Fandroid-adapt-screen-killer%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä¹‹å‰åŸºäºå¤´æ¡çš„é€‚é…æ–¹æ¡ˆå†™äº†ç¯‡æ–‡ç«  Android å±å¹•é€‚é…ä»æœªå¦‚æ–¯ç®€å•ï¼Œä½†åç»­å‘ç°è¿˜æ˜¯æœ‰æŒºå¤šå‘çš„ï¼Œè¿™äº›å‘éƒ½è®°å½•åœ¨äº† GitHub å±å¹•é€‚é…é—®é¢˜æ±‡æ€»åŠè§£å†³ï¼ŒåŸºäºè¿™ä¹ˆå¤šå‘ï¼Œæœ€ç»ˆæˆ‘å‘ç°äº†ä¸€ç§æ›´å®Œç¾çš„é€‚é…æ–¹æ¡ˆï¼Œæœ¬æ‰“ç®—ä¸€ä¸ªå¤šæœˆå‰å°±å†™è¿™ç¯‡æ–‡ç« çš„ï¼Œä½†ç”±äºå…¬å¸äº‹åŠ¡ç¹å¿™ä¸€ç›´æŠ½ä¸å‡ºç©ºæ¥ï¼Œæ‹–æ›´åˆ°ç°åœ¨æ‰å‘å¸ƒï¼Œä¸‹é¢å°±è®©æˆ‘æ¥åˆ†äº«ä¸‹æ­¤æ³•ï¼Œå…ˆæ¥å¹ä¸‹ä¼˜ç‚¹å§ã€‚ ä¼˜ç‚¹1. æ— ä¾µå…¥æ€§é¦–å…ˆç§‘æ™®ä¸‹ Android ä¸­çš„ä¸€ä¸ªé•¿åº¦å•ä½ï¼šptï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªç‚¹ï¼Œæ˜¯å±å¹•çš„ç‰©ç†å°ºå¯¸ï¼Œå…¶å¤§å°ä¸º 1 è‹±å¯¸çš„ 1 / 72ï¼Œä¹Ÿå°±æ˜¯ 72pt ç­‰äº 1 è‹±å¯¸ï¼ˆå…¶å® Android ä¸­è¿˜æœ‰æ¯”è¾ƒå°‘è§çš„ in å’Œ mm çš„é•¿åº¦å•ä½ï¼‰ã€‚è€Œæˆ‘æœ¬æ¬¡çš„é€‚é…ä½¿ç”¨çš„å•ä½æ°å¥½æ˜¯ ptï¼Œæ‰€ä»¥å¯¹ä½ ä»å‰ä½¿ç”¨çš„å¸ƒå±€ä¸ä¼šé€ æˆä»»ä½•å½±å“ï¼Œåœ¨è€é¡¹ç›®ä¸­å¼€å‘æ–°åŠŸèƒ½ä½ å¯ä»¥èƒ†å¤§åœ°åŠ å…¥è¯¥é€‚é…æ–¹æ¡ˆï¼Œæ–°é¡¹ç›®çš„è¯æ›´å¯ä»¥æ¯«ä¸çŠ¹è±«åœ°é‡‡ç”¨è¯¥é€‚é…ï¼Œå¹¶ä¸”åœ¨å…³é—­è¯¥å…³é—­åï¼Œpt æ•ˆæœç­‰åŒäº dp å“¦ã€‚ 2. çµæ´»æ€§é«˜å¦‚æœä½ æƒ³è¦å¯¹æŸä¸ª View åšåˆ°ä¸åŒåˆ†è¾¨ç‡çš„è®¾å¤‡ä¸‹ï¼Œä½¿å…¶å°ºå¯¸åœ¨é€‚é…ç»´åº¦ä¸Šæ‰€å æ¯”ä¾‹ä¸€è‡´çš„è¯ï¼Œé‚£ä¹ˆå¯¹å®ƒä½¿ç”¨ pt å•ä½å³å¯ï¼Œå¦‚æœä½ ä¸æƒ³è¦è¿™æ ·çš„æ•ˆæœï¼Œè€Œæ˜¯æƒ³è¦æ›´å¤§å°ºå¯¸çš„è®¾å¤‡æ˜¾ç¤ºæ›´å¤šçš„å†…å®¹ï¼Œé‚£ä¹ˆä½ å¯ä»¥åƒä»å‰é‚£æ ·å†™ dpã€sp ä»€ä¹ˆçš„å³å¯ï¼Œç»“åˆè¿™ä¸¤ç‚¹ï¼Œåœ¨ç•Œé¢å¸ƒå±€ä¸Šä½ å°±å¯ä»¥æ¸¸åˆƒæœ‰ä½™åœ°åšåˆ°ä½ æƒ³è¦çš„æ•ˆæœã€‚ 3. ä¸ä¼šå½±å“ç³»ç»Ÿ View å’Œä¸‰æ–¹ View çš„å¤§å°è¿™ç‚¹å…¶å®åœ¨æ— ä¾µå…¥æ€§ä¸­å·²ç»è¡¨ç°å‡ºæ¥äº†ï¼Œç”±äºå¤´æ¡çš„æ–¹æ¡ˆæ˜¯ç›´æ¥ä¿®æ”¹ DisplayMetrics#density çš„ dp é€‚é…ï¼Œè¿™æ ·ä¼šå¯¼è‡´ç³»ç»Ÿ View å°ºå¯¸å’ŒåŸå…ˆä¸ä¸€è‡´ï¼Œæ¯”å¦‚ Dialogã€Toastã€ å°ºå¯¸ï¼ŒåŒæ ·ï¼Œä¸‰æ–¹ View çš„å¤§å°ä¹Ÿä¼šå’ŒåŸå…ˆæ•ˆæœä¸ä¸€è‡´ï¼Œè¿™ä¹Ÿå°±æ˜¯æˆ‘é€‰æ‹© pt é€‚é…çš„åŸå› ä¹‹ä¸€ã€‚ 4. ä¸ä¼šå¤±æ•ˆè¿™ä¸€ç‚¹æ˜¯æœ€å€¼å¾—å¹ç‰›çš„ï¼Œå› ä¸ºä¸è®ºå¤´æ¡çš„é€‚é…è¿˜æ˜¯ AndroidAutoSizeï¼Œéƒ½ä¼šå­˜åœ¨ DisplayMetrics#density è¢«è¿˜åŸçš„æƒ…å†µï¼Œéœ€è¦è‡ªå·±é‡æ–°è®¾ç½®å›å»ï¼Œæœ€æ˜¾è‘—çš„å°±æ˜¯ç•Œé¢ä¸­å­˜åœ¨ WebView çš„è¯ï¼Œç”±äºå…¶åˆå§‹åŒ–çš„æ—¶å€™ä¼šè¿˜åŸ DisplayMetrics#density çš„å€¼å¯¼è‡´é€‚é…å¤±æ•ˆï¼Œå½“ç„¶è¿™ç‚¹å·²ç»æœ‰è§£å†³æ–¹æ¡ˆäº†ï¼Œä½†è¿˜ä¼šæœ‰å¾ˆå¤šå…¶ä»–æƒ…å†µä¼šè¿˜åŸ DisplayMetrics#density çš„å€¼å¯¼è‡´é€‚é…å¤±æ•ˆã€‚è€Œæˆ‘è¿™æ–¹æ¡ˆå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªç—›ç‚¹ï¼Œä¸è®© DisplayMetrics ä¸­çš„å€¼è¢«è¿˜åŸå¯¼è‡´é€‚é…å¤±æ•ˆã€‚ æ•ˆæœè¯´äº†è¿™ä¹ˆå¤šï¼Œå…ˆä¸Šä¸‹æ•ˆæœå›¾å‹å‹æƒŠå§ï¼Œæ¯ç§åˆ†è¾¨ç‡çš„å›¾ä¾æ¬¡æ˜¯å®½åº¦ 1080pt é€‚é…ï¼Œé«˜åº¦ 1920pt é€‚é…ä»¥åŠå…³é—­é€‚é…çš„æ•ˆæœã€‚ 480 x 800 - mdpi(160dpi) 720 x 1280 - xhdpi(320dpi) 1080 x 1920 - xxhdpi(480dpi) 1440x2560 - 560dpi å¯ä»¥çœ‹åˆ°æ•ˆæœå›¾ä¸­ WebView å¯¹ä¹‹åçš„ View å¹¶æ²¡æœ‰äº§ç”Ÿé€‚é…å¤±æ•ˆçš„é—®é¢˜ï¼Œè¿™æ˜¯ä¹‹å‰é€‚é…æ‰€ä¸èƒ½è§£å†³çš„é—®é¢˜ã€‚ å¦‚ä½•æ ¹æ®è®¾è®¡å›¾åˆ›å»ºé¢„è§ˆï¼Ÿåœ¨ AS ä¸­ Tools -&gt; AVD Manager -&gt; Create Virtual Device...ï¼Œæˆ‘ä»¬ä»¥é€‚é… 1080 x 1920px ä¸ºä¾‹ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š åˆ›å»ºå®Œè®¾å¤‡æˆ‘ä»¬åœ¨é¢„è§ˆç•Œé¢é€‰ä¸­è¿™ä¸ªè®¾å¤‡å³å¯çœ‹åˆ° pt å•ä½æ•ˆæœã€‚ è®¾è®¡å¸ˆç»™ä½ çš„è®¾è®¡å›¾å°ºå¯¸æ˜¯å¤šå°‘ï¼Œé‚£ä½ å°±å»ºå¤šå°‘å°ºå¯¸çš„è®¾å¤‡å³å¯ï¼Œæ¯”å¦‚æ˜¯ 720 x 1280px çš„ï¼Œé‚£ä½ æŠŠä¸Šå›¾çš„å°ºå¯¸æ¢æˆ 720 å’Œ 1280ï¼Œå†è®¡ç®—ä¸‹å±å¹•å°ºå¯¸å³å¯ï¼Œå¦‚æœæ˜¯ 360 x 640dp çš„è¯ï¼Œé‚£å°±æŠŠä¸Šå›¾çš„å°ºå¯¸æ¢æˆ 360 å’Œ 640ï¼Œå†è®¡ç®—ä¸‹å±å¹•å°ºå¯¸å³å¯ï¼Œä¸ç”¨å» care å•ä½åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œè®¾è®¡å›¾æ ‡æ³¨å¤šå°‘é‚£ä½ å°±å†™å¤šå°‘å³å¯ï¼Œæ— éœ€æ¢ç®—ã€‚é€‚é…çš„æ—¶å€™ä¼ å…¥è¿™ä¸ªç»´åº¦çš„å°ºå¯¸å€¼å³å¯ï¼Œæ¯”å¦‚ 720 x 1280 çš„å®½åº¦é€‚é…ï¼Œé‚£å°±ä¼ å…¥ 720 å³å¯ã€‚ åŸç†åŠç”¨æ³•åŸç†å…¶å®ä¹Ÿæ˜¯åŸºäºå¤´æ¡çš„åŸç†ï¼Œä¸è¿‡æˆ‘æ˜¯æ“ä½œ ptï¼Œæ‰€ä»¥ä¸æ˜¯æ”¹ DisplayMetrics#densityï¼Œè€Œæ˜¯ DisplayMetrics#xdpiï¼Œç”±äºé€‚é…ä¸ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥éœ€è¦åœ¨é€‚é…çš„ Activity ä¸­é‡å†™ä¸‹ getResources() å‡½æ•°ï¼Œå› ä¸ºæ¯æ¬¡ View åœ¨å˜æ›´å°ºå¯¸æ—¶éƒ½ä¼šè°ƒç”¨åˆ° getResources()ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥åœ¨è¿™é‡Œè¿›è¡Œé€‚é…å°±ä¸ä¼šå¯¼è‡´å¤±æ•ˆï¼Œæ•ˆæœå›¾ä¸­å¯¹åº”çš„ä»£ç åˆ†åˆ«å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011override fun getResources(): Resources &#123; return AdaptScreenUtils.adaptWidth(super.getResources(), 1080)&#125;override fun getResources(): Resources &#123; return AdaptScreenUtils.adaptHeight(super.getResources(), 1920)&#125;override fun getResources(): Resources &#123; return AdaptScreenUtils.closeAdapt(super.getResources())&#125; å…¶æºç ã€Demo ä»¥åŠ API å¦‚ä¸‹æ‰€ç¤ºï¼š AdaptScreen ç›¸å…³ -&gt; [AdaptScreenUtils.java][adaptScreen.java] -&gt; [Demo][adaptScreen.demo]12345adaptWidth : é€‚é…å®½åº¦adaptHeight: é€‚é…é«˜åº¦closeAdapt : å…³é—­é€‚é…ï¼ˆpt ç­‰åŒäº dpï¼‰pt2Px : pt è½¬ pxpx2Pt : px è½¬ pt pt2Px åŠ px2Pt æ˜¯æä¾›ç»™éœ€è¦åŠ¨æ€æ“ä½œ View çš„ã€‚ å¦‚ä¸Šåªéœ€ä¾èµ– AndroidUtilCode æœ€æ–°ç‰ˆæœ¬å³å¯ï¼š 1implementation 'com.blankj:utilcode:1.23.2' ç»“å°¾çš„è¯çœ‹äº†åŸç†ä¹‹åæ˜¯ä¸æ˜¯è§‰å¾—å¾ˆç®€å•ï¼Œä½†èƒ½æƒ³åˆ°è¿™ç§è§£å†³æ–¹æ¡ˆçš„åˆèƒ½æœ‰å‡ äººå‘¢ï¼Œæˆ‘ä¹Ÿæ˜¯ç«™åœ¨äº†å·¨äººçš„è‚©è†€ä¸Šæ‰èƒ½æƒ³åˆ°è¿™ä¸€å±‚æ¬¡ï¼Œå¸Œæœ›è¯¥é€‚é…æ–¹æ¡ˆèƒ½åƒæ–‡ç« æ ‡é¢˜ä¸€æ ·ç»ˆç»“æˆ‘ä»¬çš„é€‚é…ï¼Œè¿™æ˜¯æˆ‘ç›®å‰å‘ç°æœ€ç®€å•æœ‰æ•ˆçš„é€‚é…æ–¹æ¡ˆï¼Œå¦‚æœè§‰å¾—ä¸é”™çš„è¯è®°å¾—æ¨èç»™èº«è¾¹çš„ Androider å“¦ï¼Œä½¿ç”¨è¿‡ç¨‹æœ‰é—®é¢˜çš„è¯æ¬¢è¿åŒæ­¥åˆ° ã€ŒAndroid å±å¹•é€‚é…ç»ˆç»“è€…ã€é—®é¢˜æ±‡æ€» è¿™ä¸ª issue ä¸­ã€‚ æœ€åå†æ’ä¸ªå†…å®¹ï¼ŒAndroidUtilCode é¡¹ç›®å·²æ”¹é€ ä¸ºç»„ä»¶åŒ–ï¼Œæœ‰å…´è¶£çš„å¯ä»¥ç¿»é˜…æºç æŸ¥çœ‹ï¼Œç›¸ä¿¡ä½ è‚¯å®šä¼šå­¦åˆ°ä¸å°‘å¥½ä¸œè¥¿çš„ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘ä¼šä¸ºå¤§å®¶ä»‹ç»ä¸‹è¿™æ–¹é¢çš„å†…å®¹ï¼ŒæœŸå¾…æˆ‘èƒ½å°½å¿«å‡ºäº§å§ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>å·¥å…·ç±»</category>
      </categories>
      <tags>
        <tag>å·¥å…·ç±»</tag>
        <tag>å±å¹•é€‚é…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[App å¯åŠ¨è¿‡ç¨‹ï¼ˆå« Activity å¯åŠ¨è¿‡ç¨‹ï¼‰ | å®‰å“ offer æ”¶å‰²åŸº]]></title>
    <url>%2F2018%2F09%2F29%2Fthe-process-of-app-start%2F</url>
    <content type="text"><![CDATA[è¿™é“é¢˜åœ¨æ›¾ç»é¢è¯•ã€Œèœé¸Ÿç½‘ç»œã€ä¸­é‡åˆ°è¿‡ï¼Œä¸è¿‡å½“æ—¶åªé—®äº†ã€ŒActivity å¯åŠ¨è¿‡ç¨‹ã€ï¼Œè¿™é‡Œå¯¹æ•´ä¸ªã€ŒApp å¯åŠ¨è¿‡ç¨‹ã€è¿›è¡Œå®Œæ•´çš„æºç åˆ†æï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°å¤§å®¶ã€‚ æºç åˆ†æ1. Launcher æ•è·ç‚¹å‡»äº‹ä»¶ï¼Œå…¶è¿‡ç¨‹ä¸º Launcher#onClick -&gt; Launcher#onClickAppShortcut -&gt; Launcher#startAppShortcutOrInfoActivity -&gt; Launcher#startActivitySafely -&gt; Activity#startActivityï¼Œå…¶ Launcher3 ç›¸å…³æºç å¦‚ä¸‹æ‰€ç¤ºï¼š12345678910111213141516171819202122232425262728293031323334353637383940// https://github.com/amirzaidi/Launcher3/blob/f7951c32984036eef2f2130f21abded3ddf6160a/src/com/android/launcher3/Launcher.java#L2249public void onClick(View v) &#123; ... Object tag = v.getTag(); if (tag instanceof ShortcutInfo) &#123; onClickAppShortcut(v); &#125; ...&#125;// https://github.com/amirzaidi/Launcher3/blob/f7951c32984036eef2f2130f21abded3ddf6160a/src/com/android/launcher3/Launcher.java#L2412protected void onClickAppShortcut(final View v) &#123; ... // Start activities startAppShortcutOrInfoActivity(v);&#125;// https://github.com/amirzaidi/Launcher3/blob/f7951c32984036eef2f2130f21abded3ddf6160a/src/com/android/launcher3/Launcher.java#L2462private void startAppShortcutOrInfoActivity(View v) &#123; ItemInfo item = (ItemInfo) v.getTag(); Intent intent;// åº”ç”¨ç¨‹åºå®‰è£…çš„æ—¶å€™æ ¹æ® AndroidManifest.xml ç”± PackageManagerService è§£æå¹¶ä¿å­˜çš„ if (item instanceof PromiseAppInfo) &#123; PromiseAppInfo promiseAppInfo = (PromiseAppInfo) item; intent = promiseAppInfo.getMarketIntent(); &#125; else &#123; intent = item.getIntent(); &#125; ... boolean success = startActivitySafely(v, intent, item); ...&#125;// https://github.com/amirzaidi/Launcher3/blob/f7951c32984036eef2f2130f21abded3ddf6160a/src/com/android/launcher3/Launcher.java#L2689public boolean startActivitySafely(View v, Intent intent, ItemInfo item) &#123; ... intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); ... startActivity(intent, optsBundle); ...&#125; 2. ä»¥ API 27 æºç ä¸ºä¾‹ï¼Œè¯´åˆ°äº† Acitvity#startActivityï¼Œæˆ‘ä»¬ç‚¹å‡»æºç å¯ä»¥å‘ç°è°ƒç”¨çš„æ˜¯ Activity#startActivityForResultï¼Œå…¶ä¸­è°ƒç”¨åˆ°äº† Instrumentation#execStartActivity è¿™ä¸ªæ–¹æ³•ï¼Œæºç å¦‚ä¸‹æ‰€ç¤ºï¼š123456789101112131415161718192021// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/Activity.java#4800public void startActivity(Intent intent, @Nullable Bundle options) &#123; if (options != null) &#123; startActivityForResult(intent, -1, options); &#125; else &#123; // Note we want to go through this call for compatibility with // applications that may have overridden the method. startActivityForResult(intent, -1); &#125;&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/Activity.java#4482public void startActivityForResult(@RequiresPermission Intent intent, int requestCode, @Nullable Bundle options) &#123; ... Instrumentation.ActivityResult ar = mInstrumentation.execStartActivity( this, mMainThread.getApplicationThread(), mToken, this, intent, requestCode, options); ...&#125; 3. åœ¨ Instrumentation#execStartActivity ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°å®ƒè°ƒç”¨äº† ActivityManager#getService()#startActivityï¼Œå…¶ ActivityManager#getService() æ˜¯é‡‡ç”¨å•ä¾‹ï¼Œè¿”å›çš„æ˜¯å®ç° IActivityManager ç±»å‹çš„ Binder å¯¹è±¡ï¼Œå®ƒçš„å…·ä½“å®ç°æ˜¯åœ¨ ActivityManagerService ä¸­ã€‚1234567891011121314151617181920212223242526272829303132// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/Instrumentation.java#1578public ActivityResult execStartActivity( Context who, IBinder contextThread, IBinder token, Activity target, Intent intent, int requestCode, Bundle options) &#123; ... try &#123; ... int result = ActivityManager.getService() .startActivity(whoThread, who.getBasePackageName(), intent, intent.resolveTypeIfNeeded(who.getContentResolver()), token, target != null ? target.mEmbeddedID : null, requestCode, 0, null, options); ... &#125; catch (RemoteException e) &#123; ... &#125; return null;&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/ActivityManager.java#4216public static IActivityManager getService() &#123; return IActivityManagerSingleton.get();&#125;private static final Singleton&lt;IActivityManager&gt; IActivityManagerSingleton = new Singleton&lt;IActivityManager&gt;() &#123; @Override protected IActivityManager create() &#123; final IBinder b = ServiceManager.getService(Context.ACTIVITY_SERVICE); final IActivityManager am = IActivityManager.Stub.asInterface(b); return am; &#125; &#125;; 4. æˆ‘ä»¬å†åˆ° ActivityManagerService#startActivity æŸ¥çœ‹å…¶æºç ï¼Œå‘ç°å…¶è°ƒç”¨äº† ActivityManagerService#startActivityAsUserï¼Œè¯¥æ–¹æ³•åˆè°ƒç”¨äº† ActivityStarter#startActivityMayWaitï¼Œæºç å¦‚ä¸‹æ‰€ç¤ºï¼š12345678910111213141516171819202122// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityManagerService.java#4516@Overridepublic final int startActivity(IApplicationThread caller, String callingPackage, Intent intent, String resolvedType, IBinder resultTo, String resultWho, int requestCode, int startFlags, ProfilerInfo profilerInfo, Bundle bOptions) &#123; return startActivityAsUser(caller, callingPackage, intent, resolvedType, resultTo, resultWho, requestCode, startFlags, profilerInfo, bOptions, UserHandle.getCallingUserId());&#125;@Overridepublic final int startActivityAsUser(IApplicationThread caller, String callingPackage, Intent intent, String resolvedType, IBinder resultTo, String resultWho, int requestCode, int startFlags, ProfilerInfo profilerInfo, Bundle bOptions, int userId) &#123; enforceNotIsolatedCaller("startActivity"); userId = mUserController.handleIncomingUser(Binder.getCallingPid(), Binder.getCallingUid(), userId, false, ALLOW_FULL_ONLY, "startActivity", null); // TODO: Switch to user app stacks here. return mActivityStarter.startActivityMayWait(caller, -1, callingPackage, intent, resolvedType, null, null, resultTo, resultWho, requestCode, startFlags, profilerInfo, null, null, bOptions, false, userId, null, "startActivityAsUser");&#125; 5. æˆ‘ä»¬æŸ¥æ‰¾åˆ° ActivityStarter#startActivityMayWaitï¼Œå…¶é—´è°ƒç”¨äº† ActivityStarter#startActivityLockedï¼Œæ¥ç€æ˜¯ ActivityStarter#startActivityï¼Œç„¶åæ˜¯ ActivityStarter#startActivityUncheckedï¼Œå…¶è°ƒç”¨äº† ActivityStackSupervisor#resumeFocusedStackTopActivityLockedï¼Œæºç å¦‚ä¸‹æ‰€ç¤ºï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityStarter.java#673final int startActivityMayWait(IApplicationThread caller, int callingUid, String callingPackage, Intent intent, String resolvedType, IVoiceInteractionSession voiceSession, IVoiceInteractor voiceInteractor, IBinder resultTo, String resultWho, int requestCode, int startFlags, ProfilerInfo profilerInfo, WaitResult outResult, Configuration globalConfig, Bundle bOptions, boolean ignoreTargetSecurity, int userId, TaskRecord inTask, String reason) &#123; ... int res = startActivityLocked(caller, intent, ephemeralIntent, resolvedType, aInfo, rInfo, voiceSession, voiceInteractor, resultTo, resultWho, requestCode, callingPid, callingUid, callingPackage, realCallingPid, realCallingUid, startFlags, options, ignoreTargetSecurity, componentSpecified, outRecord, inTask, reason); ...&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityStarter.java#263int startActivityLocked(IApplicationThread caller, Intent intent, Intent ephemeralIntent, String resolvedType, ActivityInfo aInfo, ResolveInfo rInfo, IVoiceInteractionSession voiceSession, IVoiceInteractor voiceInteractor, IBinder resultTo, String resultWho, int requestCode, int callingPid, int callingUid, String callingPackage, int realCallingPid, int realCallingUid, int startFlags, ActivityOptions options, boolean ignoreTargetSecurity, boolean componentSpecified, ActivityRecord[] outActivity, TaskRecord inTask, String reason) &#123; ... mLastStartActivityResult = startActivity(caller, intent, ephemeralIntent, resolvedType, aInfo, rInfo, voiceSession, voiceInteractor, resultTo, resultWho, requestCode, callingPid, callingUid, callingPackage, realCallingPid, realCallingUid, startFlags, options, ignoreTargetSecurity, componentSpecified, mLastStartActivityRecord, inTask);&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityStarter.java#294private int startActivity(IApplicationThread caller, Intent intent, Intent ephemeralIntent, String resolvedType, ActivityInfo aInfo, ResolveInfo rInfo, IVoiceInteractionSession voiceSession, IVoiceInteractor voiceInteractor, IBinder resultTo, String resultWho, int requestCode, int callingPid, int callingUid, String callingPackage, int realCallingPid, int realCallingUid, int startFlags, ActivityOptions options, boolean ignoreTargetSecurity, boolean componentSpecified, ActivityRecord[] outActivity, TaskRecord inTask) &#123; ... return startActivity(r, sourceRecord, voiceSession, voiceInteractor, startFlags, true, options, inTask, outActivity);&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityStarter.java#988private int startActivity(final ActivityRecord r, ActivityRecord sourceRecord, IVoiceInteractionSession voiceSession, IVoiceInteractor voiceInteractor, int startFlags, boolean doResume, ActivityOptions options, TaskRecord inTask, ActivityRecord[] outActivity) &#123; ... result = startActivityUnchecked(r, sourceRecord, voiceSession, voiceInteractor, startFlags, doResume, options, inTask, outActivity); ...&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityStarter.java#1015private int startActivityUnchecked(final ActivityRecord r, ActivityRecord sourceRecord, IVoiceInteractionSession voiceSession, IVoiceInteractor voiceInteractor, int startFlags, boolean doResume, ActivityOptions options, TaskRecord inTask, ActivityRecord[] outActivity) &#123; ... mSupervisor.resumeFocusedStackTopActivityLocked(mTargetStack, mStartActivity, mOptions); ...&#125; 6. åˆ° ActivityStackSupervisor#resumeFocusedStackTopActivityLocked ä¸­æŸ¥çœ‹å‘ç°å…¶è°ƒç”¨äº† ActivityStack#resumeTopActivityUncheckedLockedï¼Œç„¶åæ˜¯ ActivityStack#resumeTopActivityInnerLockedï¼Œæ¥ç€å˜åˆå›åˆ° ActivityStackSupervisor.javaï¼Œè°ƒç”¨äº† ActivityStackSupervisor#startSpecificActivityLockedï¼Œè¿™ä¸ªæ–¹æ³•ä¸­ä¼šåˆ¤æ–­è¦å¯åŠ¨ App çš„è¿›ç¨‹æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™é€šçŸ¥è¿›ç¨‹å¯åŠ¨ Activityï¼Œå¦åˆ™å°±å…ˆå°†è¿›ç¨‹åˆ›å»ºå‡ºæ¥ï¼Œå…¶æºç å¦‚ä¸‹æ‰€ç¤ºï¼š1234567891011121314151617181920212223242526272829303132333435363738// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityStackSupervisor.java#2085boolean resumeFocusedStackTopActivityLocked( ActivityStack targetStack, ActivityRecord target, ActivityOptions targetOptions) &#123; ... return targetStack.resumeTopActivityUncheckedLocked(target, targetOptions); ...&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityStack.java#2245boolean resumeTopActivityUncheckedLocked(ActivityRecord prev, ActivityOptions options) &#123; ... result = resumeTopActivityInnerLocked(prev, options); ...&#125;http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityStack.java#2286private boolean resumeTopActivityInnerLocked(ActivityRecord prev, ActivityOptions options) &#123; ... mStackSupervisor.startSpecificActivityLocked(next, true, true); ...&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityStackSupervisor.java#1560void startSpecificActivityLocked(ActivityRecord r, boolean andResume, boolean checkConfig) &#123; ... if (app != null &amp;&amp; app.thread != null) &#123; ... // å¦‚æœè¿›ç¨‹å·²å­˜åœ¨ï¼Œåˆ™é€šçŸ¥è¿›ç¨‹å¯åŠ¨ç»„ä»¶ realStartActivityLocked(r, app, andResume, checkConfig); return; ... &#125; // å¦åˆ™å…ˆå°†è¿›ç¨‹åˆ›å»ºå‡ºæ¥ mService.startProcessLocked(r.processName, r.info.applicationInfo, true, 0, "activity", r.intent.getComponent(), false, false, true); ...&#125; 7. æˆ‘ä»¬åˆ†æè¿›ç¨‹å°šæœªå­˜åœ¨çš„æƒ…å†µï¼Œå› ä¸ºæˆ‘ä»¬åç»­è¿˜ä¼šå†æ¬¡é‡åˆ° ActivityStackSupervisor#realStartActivityLockedï¼ŒActivityStackSupervisor#startSpecificActivityLocked ä¸­åˆ›å»ºè¿›ç¨‹ä½¿ç”¨åˆ°çš„ mService ä¸º ActivityManagerServiceï¼Œæˆ‘ä»¬æŸ¥çœ‹ ActivityManagerService#startProcessLocked çš„æºç å¦‚ä¸‹æ‰€ç¤ºï¼š1234567891011// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityManagerService.java#3777private final void startProcessLocked(ProcessRecord app, String hostingType, String hostingNameStr, String abiOverride, String entryPoint, String[] entryPointArgs) &#123; ... if (entryPoint == null) entryPoint = "android.app.ActivityThread"; startResult = Process.start(entryPoint, app.processName, uid, uid, gids, debugFlags, mountExternal, app.info.targetSdkVersion, seInfo, requiredAbi, instructionSet, app.info.dataDir, invokeWith, entryPointArgs); ...&#125; 8. å‘ç°æœ€ç»ˆè°ƒç”¨çš„äº‹ Process#start æ¥å¯åŠ¨è¿›ç¨‹ï¼Œè¿›ç¨‹çš„å…¥å£å°±æ˜¯åœ¨ android.app.ActivityThread.java ç±»ä¸­çš„ main() å‡½æ•°ï¼Œå› æ­¤æ¥ä¸‹æ¥æˆ‘ä»¬ä» ActivityThread#main æ¥åˆ†æï¼Œå…¶è°ƒç”¨äº† ActivityThread#attachï¼Œå…¶ä¸­ ActivityManager.getService() ä¹‹å‰æåˆ°è¿‡ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªæ˜¯å®ç° IActivityManager ç±»å‹çš„ Binder å¯¹è±¡ï¼Œå®ƒçš„å…·ä½“å®ç°æ˜¯åœ¨ ActivityManagerService ä¸­ï¼Œç›¸å…³æºç å¦‚ä¸‹æ‰€ç¤ºï¼š12345678910111213141516171819202122232425262728// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/ActivityThread.java#6459public static void main(String[] args) &#123; ... Looper.prepareMainLooper(); ActivityThread thread = new ActivityThread(); thread.attach(false); ... Looper.loop(); ...&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/ActivityThread.java#6315private void attach(boolean system) &#123; sCurrentActivityThread = this; mSystemThread = system; if (!system) &#123; ... final IActivityManager mgr = ActivityManager.getService(); try &#123; mgr.attachApplication(mAppThread); &#125; catch (RemoteException ex) &#123; ... &#125; ... &#125; ...&#125; 9. æˆ‘ä»¬åˆå›åˆ°äº† ActivityManagerService ä¸­ï¼ŒæŸ¥çœ‹å…¶ attachApplication å‡½æ•°ï¼Œå‘ç°è°ƒç”¨äº† thread#bindApplication å’Œ mStackSupervisor#attachApplicationLocked æˆ‘ä»¬ä¾æ¬¡è®²è§£è¿™ä¸¤ä¸ªæ–¹æ³•è¦åšçš„äº‹æƒ…ï¼Œæºç å¦‚ä¸‹æ‰€ç¤ºï¼š12345678910111213141516171819202122232425262728293031323334// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityManagerService.java#7215public final void attachApplication(IApplicationThread thread) &#123; ... attachApplicationLocked(thread, callingPid); ...&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityManagerService.java#6911private final boolean attachApplicationLocked(IApplicationThread thread, int pid) &#123; .... thread.bindApplication(processName, appInfo, providers, app.instr.mClass, profilerInfo, app.instr.mArguments, app.instr.mWatcher, app.instr.mUiAutomationConnection, testMode, mBinderTransactionTrackingEnabled, enableTrackAllocation, isRestrictedBackupMode || !normalMode, app.persistent, new Configuration(getGlobalConfiguration()), app.compat, getCommonServicesLocked(app.isolated), mCoreSettingsObserver.getCoreSettingsLocked(), buildSerial); ... if (normalMode) &#123; try &#123; if (mStackSupervisor.attachApplicationLocked(app)) &#123; didSomething = true; &#125; &#125; catch (Exception e) &#123; ... &#125; &#125; ...&#125; 10. ä¸Šé¢è¯´åˆ°çš„thread#bindApplication ä¸­çš„è¿™ä¸ª thread æ˜¯æ¥è‡ªäº ActivityThread#mAppThreadï¼Œå…¶ç±»å‹æ˜¯ ApplicationThreadï¼Œæ˜¯ ActivityThread çš„ä¸€ä¸ªå†…éƒ¨ç±»ï¼Œç»§æ‰¿è‡ª IApplicationThread.Stubï¼Œæˆ‘ä»¬æ¥æŸ¥çœ‹ ApplicationThread#bindApplicationï¼Œå‘ç°æœ€åè°ƒç”¨äº† ActivityThread#sendMessage æ–¹æ³•ï¼Œå®ƒå†…éƒ¨è°ƒç”¨äº† mH.sendMessage æ¥å‘é€æ¶ˆæ¯ï¼ŒmH æ˜¯ ActivityThread çš„å†…éƒ¨ç±» H çš„ä¸€ä¸ªå®ä¾‹ï¼ŒæŸ¥çœ‹ H#handleMessage æ¥æŸ¥çœ‹å®ƒæ˜¯æ€ä¹ˆå¤„ç†å‘é€è¿‡æ¥çš„æ¶ˆæ¯ï¼Œå…¶æœ€ç»ˆèµ°åˆ°äº† ActivityThread#handleBindApplicationã€‚åœ¨æºç ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°å®ƒå…ˆåˆ›å»º mInstrumentation å¯¹è±¡ï¼Œè°ƒç”¨ data#info#makeApplication æ¥åˆ›å»º Application å¯¹è±¡ï¼Œå…¶å¯¹è±¡ data#info ä¸º LoadedApk çš„ä¸€ä¸ªå®ä¾‹ï¼ŒæŸ¥çœ‹ LoadedApk#makeApplication ä¸­ä»£ç å¯ä»¥å‘ç°ï¼Œå…¶è°ƒç”¨äº† Instrumentation#newApplication æ–¹æ³•ï¼Œå†…éƒ¨é  Class#newInstance() å®Œæˆå¯¹ Application å®ä¾‹åŒ–ï¼Œç„¶åè°ƒç”¨ Application#attach(context) æ¥ç»‘å®š Contextã€‚ ä»¥ä¸Šåˆ›å»ºå®Œ Application å¯¹è±¡åä¾¿æ˜¯è°ƒç”¨ Instrumentation#callApplicationOnCreate èµ° Application çš„ onCreate ç”Ÿå‘½å‘¨æœŸï¼Œä»¥ä¸Šæ¶‰åŠåˆ°çš„å…¨éƒ¨æºç å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/ActivityThread.java#899public final void bindApplication(String processName, ApplicationInfo appInfo, List&lt;ProviderInfo&gt; providers, ComponentName instrumentationName, ProfilerInfo profilerInfo, Bundle instrumentationArgs, IInstrumentationWatcher instrumentationWatcher, IUiAutomationConnection instrumentationUiConnection, int debugMode, boolean enableBinderTracking, boolean trackAllocation, boolean isRestrictedBackupMode, boolean persistent, Configuration config, CompatibilityInfo compatInfo, Map services, Bundle coreSettings, String buildSerial) &#123; ... sendMessage(H.BIND_APPLICATION, data);&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/ActivityThread.java#2593private void sendMessage(int what, Object obj) &#123; sendMessage(what, obj, 0, 0, false);&#125;private void sendMessage(int what, Object obj, int arg1, int arg2, boolean async) &#123; if (DEBUG_MESSAGES) Slog.v( TAG, "SCHEDULE " + what + " " + mH.codeToString(what) + ": " + arg1 + " / " + obj); Message msg = Message.obtain(); msg.what = what; msg.obj = obj; msg.arg1 = arg1; msg.arg2 = arg2; if (async) &#123; msg.setAsynchronous(true); &#125; mH.sendMessage(msg);&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/ActivityThread.java#1580public void handleMessage(Message msg) &#123; ... switch (msg.what) &#123; ... case BIND_APPLICATION: Trace.traceBegin(Trace.TRACE_TAG_ACTIVITY_MANAGER, "bindApplication"); AppBindData data = (AppBindData)msg.obj; handleBindApplication(data); Trace.traceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER); break; ... &#125;&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/ActivityThread.java#5429private void handleBindApplication(AppBindData data) &#123; ... final InstrumentationInfo ii; ... // åˆ›å»º mInstrumentation å®ä¾‹ if (ii != null) &#123; final ApplicationInfo instrApp = new ApplicationInfo(); ii.copyTo(instrApp); instrApp.initForUser(UserHandle.myUserId()); final LoadedApk pi = getPackageInfo(instrApp, data.compatInfo, appContext.getClassLoader(), false, true, false); final ContextImpl instrContext = ContextImpl.createAppContext(this, pi); try &#123; final ClassLoader cl = instrContext.getClassLoader(); mInstrumentation = (Instrumentation) cl.loadClass(data.instrumentationName.getClassName()).newInstance(); &#125; catch (Exception e) &#123; ... &#125; ... &#125; else &#123; mInstrumentation = new Instrumentation(); &#125; ... Application app; ... // åˆ›å»º Application å®ä¾‹ try &#123; ... app = data.info.makeApplication(data.restrictedBackupMode, null); mInitialApplication = app; ... try &#123; mInstrumentation.callApplicationOnCreate(app); &#125; catch (Exception e) &#123; ... &#125; &#125; finally &#123; ... &#125; ...&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/LoadedApk.java#959public Application makeApplication(boolean forceDefaultAppClass, Instrumentation instrumentation) &#123; Application app = null; String appClass = mApplicationInfo.className; if (forceDefaultAppClass || (appClass == null)) &#123; appClass = "android.app.Application"; &#125; try &#123; java.lang.ClassLoader cl = getClassLoader(); ... ContextImpl appContext = ContextImpl.createAppContext(mActivityThread, this); app = mActivityThread.mInstrumentation.newApplication( cl, appClass, appContext); appContext.setOuterContext(app); &#125; catch (Exception e) &#123; ... &#125; mActivityThread.mAllApplications.add(app); mApplication = app; if (instrumentation != null) &#123;// ä¼ å…¥ä¸º null æ‰€ä»¥ä¸èµ° try &#123; instrumentation.callApplicationOnCreate(app); &#125; catch (Exception e) &#123; ... &#125; &#125; ... return app;&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/Instrumentation.java#1084public Application newApplication(ClassLoader cl, String className, Context context) throws InstantiationException, IllegalAccessException, ClassNotFoundException &#123; return newApplication(cl.loadClass(className), context);&#125;static public Application newApplication(Class&lt;?&gt; clazz, Context context) throws InstantiationException, IllegalAccessException, ClassNotFoundException &#123; Application app = (Application)clazz.newInstance(); app.attach(context); return app;&#125; 11. è¯´å®Œäº† 9 ä¸­çš„ thread#bindApplicationï¼Œä¸‹é¢æˆ‘ä»¬ç»§ç»­è¯´ mStackSupervisor#attachApplicationLockedï¼Œå…¶ mStackSupervisor æ˜¯ ActivityStackSupervisor çš„ä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬æŸ¥çœ‹ ActivityStackSupervisor#attachApplicationLocked æ–¹æ³•ä¸­å‘ç°ä¼šè°ƒç”¨ ActivityStackSupervisor#realStartActivityLockedï¼Œå…¶æ–¹æ³•ä¼šè°ƒç”¨ app#thread#scheduleLaunchActivityï¼Œæºç å¦‚ä¸‹æ‰€ç¤ºï¼š1234567891011121314151617181920212223242526// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityStackSupervisor.java#956boolean attachApplicationLocked(ProcessRecord app) throws RemoteException &#123; final String processName = app.processName; ... if (realStartActivityLocked(activity, app, top == activity /* andResume */, true /* checkConfig */)) &#123; ... &#125; ...&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/services/core/java/com/android/server/am/ActivityStackSupervisor.java#1313final boolean realStartActivityLocked(ActivityRecord r, ProcessRecord app, boolean andResume, boolean checkConfig) throws RemoteException &#123; ... app.thread.scheduleLaunchActivity(new Intent(r.intent), r.appToken, System.identityHashCode(r), r.info, // TODO: Have this take the merged configuration instead of separate global // and override configs. mergedConfiguration.getGlobalConfiguration(), mergedConfiguration.getOverrideConfiguration(), r.compat, r.launchedFromPackage, task.voiceInteractor, app.repProcState, r.icicle, r.persistentState, results, newIntents, !andResume, mService.isNextTransitionForward(), profilerInfo); ...&#125; 12. ä¸Šé¢è¯´åˆ°çš„ app#thread#scheduleLaunchActivity ä¸­çš„ thread æ˜¯å‰é¢æåˆ°è¿‡çš„ IApplicationThreadï¼Œå®ƒçš„å®ç°ç±»æ˜¯ ActivityThread#ApplicationThread ï¼Œæˆ‘ä»¬æŸ¥çœ‹ ActivityThread#ApplicationThread#scheduleLaunchActivity ä¸­çš„ä»£ç å‘ç°æœ€ç»ˆæ˜¯å‘é€ LAUNCH_ACTIVITY æ¶ˆæ¯ï¼Œè¿™æ­¥æˆ‘ä»¬åœ¨ç¬¬ 10 æ­¥ä¸­æœ‰è¿‡åˆ†æï¼Œæˆ‘ä»¬ç›´æ¥æŸ¥çœ‹å…¶å¤„ç†æ¶ˆæ¯ç›¸å…³ä»£ç å³å¯ï¼Œåœ¨ H#handleMessage ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å…¶ä¼šæ¥æ”¶å¹¶å¤„ç†å¾ˆå¤šå’Œå››å¤§ç»„ä»¶ç›¸å…³çš„æ“ä½œï¼Œæˆ‘ä»¬æŸ¥çœ‹å¯¹ LAUNCH_ACTIVITY çš„å¤„ç†ï¼Œå‘ç°å¯¹å…¶å¤„ç†çš„æ–¹æ³•æ˜¯ ActivityThread#handleLaunchActivityï¼Œå®ƒè°ƒç”¨åˆ°äº† ActivityThread#performLaunchActivity æ–¹æ³•ï¼Œå…¶ä¸­çš„å®ç°å†æ¬¡æ¶‰åŠåˆ°äº† Instrumentation ç±»ï¼Œä¹‹å‰æ˜¯åœ¨åˆ›å»º Application å¯¹è±¡ç”¨åˆ°äº†å®ƒï¼Œå¦‚ä»Šæ˜¯åˆ›å»º Activity å¯¹è±¡åˆç”¨åˆ°äº†å®ƒï¼Œå…¶ Instrumentation#newActivity ä¹Ÿæ˜¯é€šè¿‡ Class.newInstance() æ¥å®ä¾‹åŒ– Activityï¼Œå®ä¾‹åŒ–ç»“æŸåå›åˆ° ActivityThread#performLaunchActivity ä¸­æ¥è®© activity ä¾é™„åˆ° window ä¸­ï¼Œç„¶åcallActivityOnCreate èµ° Activity çš„ onCreate ç”Ÿå‘½å‘¨æœŸï¼Œæ¶‰åŠåˆ°çš„æºç å¦‚ä¸‹æ‰€ç¤ºï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/ActivityThread.java#756public final void scheduleLaunchActivity(Intent intent, IBinder token, int ident, ActivityInfo info, Configuration curConfig, Configuration overrideConfig, CompatibilityInfo compatInfo, String referrer, IVoiceInteractor voiceInteractor, int procState, Bundle state, PersistableBundle persistentState, List&lt;ResultInfo&gt; pendingResults, List&lt;ReferrerIntent&gt; pendingNewIntents, boolean notResumed, boolean isForward, ProfilerInfo profilerInfo) &#123; ... sendMessage(H.LAUNCH_ACTIVITY, r);&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/ActivityThread.java#1580public void handleMessage(Message msg) &#123; ... switch (msg.what) &#123; ... case LAUNCH_ACTIVITY: &#123; Trace.traceBegin(Trace.TRACE_TAG_ACTIVITY_MANAGER, "activityStart"); final ActivityClientRecord r = (ActivityClientRecord) msg.obj; r.packageInfo = getPackageInfoNoCheck( r.activityInfo.applicationInfo, r.compatInfo); handleLaunchActivity(r, null, "LAUNCH_ACTIVITY"); Trace.traceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER); &#125; break; ... &#125;&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/ActivityThread.java#2833private void handleLaunchActivity(ActivityClientRecord r, Intent customIntent, String reason) &#123; ... Activity a = performLaunchActivity(r, customIntent); ...&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/ActivityThread.java#2644private Activity performLaunchActivity(ActivityClientRecord r, Intent customIntent) &#123; ... Activity activity = null; try &#123; java.lang.ClassLoader cl = appContext.getClassLoader(); activity = mInstrumentation.newActivity( cl, component.getClassName(), r.intent); ... &#125; catch (Exception e) &#123; ... &#125; try &#123; // è¿”å›ä¹‹å‰åˆ›å»ºè¿‡çš„ application å¯¹è±¡ Application app = r.packageInfo.makeApplication(false, mInstrumentation); ... if (activity != null) &#123; ... // attach åˆ° window ä¸Š activity.attach(appContext, this, getInstrumentation(), r.token, r.ident, app, r.intent, r.activityInfo, title, r.parent, r.embeddedID, r.lastNonConfigurationInstances, config, r.referrer, r.voiceInteractor, window, r.configCallback); ... if (r.isPersistable()) &#123; mInstrumentation.callActivityOnCreate(activity, r.state, r.persistentState); &#125; else &#123; mInstrumentation.callActivityOnCreate(activity, r.state); &#125; ... &#125; &#125; catch (Exception e) &#123; ... &#125; return activity;&#125;// http://androidxref.com/8.1.0_r33/xref/frameworks/base/core/java/android/app/Instrumentation.java#1143public Activity newActivity(ClassLoader cl, String className, Intent intent) throws InstantiationException, IllegalAccessException, ClassNotFoundException &#123; return (Activity)cl.loadClass(className).newInstance();&#125;public Activity newActivity(Class&lt;?&gt; clazz, Context context, IBinder token, Application application, Intent intent, ActivityInfo info, CharSequence title, Activity parent, String id, Object lastNonConfigurationInstance) throws InstantiationException, IllegalAccessException &#123; Activity activity = (Activity)clazz.newInstance(); ActivityThread aThread = null; activity.attach(context, aThread, this, token, 0 /* ident */, application, intent, info, title, parent, id, (Activity.NonConfigurationInstances)lastNonConfigurationInstance, new Configuration(), null /* referrer */, null /* voiceInteractor */, null /* window */, null /* activityConfigCallback */); return activity;&#125; åˆ°æ­¤ä¸ºæ­¢ï¼Œä¸€ä¸ª App çš„å¯åŠ¨è¿‡ç¨‹å·²åˆ†æç»“æŸï¼Œæœ€åçŒ®ä¸Šå¯åŠ¨æ¶‰åŠåˆ°çš„ç±»çš„æµç¨‹å›¾ï¼š ç»“è¯­æˆ‘æ­£åœ¨æ‰“é€ ä¸€ä¸ªå¸®åŠ© Android å¼€å‘è€…ä»¬æ‹¿åˆ°æ›´å¥½ offer çš„é¢è¯•åº“â€”â€”â€”â€”å®‰å“ offer æ”¶å‰²åŸºï¼Œæ¬¢è¿ starï¼Œè§‰å¾—ä¸é”™çš„å¯ä»¥æŒç»­å…³æ³¨ï¼Œæœ‰å…´è¶£çš„å¯ä»¥ä¸€èµ·åŠ å…¥è¿›æ¥å’Œæˆ‘ä¸€åŒæ‰“é€ ã€‚]]></content>
      <categories>
        <category>å®‰å“ offer æ”¶å‰²åŸº</category>
        <category>Android</category>
      </categories>
      <tags>
        <tag>App å¯åŠ¨è¿‡ç¨‹</tag>
        <tag>Activity å¯åŠ¨è¿‡ç¨‹</tag>
        <tag>æºç åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RecyclerView æ€§èƒ½ä¼˜åŒ– | å®‰å“ offer æ”¶å‰²åŸº]]></title>
    <url>%2F2018%2F09%2F29%2Foptimize-recycler-view%2F</url>
    <content type="text"><![CDATA[é˜¿é‡Œå››é¢æœ‰ä¸‰é¢éƒ½é—®äº†è¿™ä¸ªé—®é¢˜ï¼Œåœ¨æ­¤åšäº†æ•´ç†ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°å¤§å®¶ï¼Œæ¬¢è¿æŸ¥æ¼è¡¥ç¼ºã€‚ æ•°æ®å¤„ç†å’Œè§†å›¾åŠ è½½åˆ†ç¦»æˆ‘ä»¬çŸ¥é“ï¼Œä»è¿œç«¯æ‹‰å–æ•°æ®è‚¯å®šæ˜¯è¦æ”¾åœ¨å¼‚æ­¥çš„ï¼Œåœ¨æˆ‘ä»¬æ‹‰å–ä¸‹æ¥æ•°æ®ä¹‹åå¯èƒ½å°±åŒ†åŒ†æŠŠæ•°æ®ä¸¢ç»™äº† VH å¤„ç†ï¼Œå…¶å®ï¼Œæ•°æ®çš„å¤„ç†é€»è¾‘æˆ‘ä»¬ä¹Ÿåº”è¯¥æ”¾åœ¨å¼‚æ­¥å¤„ç†ï¼Œè¿™æ · Adapter åœ¨ notify change åï¼ŒViewHolder å°±å¯ä»¥ç®€å•æ— å‹åŠ›åœ°åšæ•°æ®ä¸è§†å›¾çš„ç»‘å®šé€»è¾‘ï¼Œæ¯”å¦‚ï¼š 1mTextView.setText(Html.fromHtml(data).toString()); è¿™é‡Œçš„ Html.fromHtml(data) æ–¹æ³•å¯èƒ½å°±æ˜¯æ¯”è¾ƒè€—æ—¶çš„ï¼Œå­˜åœ¨å¤šä¸ª TextView çš„è¯è€—æ—¶ä¼šæ›´ä¸ºä¸¥é‡ï¼Œè¿™æ ·ä¾¿ä¼šå¼•å‘æ‰å¸§ã€å¡é¡¿ï¼Œè€Œå¦‚æœæŠŠè¿™ä¸€æ­¥ä¸ç½‘ç»œå¼‚æ­¥çº¿ç¨‹æ”¾åœ¨ä¸€èµ·ï¼Œç«™åœ¨ç”¨æˆ·è§’åº¦ï¼Œæœ€å¤šå°±æ˜¯ç½‘ç»œåˆ·æ–°æ—¶é—´ç¨é•¿ä¸€ç‚¹ã€‚ æ•°æ®ä¼˜åŒ–åˆ†é¡µæ‹‰å–è¿œç«¯æ•°æ®ï¼Œå¯¹æ‹‰å–ä¸‹æ¥çš„è¿œç«¯æ•°æ®è¿›è¡Œç¼“å­˜ï¼Œæå‡äºŒæ¬¡åŠ è½½é€Ÿåº¦ï¼›å¯¹äºæ–°å¢æˆ–è€…åˆ é™¤æ•°æ®é€šè¿‡ DiffUtil æ¥è¿›è¡Œå±€éƒ¨åˆ·æ–°æ•°æ®ï¼Œè€Œä¸æ˜¯ä¸€å‘³åœ°å…¨å±€åˆ·æ–°æ•°æ®ã€‚ å¸ƒå±€ä¼˜åŒ–å‡å°‘è¿‡æ¸¡ç»˜åˆ¶å‡å°‘å¸ƒå±€å±‚çº§ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è‡ªå®šä¹‰ View æ¥å‡å°‘å±‚çº§ï¼Œæˆ–è€…æ›´åˆç†åœ°è®¾ç½®å¸ƒå±€æ¥å‡å°‘å±‚çº§ï¼Œä¸æ¨èåœ¨ RecyclerView ä¸­ä½¿ç”¨ ConstraintLayoutï¼Œæœ‰å¾ˆå¤šå¼€å‘è€…å·²ç»åæ˜ äº†ä½¿ç”¨å®ƒæ•ˆæœæ›´å·®ï¼Œç›¸å…³é“¾æ¥æœ‰ï¼šIs ConstraintLayout that slow?ã€constraintlayout 1.1.1 not work well in listviewã€‚ å‡å°‘ xml æ–‡ä»¶ inflate æ—¶é—´è¿™é‡Œçš„ xml æ–‡ä»¶ä¸ä»…åŒ…æ‹¬ layout çš„ xmlï¼Œè¿˜åŒ…æ‹¬ drawable çš„ xmlï¼Œxml æ–‡ä»¶ inflate å‡º ItemView æ˜¯é€šè¿‡è€—æ—¶çš„ IO æ“ä½œï¼Œå°¤å…¶å½“ Item çš„å¤ç”¨å‡ ç‡å¾ˆä½çš„æƒ…å†µä¸‹ï¼Œéšç€ Type çš„å¢å¤šï¼Œè¿™ç§ inflate å¸¦æ¥çš„æŸè€—æ˜¯ç›¸å½“å¤§çš„ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç”¨ä»£ç å»ç”Ÿæˆå¸ƒå±€ï¼Œå³ new View() çš„æ–¹å¼ï¼Œåªè¦ææ¸…æ¥š xml ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å±æ€§å¯¹åº”çš„ API å³å¯ã€‚ å‡å°‘ View å¯¹è±¡çš„åˆ›å»ºä¸€ä¸ªç¨å¾®å¤æ‚çš„ Item ä¼šåŒ…å«å¤§é‡çš„ Viewï¼Œè€Œå¤§é‡çš„ View çš„åˆ›å»ºä¹Ÿä¼šæ¶ˆè€—å¤§é‡æ—¶é—´ï¼Œæ‰€ä»¥è¦å°½å¯èƒ½ç®€åŒ– ItemViewï¼›è®¾è®¡ ItemType æ—¶ï¼Œå¯¹å¤š ViewType èƒ½å¤Ÿå…±ç”¨çš„éƒ¨åˆ†å°½é‡è®¾è®¡æˆè‡ªå®šä¹‰ Viewï¼Œå‡å°‘ View çš„æ„é€ å’ŒåµŒå¥—ã€‚ å…¶ä»–å…¶ä»–å¹¶ä¸ä»£è¡¨ä¸é‡è¦ï¼Œè€Œæ˜¯æˆ‘ä¸èƒ½æŠŠä»–ä»¬è¿›è¡Œåˆ†ç±»å“ˆï¼Œå…¶ä¸­å¯èƒ½æŸäº›æ“ä½œä¼šå¯¹ä½ çš„ RecyclerView æœ‰å¾ˆå¤§çš„ä¼˜åŒ–ã€‚ å‡çº§ RecycleView ç‰ˆæœ¬åˆ° 25.1.0 åŠä»¥ä¸Šä½¿ç”¨ Prefetch åŠŸèƒ½ï¼Œå¯å‚è€ƒ RecyclerView æ•°æ®é¢„å–ã€‚ å¦‚æœ Item é«˜åº¦æ˜¯å›ºå®šçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ RecyclerView.setHasFixedSize(true); æ¥é¿å… requestLayout æµªè´¹èµ„æºï¼› è®¾ç½® RecyclerView.addOnScrollListener(listener); æ¥å¯¹æ»‘åŠ¨è¿‡ç¨‹ä¸­åœæ­¢åŠ è½½çš„æ“ä½œã€‚ å¦‚æœä¸è¦æ±‚åŠ¨ç”»ï¼Œå¯ä»¥é€šè¿‡ ((SimpleItemAnimator) rv.getItemAnimator()).setSupportsChangeAnimations(false); æŠŠé»˜è®¤åŠ¨ç”»å…³é—­æ¥æç¥æ•ˆç‡ã€‚ å¯¹ TextView ä½¿ç”¨ String.toUpperCase æ¥æ›¿ä»£ android:textAllCaps=&quot;true&quot;ã€‚ å¯¹ TextView ä½¿ç”¨ StaticLayout æˆ–è€… DynamicLayout çš„è‡ªå®šä¹‰ View æ¥ä»£æ›¿å®ƒã€‚ é€šè¿‡é‡å†™ RecyclerView.onViewRecycled(holder) æ¥å›æ”¶èµ„æºã€‚ é€šè¿‡ RecycleView.setItemViewCacheSize(size); æ¥åŠ å¤§ RecyclerView çš„ç¼“å­˜ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´æ¥æé«˜æ»šåŠ¨çš„æµç•…æ€§ã€‚ å¦‚æœå¤šä¸ª RecycledView çš„ Adapter æ˜¯ä¸€æ ·çš„ï¼Œæ¯”å¦‚åµŒå¥—çš„ RecyclerView ä¸­å­˜åœ¨ä¸€æ ·çš„ Adapterï¼Œå¯ä»¥é€šè¿‡è®¾ç½® RecyclerView.setRecycledViewPool(pool); æ¥å…±ç”¨ä¸€ä¸ª RecycledViewPoolã€‚ å¯¹ ItemView è®¾ç½®ç›‘å¬å™¨ï¼Œä¸è¦å¯¹æ¯ä¸ª Item éƒ½è°ƒç”¨ addXxListenerï¼Œåº”è¯¥å¤§å®¶å…¬ç”¨ä¸€ä¸ª XxListenerï¼Œæ ¹æ® ID æ¥è¿›è¡Œä¸åŒçš„æ“ä½œï¼Œä¼˜åŒ–äº†å¯¹è±¡çš„é¢‘ç¹åˆ›å»ºå¸¦æ¥çš„èµ„æºæ¶ˆè€—ã€‚ é€šè¿‡ getExtraLayoutSpace æ¥å¢åŠ  RecyclerView é¢„ç•™çš„é¢å¤–ç©ºé—´ï¼ˆæ˜¾ç¤ºèŒƒå›´ä¹‹å¤–ï¼Œåº”è¯¥é¢å¤–ç¼“å­˜çš„ç©ºé—´ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456new LinearLayoutManager(this) &#123; @Override protected int getExtraLayoutSpace(RecyclerView.State state) &#123; return size; &#125;&#125;; ç»“è¯­æˆ‘æ­£åœ¨æ‰“é€ ä¸€ä¸ªå¸®åŠ© Android å¼€å‘è€…ä»¬æ‹¿åˆ°æ›´å¥½ offer çš„é¢è¯•åº“â€”â€”â€”â€”å®‰å“ offer æ”¶å‰²åŸºï¼Œæ¬¢è¿ starï¼Œè§‰å¾—ä¸é”™çš„å¯ä»¥æŒç»­å…³æ³¨ï¼Œæœ‰å…´è¶£çš„å¯ä»¥ä¸€èµ·åŠ å…¥è¿›æ¥å’Œæˆ‘ä¸€åŒæ‰“é€ ã€‚]]></content>
      <categories>
        <category>å®‰å“ offer æ”¶å‰²åŸº</category>
        <category>Android</category>
      </categories>
      <tags>
        <tag>RecyclerView</tag>
        <tag>ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é˜¿é‡Œå·´å·´é¢ç»è®°]]></title>
    <url>%2F2018%2F09%2F26%2Falibaba-interview%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä»Šå¹´ä¸‰æœˆä»½å…¥èŒäº†ã€Œ51ä¿¡ç”¨å¡ã€ï¼Œå…¬å¸çš„ç¦åˆ©å¾…é‡åœ¨æ­å·ä¹Ÿç®—å¾—ä¸Šæ˜¯ç¿˜æ¥šï¼Œä½†å¥½æ™¯ä¸é•¿ï¼Œæ²¡èƒ½æŒ¨è¿‡ 6 ä¸ªæœˆçš„è¯•ç”¨æœŸï¼Œå€’åœ¨äº†ä¸ƒæœˆæœ«çš„ä¸€æ³¢ CYï¼Œä¸è¿‡å…¬å¸å¯¹è¯•ç”¨æœŸå‘˜å·¥ä¹Ÿæœ‰ç¨è®¸è¡¥å¿ï¼Œå¯¹æ­¤å¾ˆæ˜¯æ„Ÿæ©ï¼ŒåŒæ—¶è¿˜è¦æ„Ÿè°¢å…±äº‹çš„å°ä¼™ä¼´ä»¬ç»™äº†æˆ‘æˆé•¿å’Œå‘å±•çš„ç©ºé—´ï¼Œå’Œä»–ä»¬åŒ†åŒ†å‘Šåˆ«åä¾¿å›å®¶ä¿®å…»ç”Ÿæ¯ï¼Œå‡†å¤‡æˆ‘çš„æ±‚èŒä¹‹è·¯ã€‚ æ›´æ–°ç®€å†ä¸Šäº† Boss ç›´è˜æ›´æ–°äº†ä¸€æ³¢è‡ªå·±çš„ç®€å†ï¼Œå…³äºç®€å†æ¨¡æ¿ï¼Œä¹‹å‰æˆ‘å°±åˆ†äº«è¿‡ï¼Œä¼ é€é—¨åœ¨æ­¤ï½ è¦æ˜¯è§‰å¾—ä¸é”™ä¸€å®šè¦è®°å¾— star å“¦ï¼Œå…³äºç®€å†ï¼Œåœ¨æ­¤å¼ºè°ƒä¸€ç‚¹ï¼Œæ­£å¸¸é€»è¾‘ä¸‹é¢è¯•å®˜èµ·åˆè‚¯å®šæ˜¯å°±ç€ç®€å†æ¥é—®é—®é¢˜çš„ï¼Œæ‰€ä»¥ç®€å†ä¸­çš„æåŠçš„æŠ€æœ¯ç‚¹è‡ªå·±ä¸€å®šè¦å…¨é¢æŒæ¡ã€‚ é€‰å–å…¬å¸ä¸€å¼€å§‹æˆ‘ä¹Ÿæ²¡æ€¥ç€æŠ•é€’ç®€å†ï¼Œå…ˆæ‰“ç®—å¥½å¥½çœ‹å‡ å¤©ä¹¦ï¼Œå†å»é¢è¯•ï¼Œä¸è¿‡ Boss ç›´è˜ä¸Šæ¯å¤©éƒ½æœ‰ HRã€å†…æ¨äººå‘˜æˆ–è€…çŒå¤´ä¸»åŠ¨è”ç³»æˆ‘ï¼Œæ„Ÿè§‰ Android å¼€å‘è¡Œæƒ…æœ€è¿‘è¿˜ä¸é”™çš„æ ·å­ã€‚å…³äºå¦‚ä½•é€‰æ‹©å…¬å¸ï¼Œæˆ‘åˆ†äº«ä¸‹æˆ‘çš„çœ‹æ³•ï¼Œå¦‚æœä½ æ˜¯ 5 å¹´ä»¥å†…çš„å¼€å‘äººå‘˜ï¼Œé‚£ä¹ˆå°½é‡å¾€å¤§å…¬å¸è·³ï¼Œå¤§å…¬å¸æœ‰å®Œå–„çš„è–ªé…¬ã€åˆ¶åº¦ä½“ç³»ï¼Œä¸ç”¨é¢ä¸´éšæ—¶å€’é—­çš„é£é™©ï¼Œå¦‚æœæ˜¯ 5 å¹´ä»¥ä¸Šçš„å¼€å‘äººå‘˜ï¼Œç»™ä½ ä¸ª 404 å§ï¼Œç›¸ä¿¡ä½ è‡ªå·±å¯ä»¥å®šå¤ºã€‚æ‰€ä»¥ï¼Œ2016 å±Šæ¯•ä¸šçš„æˆ‘è‚¯å®šæ˜¯è¦å¾€æ›´å¤§çš„å…¬å¸è·³çš„ï¼Œæœ€ç»ˆæ ¹æ®åœ°ç†ä½ç½®å’Œæˆ‘çš„æ„å‘ç­›é€‰å‡ºçš„å¿ƒä»ªå…¬å¸å±ˆæŒ‡å¯æ•°ï¼ŒåŒ…æ‹¬ã€Œæ”¯ä»˜å®ã€ã€ã€Œèœé¸Ÿç½‘ç»œã€ã€ã€ŒäºŒç»´ç«ã€å’Œã€Œæ¶‚é¸¦ç§‘æŠ€ã€ï¼Œç”±äºä¼˜å…ˆè¢«å†…æ¨äº†æ”¯ä»˜å®ï¼Œè€Œæ”¯ä»˜å®å’Œèœé¸Ÿç½‘ç»œéƒ½æ˜¯é˜¿é‡Œç³»çš„å…¬å¸ï¼ŒåŒä¸€æ—¶é—´åªèƒ½èµ°ä¸€æ¡é¢è¯•çº¿ï¼Œæ‰€ä»¥è¿™é‡Œä¾¿å’Œèœé¸Ÿç½‘ç»œè¯´äº†å†è§ã€‚ å­¦ä¹ æŠ€æœ¯ åœ¨å®¶ä¸»è¦çœ‹äº† ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹å’Œã€ŠKotlin å®æˆ˜ã€‹è¿™ä¸¤æœ¬ï¼Œè™½è¯´å’Œ Android æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä½†æˆ‘ç›¸ä¿¡è¿™ä¸¤éƒ¨åˆ†è¿˜æ˜¯éå¸¸é‡è¦çš„ï¼› å¿«é€Ÿå¤è¯»äº†ä¸€éã€ŠAndroid å¼€å‘è‰ºæœ¯æ¢ç´¢ã€‹ï¼Œè¿™æœ¬æˆ‘ä¸€ç›´è®¤ä¸ºæ˜¯ Android çš„é¢è¯•å®å…¸ï¼Œå¸Œæœ›åˆ°ç°åœ¨è¿˜æ²¡æœ‰çœ‹è¿‡çš„å¹´è½» Android å¼€å‘è€…ä»¬éƒ½å¯ä»¥è¿‡ç›®ä¸€ä¸‹ï¼› é˜…è¯»å¹¶åˆ†æ Android æºç å’Œä¸»æµä¸‰æ–¹åº“çš„æºç ï¼ŒæŠ€æœ¯è¦å¾€æ·±åº¦å‘å±•ï¼Œä¸è¦ä»…ä»…åªåœç•™åœ¨è°ƒç”¨ API çš„å±‚é¢ï¼Œè¦åšåˆ°çŸ¥å…¶ç„¶å¹¶çŸ¥å…¶æ‰€ä»¥ç„¶ã€‚ åˆ†æå¹¶å®è·µä¸€äº›ä¸»æµæ¡†æ¶çš„åŸç†ï¼Œå¦‚æ’ä»¶åŒ–ã€è‡ªåŠ¨åŒ–åŸ‹ç‚¹ã€çƒ­ä¿®å¤ã€è·¯ç”±ç­‰ã€‚ é¢è¯•ç»å†é¦–å…ˆæˆ‘æ‹¿äº†ä¸€ä¸ªä¸å¤ªä¸­æ„çš„å…ˆæ‰¾æ‰¾æ„Ÿè§‰ï¼Œé¢è¯•äº†ã€Œç‚¹æˆ‘è¾¾ã€çš„ã€Œé«˜çº§ Android å¼€å‘å·¥ç¨‹å¸ˆã€ï¼Œæ—¶é•¿ä¸¤å°æ—¶å·¦å³ï¼Œç”±äºèŒä½ä¸»è¦æ˜¯åšä¸šåŠ¡ç›¸å…³çš„ï¼Œæˆ‘ä¹Ÿè¡¨ç°å‡ºäº†å¹¶ä¸æ˜¯å¾ˆå–œæ¬¢ï¼Œä¸å‡ºæ„å¤–ï¼Œæœ€ç»ˆæŠŠæˆ‘æ‹’äº†ï¼Œä¸è¿‡è¿™æ³¢é¢è¯•ä¹Ÿè®©æˆ‘æ‰¾åˆ°äº†æ„Ÿè§‰ã€‚ ä¹‹åé¢è¯•äº†ã€ŒäºŒç»´ç«ã€çš„ã€ŒAndroid æ¶æ„å¸ˆã€ï¼Œæ—¶é•¿ä¸¤å°æ—¶å·¦å³ï¼Œè¿™ä¸ªèŒä½æ˜¯æˆ‘æ‰€æ“…é•¿çš„ï¼Œä¹Ÿæ˜¯æˆ‘å–œæ¬¢çš„ï¼Œé¢è¯•ä¹‹å offer ç»™å¾—å¾ˆçˆ½å¿«ï¼Œä¹Ÿæ˜¯ä¸ºæˆ‘ä¿ç•™æ—¶é—´æœ€ä¹…çš„ offerï¼Œä¸€ç›´ä¿ç•™åˆ°æˆ‘æ”¶åˆ°æ”¯ä»˜å®çš„ offer ä¸ºæ­¢æˆ‘æ‰ç—›å¿ƒå©‰æ‹’ï¼Œä½†æœ€ç»ˆæˆ‘è¿˜æ˜¯ç”±äºæ”¯ä»˜å®æ‹’ç»äº†å®ƒã€‚åœ¨ offer ä¿è´¨æœŸæ–¹ä¾¿ï¼Œå¦‚æœå¯ä»¥å’Œ HR åå•†ï¼Œé‚£ä¹ˆä½ åº”è¯¥æƒ³æ–¹è®¾æ³•æŠŠ offer å®æ•ˆå»¶é•¿ï¼Œæ¯•ç«ŸåŒæ–¹éƒ½æ¯”è¾ƒæ»¡æ„ï¼Œæˆ‘å°±æ˜¯è¿™ä¹ˆæ­»çš®èµ–è„¸æŠŠè¿™ä¸ª offer å»¶é•¿äº†å¥½å‡ å‘¨ã€‚ å†å°±æ˜¯é¢è¯•ã€Œæ¶‚é¸¦ç§‘æŠ€ã€çš„ã€Œé«˜çº§ Android å¼€å‘å·¥ç¨‹å¸ˆã€ï¼Œä»ä¸‹åˆä¸¤ç‚¹é¢åˆ°äº†å…­ç‚¹å¤šï¼Œç”±äºå…¶å…¬å¸åˆ›å§‹äººæ˜¯é˜¿é‡Œç³»çš„ï¼Œè®¾è®¡çš„é¢è¯•æµç¨‹å‡ ä¹å’Œé˜¿é‡Œä¸€è‡´ï¼Œä¸€ä¸‹åˆæ€»å…±ç»å†äº†äº”è½®é¢è¯•ï¼Œä¸¤å¤©åæ”¶åˆ°äº†å…¶ offerï¼Œä¿è´¨æœŸä¸€å‘¨ï¼Œç”±äºè¿˜åœ¨è‹¦è‹¦åšæŒé¢æ”¯ä»˜å®ï¼Œå’Œ HR å•†é‡ offer æ—¶æ•ˆæ€§ä¹Ÿä¸ç»™äºˆæ”¹å˜ï¼Œæ‰€ä»¥ç—›å¿ƒå©‰æ‹’ã€‚ æœ€åå°±æ˜¯é¢è¯•å¼€å§‹æœ€æ—©ç»“æŸæœ€æ™šçš„ã€Œæ”¯ä»˜å®ã€çš„ã€Œé«˜çº§ Android å¼€å‘å·¥ç¨‹å¸ˆã€ï¼Œé¦–å…ˆè¯´ä¸‹é¢è¯•çš„æ•´ä¸ªæ—¶é—´çº¿ï¼š 2018/08/08: å†…æ¨ 2018/08/14: ä¸€é¢ï¼ˆç”µè¯æŠ€æœ¯é¢ï¼‰ 2018/08/21: äºŒé¢ï¼ˆç°åœºæŠ€æœ¯é¢ï¼‰ 2018/08/25: ä¸‰é¢ï¼ˆç”µè¯æŠ€æœ¯é¢ï¼šä¸»ç®¡ï¼‰ 2018/09/05: å››é¢ï¼ˆç°åœºäº¤å‰é¢ï¼šHR å’ŒæŠ€æœ¯æ€»ç›‘ï¼‰ 2018/09/20: å£å¤´ offer 2018/09/22: ä½“æ£€ 2018/09/25: æ­£å¼ offer å…¶ä¸­æœ€å‘çš„ä¸€æ­¥å°±æ˜¯å››é¢å®Œä¹‹åç­‰ HRG çš„æ¶ˆæ¯ï¼Œå››é¢ç»“æŸçš„æ—¶å€™ç°åœºè¯´çš„æ˜¯å››é¢å®Œä¸€å‘¨å†…ä¼šç»™æˆ‘ç­”å¤ï¼Œæˆ‘å›å»åæŸ¥è¯¢é¢è¯•ç»“æœæ˜¯é€šè¿‡çŠ¶æ€ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯ offer å®¡æ‰¹é˜¶æ®µï¼Œæˆ‘ä¹Ÿå°±å¿ƒæƒ³è€å¿ƒç­‰ç€ä¾¿æ˜¯äº†ï¼Œå¯ç­‰äº†å·®ä¸å¤šä¸¤å‘¨ä¸€ç›´éƒ½æ˜¯ offer å®¡æ‰¹é˜¶æ®µï¼Œä¸­é—´ä¹Ÿæ²¡æœ‰ HR å’Œæˆ‘è”ç³»ï¼Œæˆ‘å°±è§‰å¾—ä¸å¤ªå¯¹åŠ²äº†ï¼Œåœ¨ç½‘ä¸Šæœç´¢äº†å¾ˆå¤šå…³äºã€Œé˜¿é‡Œå·´å·´ offer å®¡æ‰¹æ—¶é•¿ã€çš„å¸–å­ï¼Œä¸€åº¦è®¤ä¸ºè‡ªå·±è¿›äº†å¤‡èƒç»„ ORZï¼Œè¿™æ—¶å€™æˆ‘æƒ³æˆ‘ä¸èƒ½å†å‚»å‚»ç­‰ä¸‹å»äº†ï¼Œæ‰¾äº†å¸®æˆ‘å†…æ¨çš„å¤§å“¥è¯´æ˜äº†ä¸‹æƒ…å†µï¼Œè®©ä»–å¸®æˆ‘å‚¬ä¸€ä¸‹è¿›åº¦ï¼Œå¿ƒæƒ³è¦æ˜¯ä¸å‡†å¤‡å‘ offer çš„è¯å°±èµ¶ç´§æŠŠæˆ‘æ‹’äº†å§ï¼Œè®©æˆ‘å®‰å®‰å¿ƒå¿ƒå»ã€ŒäºŒç»´ç«ã€ä¹Ÿæˆï¼Œå¥½åœ¨ä¸¤å¤©åæ€»ç®—å¾—åˆ°äº† HRG çš„å£å¤´ offerï¼Œå¥¹ä¸€ä¸Šæ¥ä¾¿è¡¨ç¤ºäº†æ­‰æ„ï¼Œç†åº”ä¸Šå‘¨ç»™æˆ‘ç­”å¤çš„ï¼Œä½†ç”±äºå¤ªå¿™è€½æäº†ï¼Œè¿™æ ·æˆ‘ä¹Ÿä¸å¥½æ„æ€è¯´ä»€ä¹ˆã€‚å¹¸å¥½æˆ‘å‚¬å¾—è¿˜æ¯”è¾ƒä¸»åŠ¨ï¼Œä¸ç„¶å†ç­‰ä¸ªä¸¤å‘¨æˆ‘éƒ½è§‰å¾—æœ‰å¯èƒ½ã€‚ å…¶é¢è¯•å†…å®¹ä¸€é¢ã€äºŒé¢éƒ½ä»¥æŠ€æœ¯ä¸ºä¸»ï¼Œä¸‰é¢ä»¥æ¶æ„è®¾è®¡ä¸ºä¸»ï¼Œå››é¢æŠ€æœ¯æ€»ç›‘å°±æ˜¯æ³›æ³›è€Œè°ˆäº†ï¼ŒHR æ˜¯é¢é™¤æŠ€æœ¯ä»¥å¤–å¯¹ä½ æ•´ä¸ªäººçš„çœ‹æ³•ã€‚è¿™é‡Œæˆ‘è¯´ä¸ªå¾ˆå·§çš„äº‹æƒ…ï¼Œä¸€äºŒå››é¢çš„æŠ€æœ¯å®˜éƒ½é—®äº†æˆ‘ã€ŒRecyclerView çš„ä¼˜åŒ–ã€é—®é¢˜ã€‚æ¯ä½é¢è¯•å®˜éƒ½æœ‰ä¸€ç¥¨å¦å†³çš„æƒåˆ©ï¼Œé¢è¯•ç»“æœå¯ä»¥åœ¨é¢è¯•å®Œä¹‹åé€šè¿‡ç”µè¯æŸ¥è¯¢ï¼Œæˆ–è€…æ‰¾å†…æ¨äººå‘˜å¸®ä½ æŸ¥è¯¢ï¼Œåœ¨æŸ¥è¯¢åˆ°é¢è¯•ç»“æœä¹‹åæ–¹ä¾¿å®‰æ’è‡ªå·±åç»­çš„å‡†å¤‡ã€‚ è¿™ä¹ˆå¤šé¢è¯•ä¸‹æ¥å›´ç»•çš„ä¸»è¦è¿˜æ˜¯ä»¥ç®€å†ä¸ºä¸»ï¼Œæ‰€ä»¥ç®€å†ä¸­æ‰€å†™çš„æŠ€æœ¯è‡ªå·±ä¸€å®šè¦ç†Ÿçƒ‚äºå¿ƒï¼Œé¢è¯•å®˜é—®çš„é—®é¢˜å³ä¾¿ä¸ä¼šï¼Œä¹Ÿè¦è¯´å‡ºè‡ªå·±çš„æƒ³æ³•ï¼Œæœ‰äº›æ—¶å€™é¢è¯•å®˜ä¼šæ ¹æ®ä½ çš„æƒ³æ³•æ¥ç»™ä½ æç‚¹è®©ä½ ç»§ç»­æƒ³ä¸‹å»ï¼Œè®©é¢è¯•å®˜è§‰å¾—ä½ æ˜¯ä¸€ä¸ªçƒ­çˆ±æ€è€ƒçš„äººã€‚æŠ€æœ¯å’Œç»éªŒçŸ­æ—¶é—´å†…æ˜¯æ— æ³•ç¬é—´æå‡çš„ï¼Œéœ€è¦æˆ‘ä»¬å¹³æ—¶æ³¨é‡ç§¯ç´¯ã€åæ€å’Œæ€»ç»“ï¼Œè¿™æ–¹é¢å¯ä»¥é€šè¿‡å¹³æ—¶å¤šå†™åšå®¢æˆ–è€…ç¬”è®°è¿›è¡Œæ€»ç»“ï¼Œæœ‰èƒ½åŠ›å¼€æºçš„å°±åšå¼€æºï¼Œè¿™äº›éƒ½å¯ä»¥æ˜¯é¢è¯•çš„æ•²é—¨ç –ï¼Œå¦‚æœä½ çš„ GitHub å¦‚åŒä¸‹é¢æˆ‘è¿™æ ·çš„ï¼Œè¿˜æ€•ä¼šç¼ºå°‘æœºä¼šå—ï¼Œå“ˆå“ˆã€‚ é‡ç‚¹æ¥äº†ä¸Šé¢æåŠçš„é¢è¯•ç»å†ä¸æ˜¯ä¸ºäº†ç‚«è€€æˆ‘å¤šä¹ˆå‰å®³ï¼Œè€Œæ˜¯æˆ‘æƒ³æŠŠæˆ‘çš„ç»éªŒåˆ†äº«ç»™å¤§å®¶ï¼Œè®©å¤§å®¶åœ¨é¢è¯•æ–¹é¢æœ‰æ‰€æé«˜ï¼Œæˆ‘ä¹Ÿä¼šæŠŠæˆ‘æ€»ç»“çš„ Android é¢è¯•æŠ€æœ¯ç‚¹åˆ†äº«åˆ° GitHub ä¸Šï¼Œæ–¹ä¾¿å¤§å®¶æ•´ç†å’Œå­¦ä¹ ï¼Œç”±äºä¸ªäººæ—¶é—´ç²¾åŠ›èƒ½åŠ›æœ‰é™ï¼Œæ‰€ä»¥å¯èƒ½è¿›åº¦ä¼šæœ‰ç‚¹æ…¢ï¼Œä½†æˆ‘ä¼šåƒæ‰“é€  AndroidUtilCode ä¸€æ ·åšæŒä¸‹å»ï¼Œä¹Ÿæ¬¢è¿å°ä¼™ä¼´ä»¬å¯ä»¥åŠ å…¥ä¸€èµ·æ‰“é€ ï¼Œæœ‰å†…æ¨éœ€è¦çš„ä¹Ÿå¯ä»¥åœ¨é‡Œé¢æŸ¥çœ‹ï¼ŒçŒ®ä¸Šä¼ é€é—¨ AndroidOfferKillerï¼Œè§‰å¾—ä¸é”™çš„ä¸€å®šè¦ç»™ä¸ª star å“¦ï¼Œä½ çš„ star æ˜¯æˆ‘å¯¹å¤§çš„åŠ¨åŠ›ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>ç®€å†</tag>
        <tag>é˜¿é‡Œå·´å·´</tag>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android å±å¹•é€‚é…ä»æœªå¦‚æ–¯ç®€å•ï¼ˆ8æœˆ10æ—¥æœ€ç»ˆæ›´æ–°ç‰ˆï¼‰]]></title>
    <url>%2F2018%2F07%2F30%2Feasy-adapt-screen%2F</url>
    <content type="text"><![CDATA[å‰è¨€ç”±äºä¹‹å‰å‘çš„é€‚é…æ–‡ç« å…³æ³¨çš„äººæ¯”è¾ƒå¤šï¼Œè€Œä¹‹å‰çš„æ–¹æ¡ˆå­˜åœ¨è¾ƒå¤šå‘ï¼Œä½†è¿™å·²ç»è¢«æˆ‘è¿™ä¸€å‘¨æ¥ä»”ç»†ç¢ç£¨æ‰¾åˆ°äº†æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆï¼Œæ‹…å¿ƒå¤§å®¶è¿˜åœç•™åœ¨ä¹‹å‰çš„é€‚é…æ–¹å¼ï¼Œæ‰€ä»¥åœ¨æ˜é‡‘åªèƒ½é åˆ†äº«é“¾æ¥æ¥æé†’ä½ ä»¬æŸ¥çœ‹æœ€æ–°æ›´æ–°ç‰ˆæœ¬ï¼Œä¸ºä¹‹å‰è¿˜æœªæˆç†Ÿçš„é€‚é…æ·±è¡¨æ­‰æ„ï¼Œçƒ¦è¯·å¤§å®¶ä¸€èµ·å†æ¬¡é˜…è§ˆä¸€éä¸‹æ–‡å§ã€‚ ä¸€ä¸ªæœˆå‰çœ‹äº†ä»Šæ—¥å¤´æ¡æ–°çš„å±å¹•é€‚é…æ–¹æ¡ˆï¼Œè¿™æ˜¯ä¼ é€é—¨ï¼Œå¯¹æ­¤ä¸ç¦æ‹æ¡ˆå«ç»ï¼Œä¸ºæ­¤æˆ‘æƒ³æŠŠè¿™ç§æ–¹æ¡ˆèå…¥åˆ°æˆ‘å·¥å…·ç±»ä¸­ç›´æ¥ä¸€è¡Œä»£ç å³å¯é€‚é…ï¼Œå¦‚ä»Šæœ€æ–° 1.19.0 ç‰ˆ AndroidUtilCode å·²æœ‰å…¶æœ€æ–°çš„é€‚é…æ–¹æ¡ˆï¼Œå…¶ç›¸å…³å‡½æ•°åœ¨ ScreenUtils ä¸­ï¼Œç›¸å…³ API å¦‚ä¸‹æ‰€ç¤ºï¼š 1234adaptScreen4VerticalSlide : é€‚é…å‚ç›´æ»‘åŠ¨çš„å±å¹•adaptScreen4HorizontalSlide: é€‚é…æ°´å¹³æ»‘åŠ¨çš„å±å¹•cancelAdaptScreen : å–æ¶ˆé€‚é…å±å¹•isAdaptScreen : æ˜¯å¦é€‚é…å±å¹• æ•ˆæœUtilApk ä¸­çš„ ScreenAdaptActivity ä»¥è®¾è®¡å›¾ä¸º 360dp å®½åº¦ æ¥åšé€‚é…ï¼Œæˆ‘ä»¬è®¾ç½®ä¸¤ä¸ª view å®½åº¦ä¸º 180dpï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849public class ScreenAdaptActivity extends BaseActivity &#123; private TextView tvUp; private TextView tvDown; public static void start(Context context) &#123; Intent starter = new Intent(context, ScreenAdaptActivity.class); context.startActivity(starter); &#125; @Override public void initData(@Nullable Bundle bundle) &#123; if (ScreenUtils.isPortrait()) &#123; ScreenUtils.adaptScreen4VerticalSlide(this, 360); &#125; else &#123; ScreenUtils.adaptScreen4HorizontalSlide(this, 360); &#125; &#125; @Override public int bindLayout() &#123; return R.layout.activity_screen_adapt; &#125; @Override public void initView(Bundle savedInstanceState, View contentView) &#123; &#125; @Override public void doBusiness() &#123; &#125; @Override public void onWidgetClick(View view) &#123; &#125; public void toggleFullScreen(View view) &#123; ScreenUtils.toggleFullScreen(this); &#125; @Override protected void onDestroy() &#123; ScreenUtils.cancelAdaptScreen(this); super.onDestroy(); &#125;&#125; å…¶åœ¨ 1080x1920 420dpi(xxhdpi) ä¸‹çš„æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š å…¶åœ¨ 768x1280 320dpi(xhdpi) ä¸‹çš„æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š å…¶åœ¨ 480x800 240dpi(hdpi) ä¸‹çš„æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š å…¶åœ¨ 320x480 160dpi(mdpi) ä¸‹çš„æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š å¦‚ä¸Šå°±æ˜¯ç«–å±ä»¥ 360dp ä¸ºå®½åº¦å’Œå®½å±ä»¥ 360dp ä¸ºé«˜åº¦çš„é€‚é…æ•ˆæœã€‚ åŸç†å¦‚æœçœ‹äº†ä¸Šé¢ä»Šæ—¥å¤´æ¡çš„é‚£ç¯‡é€‚é…æ–‡ç« ï¼Œé‚£ä¹ˆä½ å¯èƒ½å·²ç»çŸ¥é“å…¶åŸç†äº†ï¼Œä¸æ˜ç™½çš„è¯å¯ä»¥ç»§ç»­çœ‹ä¸‹æˆ‘çš„è§£é‡Šï¼šæˆ‘ä»¬çŸ¥é“ px = dp * densityï¼Œæˆ‘ä»¬è¦é€‚é…çš„è¯éœ€è¦ç¡®ä¿ dp ä¸å˜å»ä¿®æ”¹ densityï¼Œè€Œå®‰å“é»˜è®¤ density = dpi / 160ï¼Œå…¶æ„æ€å°±æ˜¯ 1dp æœ‰å¤šå°‘ pxï¼Œä¹Ÿå°±æ˜¯åƒç´ å¯†åº¦ï¼Œæˆ‘ä»¬å¼€å‘æ˜¯æŒ‰ç…§ä¸€ä»½è®¾è®¡ç¨¿æ¥åšçš„ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•æ¥è®© density å’Œè®¾è®¡ç¨¿å°ºå¯¸åšè”ç³»å‘¢ï¼Ÿå‡è®¾æˆ‘ä»¬è®¾è®¡ç¨¿æ˜¯å®½åº¦æ˜¯ 1080pxï¼Œèµ„æºæ”¾åœ¨ xxhdpiï¼Œé‚£ä¹ˆæˆ‘ä»¬å®½åº¦è½¬æ¢ä¸º dp å°±æ˜¯ 1080 / 3 = 360dpï¼Œè¦åœ¨ä¸åŒè®¾å¤‡ä¸Šå®½åº¦éƒ½è¡¨ç°ä¸º 360dpï¼Œé‚£ä¹ˆå°±éœ€è¦ä¿®æ”¹å…¶ density = screenWidthPx / 360ï¼Œè¿™æ ·å°±æ»¡è¶³äº†ä¸Šè¿°æ¡ä»¶ï¼Œè€Œå’Œ density ç›¸å…³çš„è¿˜æœ‰ densityDpiã€scaledDensityï¼Œæˆ‘ä»¬æ ¹æ® density ç­‰æ¯”ä¿®æ”¹ densityDpiã€scaledDensity å³å¯ã€‚ ç”±äº API 26 åŠä»¥ä¸Šçš„ Activity#getResources()#getDisplayMetrics() å’Œ Application#getResources()#getDisplayMetrics() æ˜¯ä¸åŒçš„å¼•ç”¨ï¼Œæ‰€ä»¥åœ¨ API 26 åŠä»¥ä¸Šé€‚é…æ˜¯æ²¡æœ‰å½±å“çš„ï¼Œä½†åœ¨ API 26 ä»¥ä¸‹ Activity#getResources()#getDisplayMetrics() å’Œ Application#getResources()#getDisplayMetrics() æ˜¯ç›¸åŒçš„å¼•ç”¨ï¼Œå¯¼è‡´é€‚é…æœ‰é—®é¢˜ï¼Œè¿™é‡Œè¦æ„Ÿè°¢ @MirkoWu æå‡ºçš„é—®é¢˜ï¼Œåé¢ä¼šæœ‰è§£å†³ä¹‹æ³•ã€‚ å¦‚æœæˆ‘ä»¬ä»¥ xxhdpi çš„ 360dp æ¥é€‚é…çš„è¯ï¼Œé¦–å…ˆåœ¨ AS ä¸­é¢„è§ˆæ˜¯ä¸ªé—®é¢˜ï¼Œåœ¨æ¥å…¥ç¬¬ä¸‰æ–¹ SDK å¸¦æœ‰ç•Œé¢æˆ–è€… View çš„è¯ä¼šå¯¼è‡´å®ƒçš„å°ºå¯¸å…¨ç„¶ä¸å¯¹ï¼Œå› ä¸ºæˆ‘ä»¬é‚£æ ·é€‚é…åç•Œé¢å®½åº¦åªæœ‰ 360dpï¼Œè€Œç¬¬ä¸‰æ–¹ SDK ä¸­å¾ˆæœ‰å¯èƒ½å†™çš„å¸ƒå±€ä¼šè¶…å‡º 360dpï¼Œè¿™ä¾¿ä¼šå¼•å‘æ–°çš„é—®é¢˜ï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯æœ‰å“åº”çš„è§£å†³ä¹‹é“ï¼Œæ¯”å¦‚æš‚æ—¶å–æ¶ˆé€‚é…ï¼Œä½†æˆ‘ä»¬æœ‰æ›´å¥½çš„æ–¹å¼ï¼Œç€é‡çœ‹ä¸‹é¢ä»‹ç»ã€‚ æˆ‘ç€é‡æ¨èä»¥ mdpi ä¸ºç‰¹ä¾‹æ¥é€‚é…ï¼Œæ¯”å¦‚å‰é¢è¯´åˆ°çš„ xxhdpi çš„ 360dpï¼Œé‚£ä¹ˆåœ¨ mdpi ä¸‹å°±æ˜¯ 360 * 3 = 1080dpï¼Œè¿™æ ·æˆ‘ä»¬æ–°å»ºä¸€ä¸ªå®½ä¸º 1080px çš„ mdpi è®¾å¤‡ï¼ˆå¯ä»¥é€šè¿‡ä¿®æ”¹è®¾å¤‡å°ºå¯¸æ¥è¾¾åˆ° mdpiï¼‰ï¼Œç„¶ååˆ‡æ¢ä¸ºè¯¥è®¾å¤‡æ¥é¢„è§ˆå¸ƒå±€å°±å®Œç¾è§£å†³äº†ä»¥ä¸Šé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨å†™å¸ƒå±€çš„æ—¶å€™è®¾è®¡å›¾æ˜¯ 36pxï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥å°±å†™ 36dp å³å¯ï¼Œè®¾è®¡å›¾å­—ä½“æ˜¯ 24pxï¼Œ æˆ‘ä»¬ç›´æ¥å°±å†™ 24sp å³å¯ï¼Œè¿™æ ·ä¾¿å¯è¾¾åˆ°å’Œè®¾è®¡å›¾ä¸€è‡´çš„æ•ˆæœã€‚å¦å¤–ï¼Œå›¾ç‰‡èµ„æºæ”¾åœ¨éœ€è¦é€‚é…çš„æœ€é«˜ dpi ä¸‹é¢å³å¯ï¼Œæ¯”å¦‚ drawable-xxhdpi æˆ–è€… drawable-xxxhdpiï¼Œè¿™æ ·åœ¨é«˜æ¸…å±ä¸Šä¹Ÿä¸ä¼šå¯¼è‡´å¤±çœŸã€‚ ä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´è·å–çŠ¶æ€æ å’Œå¯¼èˆªæ é«˜åº¦æœ‰é—®é¢˜ï¼Œå…¶è·å–çŠ¶æ€æ é«˜åº¦ä»£ç ä¸ºå¦‚ä¸‹æ‰€ç¤ºï¼š 12345public static int getStatusBarHeight() &#123; Resources resources = Utils.getApp().getResources(); int resourceId = resources.getIdentifier("status_bar_height", "dimen", "android"); return resources.getDimensionPixelSize(resourceId);&#125; ç”±äºä½¿ç”¨çš„æ˜¯ Application#getResourcesï¼Œè¿™ä¼šå¯¼è‡´æœ€åè®¡ç®—çŠ¶æ€æ é«˜åº¦ä½¿ç”¨çš„æ˜¯ä¿®æ”¹è¿‡åçš„ densityï¼Œåœ¨è¿™é‡Œä¹Ÿè¦æ„Ÿè°¢ @magic0908 æ— æ„é—´æåˆ°çš„ Resources.getSystem() æ¥è·å–ç³»ç»Ÿçš„ Resources,æœä¸å…¶ç„¶å¯ä»¥è·å–åˆ°æ­£ç¡®é«˜åº¦çš„çŠ¶æ€æ é«˜åº¦ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 12345public static int getStatusBarHeight() &#123; Resources resources = Resources.getSystem(); int resourceId = resources.getIdentifier("status_bar_height", "dimen", "android"); return resources.getDimensionPixelSize(resourceId);&#125; åŒç†è·å–å¯¼èˆªæ é«˜åº¦ä¹Ÿå¯ä»¥è¿™æ ·ã€‚ è€ƒè™‘åˆ°äº† Resources.getSystem()ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨é€‚é…ä¸Šå²‚ä¸æ˜¯å¯ä»¥æ›´æ–¹ä¾¿ï¼Œä¸ç”¨åŒºåˆ†ç‰ˆæœ¬ä»€ä¹ˆçš„ Activity#getResources()#getDisplayMetrics() å’Œ Application#getResources()#getDisplayMetrics()ï¼Œä¹Ÿä¸éœ€è¦ä»€ä¹ˆä¸­é—´å˜é‡æ¥è®°å½•é€‚é…å‰çš„å€¼ï¼Œé‚£äº›å€¼æˆ‘ä»¬ç›´æ¥åœ¨ Resources#getSystem()#getDisplayMetrics() ä¸­è·å– densityã€densityDpiã€scaledDensity å³å¯ï¼Œè€Œä¸”åœ¨ä¿®æ”¹ç³»ç»Ÿå­—ä½“çš„æ—¶å€™ï¼ŒResources#getSystem()#getDisplayMetrics() ä¹Ÿä¼šç›¸åº”åœ°æ”¹å˜ï¼Œè¿™æ ·ä¹Ÿå°±ä¸éœ€è¦æ³¨å†Œ registerComponentCallbacks æ¥ç›‘å¬ç³»ç»Ÿå­—ä½“çš„æ”¹å˜ï¼Œæ‰€ä»¥æœ€ç»ˆçš„æºç å¾ˆæ˜¯ç®€æ´ï¼Œä½†å…¶ä¸­é—´é‡åˆ°çš„é—®é¢˜å¾ˆæ˜¯å¤æ‚ï¼Œå…‰å·¥å…·ç±»æˆ‘è¿™äº›å¤©å°±æ›´æ–°äº†å¾ˆå¤šç‰ˆæœ¬æ¥è§£å†³å…¶é—®é¢˜ï¼Œä»1.18.0 åˆ° 1.18.7ï¼Œæœ‰å…­ä¸ªç‰ˆæœ¬éƒ½æ˜¯å’Œè¿™ä¸ªé€‚é…æœ‰å…³ç³»ï¼Œä½†æœ€ç»ˆè¿˜æ˜¯å®Œç¾åœ°æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆï¼Œä¹Ÿè¦æ„Ÿè°¢å¤§å®¶çš„å¸®åŠ©ï¼Œå…¶æœ€ç»ˆæºç å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566/** * Adapt the screen for vertical slide. * * @param activity The activity. * @param designWidthInPx The size of design diagram's width, in pixel. */public static void adaptScreen4VerticalSlide(final Activity activity, final int designWidthInPx) &#123; adaptScreen(activity, designWidthInPx, true);&#125;/** * Adapt the screen for horizontal slide. * * @param activity The activity. * @param designHeightInPx The size of design diagram's height, in pixel. */public static void adaptScreen4HorizontalSlide(final Activity activity, final int designHeightInPx) &#123; adaptScreen(activity, designHeightInPx, false);&#125;/** * Reference from: https://mp.weixin.qq.com/s/d9QCoBP6kV9VSWvVldVVwA */private static void adaptScreen(final Activity activity, final int sizeInPx, final boolean isVerticalSlide) &#123; final DisplayMetrics systemDm = Resources.getSystem().getDisplayMetrics(); final DisplayMetrics appDm = Utils.getApp().getResources().getDisplayMetrics(); final DisplayMetrics activityDm = activity.getResources().getDisplayMetrics(); if (isVerticalSlide) &#123; activityDm.density = activityDm.widthPixels / (float) sizeInPx; &#125; else &#123; activityDm.density = activityDm.heightPixels / (float) sizeInPx; &#125; activityDm.scaledDensity = activityDm.density * (systemDm.scaledDensity / systemDm.dens activityDm.densityDpi = (int) (160 * activityDm.density); appDm.density = activityDm.density; appDm.scaledDensity = activityDm.scaledDensity; appDm.densityDpi = activityDm.densityDpi;&#125;/** * Cancel adapt the screen. * * @param activity The activity. */public static void cancelAdaptScreen(final Activity activity) &#123; final DisplayMetrics systemDm = Resources.getSystem().getDisplayMetrics(); final DisplayMetrics appDm = Utils.getApp().getResources().getDisplayMetrics(); final DisplayMetrics activityDm = activity.getResources().getDisplayMetrics(); activityDm.density = systemDm.density; activityDm.scaledDensity = systemDm.scaledDensity; activityDm.densityDpi = systemDm.densityDpi; appDm.density = systemDm.density; appDm.scaledDensity = systemDm.scaledDensity; appDm.densityDpi = systemDm.densityDpi;&#125;/** * Return whether adapt screen. * * @return &#123;@code true&#125;: yes&lt;br&gt;&#123;@code false&#125;: no */public static boolean isAdaptScreen() &#123; final DisplayMetrics systemDm = Resources.getSystem().getDisplayMetrics(); final DisplayMetrics appDm = Utils.getApp().getResources().getDisplayMetrics(); return systemDm.density != appDm.density;&#125; å‘ç‚¹åœ¨åŸç†é‡Œéƒ½å·²ç»è¯´å®Œäº†å“ˆã€‚ å»ºè®®æ–°è€é¡¹ç›®éƒ½å¯ä»¥ç”¨è¿™å¥—æ–¹æ¡ˆï¼Œè€é¡¹ç›®ä¸­å¦‚æœæœ‰æ–°çš„ Activity åŠ è¿›æ¥ï¼Œé‚£ä¹ˆå¯ä»¥å¯¹å…¶ä½¿ç”¨è¯¥æ–¹æ¡ˆæ¥é€‚é…ï¼Œç„¶ååœ¨å¯åŠ¨å…¶ä»–è€çš„ Activity æ—¶å€™ cancelAdaptScreen å³å¯ã€‚æ–°é¡¹ç›®æˆ‘å»ºè®®é‡‡ç”¨æˆ‘å·¥å…·ç±»ä¸­çš„ä½¿ç”¨ï¼Œå¯ä»¥è®©ä½ çˆ½åˆ°æè‡´ï¼Œåœ¨ BaseActivity ä¸­ setContentView(xx) ä¹‹å‰è°ƒç”¨é€‚é…ä»£ç å³å¯ï¼Œè®°å¾—ç¬¬äºŒä¸ªå‚æ•°ä¸€å®šè¦ä¼ å…¥è®¾è®¡å›¾çš„å®é™…åƒç´ å°ºå¯¸ï¼Œä¸å†æ˜¯æ›¾ç»çš„ dp å°ºå¯¸äº†ã€‚ æœ‰äº†å›ºå®šçš„å°ºå¯¸ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç™¾åˆ†æ¯”æ˜¯ä¸æ˜¯å°±å¾ˆå¥½å®ç°äº†ï¼Œè®¡ç®—åç›´æ¥å†™ xxdp å³å¯ï¼Œè¿™æ ·åœ¨æ‰€æœ‰è®¾å¤‡ä¸Šä¹Ÿéƒ½æ˜¯ä¸€å®šçš„æ¯”ä¾‹ï¼Œå“ªé‡Œè¿˜éœ€è¦ä»€ä¹ˆç™¾åˆ†æ¯”å¸ƒå±€ä»€ä¹ˆçš„æ¥åšï¼Ÿæ˜¯ä¸æ˜¯ so easyï¼Œæ›´å¤šé£éªšçš„æ“ä½œå¯å¾…ä½ è§£é”ã€‚ ç»“è¯­å¦‚æœæˆ‘çš„å·¥å…·ç±»å¯¹ä½ çš„é€‚é…é€ æˆäº†å½±å“ï¼Œæ¬¢è¿åˆ° AndroidUtilCode æ issueï¼Œæ„Ÿè°¢ä»Šæ—¥å¤´æ¡çš„æ–¹æ¡ˆï¼Œè®©æˆ‘å¯ä»¥ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šè£…ä¸€æ¬¡ 13ã€‚ æœ€å è®°å¾—å±å¹•é€‚é…ä¸€å®šè¦ç”¨ 1.19.0 ç‰ˆæœ¬åŠä»¥ä¸Š è®°å¾—å±å¹•é€‚é…ä¸€å®šè¦ç”¨ 1.19.0 ç‰ˆæœ¬åŠä»¥ä¸Š è®°å¾—å±å¹•é€‚é…ä¸€å®šè¦ç”¨ 1.19.0 ç‰ˆæœ¬åŠä»¥ä¸Š ç»™å¤§å®¶å¸¦æ¥äº†éº»çƒ¦ï¼Œsorryã€‚ GitHub issueå±å¹•é€‚é…é—®é¢˜æ±‡æ€»]]></content>
      <categories>
        <category>Android</category>
        <category>å·¥å…·ç±»</category>
      </categories>
      <tags>
        <tag>å·¥å…·ç±»</tag>
        <tag>å±å¹•é€‚é…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android çš„äºŒçº§ç¼“å­˜å¦‚æ–¯ç®€å•]]></title>
    <url>%2F2018%2F07%2F05%2Fdouble-cache-so-easy%2F</url>
    <content type="text"><![CDATA[CacheDiskUtilsä¹‹å‰å†™è¿‡ä¸€ç¯‡ ä½ æƒ³è¦çš„ CacheUtilsï¼Œç®€å•ä»‹ç»äº†ä¸‹å…¶å¯ä»¥å®Œç¾æ›¿ä»£ ASimpleCacheï¼Œè€Œä¸”ä¿®å¤äº†å…¶ä¸­å°‘è®¸ BUG å¹¶åšäº†ç›¸åº”ä¼˜åŒ–ï¼Œç›¸å…³ API å¦‚ä¸‹æ‰€ç¤ºï¼š ç¼“å­˜ç›¸å…³ -&gt; CacheUtils.java1234567891011121314getInstance : è·å–ç¼“å­˜å®ä¾‹Instance.put : ç¼“å­˜ä¸­å†™å…¥æ•°æ®Instance.getBytes : ç¼“å­˜ä¸­è¯»å–å­—èŠ‚æ•°ç»„Instance.getString : ç¼“å­˜ä¸­è¯»å– StringInstance.getJSONObject : ç¼“å­˜ä¸­è¯»å– JSONObjectInstance.getJSONArray : ç¼“å­˜ä¸­è¯»å– JSONArrayInstance.getBitmap : ç¼“å­˜ä¸­è¯»å– BitmapInstance.getDrawable : ç¼“å­˜ä¸­è¯»å– DrawableInstance.getParcelable : ç¼“å­˜ä¸­è¯»å– ParcelableInstance.getSerializable: ç¼“å­˜ä¸­è¯»å– SerializableInstance.getCacheSize : è·å–ç¼“å­˜å¤§å°Instance.getCacheCount : è·å–ç¼“å­˜ä¸ªæ•°Instance.remove : æ ¹æ®é”®å€¼ç§»é™¤ç¼“å­˜Instance.clear : æ¸…é™¤æ‰€æœ‰ç¼“å­˜ å…¶ä¹Ÿå°±æ˜¯æ‰€è°“çš„ç¡¬ç›˜ç¼“å­˜ï¼Œåœ¨ AndroidUtilCode 1.17.0 ç‰ˆæœ¬ï¼Œè¯¥ CacheUtils å·²è¢«æˆ‘æ ‡è®°åºŸå¼ƒï¼Œå¯æ›¿æ¢ä¸º CacheDiskUtilsï¼Œä¸‹ä¸€ä¸ªå¤§ç‰ˆæœ¬1.18.x å¯èƒ½å°±ä¼šç§»é™¤ CacheUtilsã€‚ CacheMemoryUtilsè®²äº†ç£ç›˜ç¼“å­˜å¦ä¸€ä¸ªå°±æ˜¯å†…å­˜ç¼“å­˜ï¼Œå†…å­˜ç¼“å­˜å·¥å…·ç±» CacheMemoryUtils åŸç†æ˜¯åˆ©ç”¨ LruCache æ¥å®ç°çš„ï¼ˆLRU æ˜¯Least Recently Usedçš„ç¼©å†™ï¼Œå³æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ï¼Œå…¶ API å¦‚ä¸‹æ‰€ç¤ºï¼š å†…å­˜ç¼“å­˜ç›¸å…³ -&gt; CacheMemoryUtils.java -&gt; Test123456getInstance : è·å–ç¼“å­˜å®ä¾‹Instance.put : ç¼“å­˜ä¸­å†™å…¥æ•°æ®Instance.get : ç¼“å­˜ä¸­è¯»å–å­—èŠ‚æ•°ç»„Instance.getCacheCount: è·å–ç¼“å­˜ä¸ªæ•°Instance.remove : æ ¹æ®é”®å€¼ç§»é™¤ç¼“å­˜Instance.clear : æ¸…é™¤æ‰€æœ‰ç¼“å­˜ CacheDoubleUtilsç»“åˆç¡¬ç›˜ç¼“å­˜å·¥å…·ç±» CacheDiskUtils å’Œå†…å­˜ç¼“å­˜å·¥å…·ç±» CacheMemoryUtilsï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„äºŒçº§ç¼“å­˜å·¥å…·ç±» CacheDoubleUtils ä¾¿è¯ç”Ÿäº†ï¼Œå…¶ API å¦‚ä¸‹æ‰€ç¤ºï¼š äºŒçº§ç¼“å­˜ç›¸å…³ -&gt; CacheDoubleUtils.java -&gt; Test123456789101112131415getInstance : è·å–ç¼“å­˜å®ä¾‹Instance.put : ç¼“å­˜ä¸­å†™å…¥æ•°æ®Instance.getBytes : ç¼“å­˜ä¸­è¯»å–å­—èŠ‚æ•°ç»„Instance.getString : ç¼“å­˜ä¸­è¯»å– StringInstance.getJSONObject : ç¼“å­˜ä¸­è¯»å– JSONObjectInstance.getJSONArray : ç¼“å­˜ä¸­è¯»å– JSONArrayInstance.getBitmap : ç¼“å­˜ä¸­è¯»å– BitmapInstance.getDrawable : ç¼“å­˜ä¸­è¯»å– DrawableInstance.getParcelable : ç¼“å­˜ä¸­è¯»å– ParcelableInstance.getSerializable : ç¼“å­˜ä¸­è¯»å– SerializableInstance.getCacheDiskSize : è·å–ç£ç›˜ç¼“å­˜å¤§å°Instance.getCacheDiskCount : è·å–ç£ç›˜ç¼“å­˜ä¸ªæ•°Instance.getCacheMemoryCount: è·å–å†…å­˜ç¼“å­˜ä¸ªæ•°Instance.remove : æ ¹æ®é”®å€¼ç§»é™¤ç¼“å­˜Instance.clear : æ¸…é™¤æ‰€æœ‰ç¼“å­˜ å€ŸåŠ©ä»¥ä¸Šä¸‰ä¸ªç¼“å­˜å·¥å…·ç±»ï¼Œé‚£ä¹ˆ Android ç«¯çš„ç¼“å­˜å®ç°ä¾¿å†ä¹Ÿä¸æ˜¯ä»€ä¹ˆéš¾é¢˜äº†ï¼Œä¾‹å¦‚ä½ æƒ³è¦å®ç° RxCacheï¼Œé‚£ä¹ˆå€ŸåŠ© RxJava çš„ compose æ“ä½œç¬¦å’Œæˆ‘çš„å·¥å…·ç±»ï¼ŒæŠŠæ•°æ®æ”¾å…¥ç¼“å­˜ä¸å°±è½»è€Œæ˜“ä¸¾åœ°å®ç°äº†ä¹ˆï¼Œæ›´å¤šé£éªšçš„å§¿åŠ¿å¯å¾…ä½ è§£é”ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>å·¥å…·ç±»</category>
      </categories>
      <tags>
        <tag>å·¥å…·ç±»</tag>
        <tag>ç¼“å­˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒä½ ä¸ä¼šä½¿ç”¨çº¿ç¨‹æ± äº†ï¼ˆThreadUtilsï¼‰]]></title>
    <url>%2F2018%2F05%2F23%2Fthread-utils%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± ä½¿ç”¨çº¿ç¨‹æ± ç®¡ç†çº¿ç¨‹æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š é™ä½èµ„æºæ¶ˆè€—ï¼šé€šè¿‡é‡å¤åˆ©ç”¨å·²åˆ›å»ºçš„çº¿ç¨‹é™ä½çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯é€ æˆçš„æ¶ˆè€—ã€‚ æé«˜å“åº”é€Ÿåº¦ï¼šå½“ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œä»»åŠ¡å¯ä»¥ä¸éœ€è¦ç­‰åˆ°çº¿ç¨‹åˆ›å»ºå°±èƒ½ç«‹å³æ‰§è¡Œã€‚ æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§ï¼šçº¿ç¨‹æ˜¯ç¨€ç¼ºèµ„æºï¼Œå¦‚æœæ— é™åˆ¶çš„åˆ›å»ºï¼Œä¸ä»…ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œè¿˜ä¼šé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥è¿›è¡Œç»Ÿä¸€çš„åˆ†é…ï¼Œè°ƒä¼˜å’Œç›‘æ§ã€‚ çº¿ç¨‹æ± ä»‹ç»ThreadPoolExecutorJava ä¸ºæˆ‘ä»¬æä¾›äº† ThreadPoolExecutor æ¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œå…¶å®Œæ•´æ„é€ å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) int corePoolSizeï¼ˆæ ¸å¿ƒçº¿ç¨‹æ•°ï¼‰ï¼šçº¿ç¨‹æ± æ–°å»ºçº¿ç¨‹çš„æ—¶å€™ï¼Œå¦‚æœå½“å‰çº¿ç¨‹æ€»æ•°å°äºcorePoolSizeï¼Œåˆ™æ–°å»ºçš„æ˜¯æ ¸å¿ƒçº¿ç¨‹ï¼Œå¦‚æœè¶…è¿‡corePoolSizeï¼Œåˆ™æ–°å»ºçš„æ˜¯éæ ¸å¿ƒçº¿ç¨‹ï¼›æ ¸å¿ƒçº¿ç¨‹é»˜è®¤æƒ…å†µä¸‹ä¼šä¸€ç›´å­˜æ´»åœ¨çº¿ç¨‹æ± ä¸­ï¼Œå³ä½¿è¿™ä¸ªæ ¸å¿ƒçº¿ç¨‹å•¥ä¹Ÿä¸å¹²(é—²ç½®çŠ¶æ€)ï¼›å¦‚æœè®¾ç½®äº† allowCoreThreadTimeOut ä¸º trueï¼Œé‚£ä¹ˆæ ¸å¿ƒçº¿ç¨‹å¦‚æœä¸å¹²æ´»(é—²ç½®çŠ¶æ€)çš„è¯ï¼Œè¶…è¿‡ä¸€å®šæ—¶é—´(æ—¶é•¿ä¸‹é¢å‚æ•°å†³å®š)ï¼Œå°±ä¼šè¢«é”€æ¯æ‰ã€‚ int maximumPoolSizeï¼ˆçº¿ç¨‹æ± èƒ½å®¹çº³çš„æœ€å¤§çº¿ç¨‹æ•°é‡ï¼‰ï¼šçº¿ç¨‹æ€»æ•° = æ ¸å¿ƒçº¿ç¨‹æ•° + éæ ¸å¿ƒçº¿ç¨‹æ•°ã€‚ long keepAliveTimeï¼ˆéæ ¸å¿ƒçº¿ç¨‹ç©ºé—²å­˜æ´»æ—¶é•¿ï¼‰ï¼šéæ ¸å¿ƒçº¿ç¨‹ç©ºé—²æ—¶é•¿è¶…è¿‡è¯¥æ—¶é•¿å°†ä¼šè¢«å›æ”¶ï¼Œä¸»è¦åº”ç”¨åœ¨ç¼“å­˜çº¿ç¨‹æ± ä¸­ï¼Œå½“è®¾ç½®äº† allowCoreThreadTimeOut ä¸º true æ—¶ï¼Œå¯¹æ ¸å¿ƒçº¿ç¨‹åŒæ ·èµ·ä½œç”¨ã€‚ TimeUnit unitï¼ˆkeepAliveTime çš„å•ä½ï¼‰ï¼šå®ƒæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œå¸¸ç”¨çš„å¦‚ï¼šTimeUnit.SECONDSï¼ˆç§’ï¼‰ã€TimeUnit.MILLISECONDSï¼ˆæ¯«ç§’ï¼‰ã€‚ BlockingQueue workQueueï¼ˆä»»åŠ¡é˜Ÿåˆ—ï¼‰ï¼šå½“æ‰€æœ‰çš„æ ¸å¿ƒçº¿ç¨‹éƒ½åœ¨å¹²æ´»æ—¶ï¼Œæ–°æ·»åŠ çš„ä»»åŠ¡ä¼šè¢«æ·»åŠ åˆ°è¿™ä¸ªé˜Ÿåˆ—ä¸­ç­‰å¾…å¤„ç†ï¼Œå¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œåˆ™æ–°å»ºéæ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ï¼Œå¸¸ç”¨çš„ workQueue ç±»å‹ï¼š SynchronousQueueï¼šè¿™ä¸ªé˜Ÿåˆ—æ¥æ”¶åˆ°ä»»åŠ¡çš„æ—¶å€™ï¼Œä¼šç›´æ¥æäº¤ç»™çº¿ç¨‹å¤„ç†ï¼Œè€Œä¸ä¿ç•™å®ƒï¼Œå¦‚æœæ‰€æœ‰çº¿ç¨‹éƒ½åœ¨å·¥ä½œæ€ä¹ˆåŠï¼Ÿé‚£å°±æ–°å»ºä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†è¿™ä¸ªä»»åŠ¡ï¼æ‰€ä»¥ä¸ºäº†ä¿è¯ä¸å‡ºç° çº¿ç¨‹æ•°è¾¾åˆ°äº† maximumPoolSize è€Œä¸èƒ½æ–°å»ºçº¿ç¨‹ çš„é”™è¯¯ï¼Œä½¿ç”¨è¿™ä¸ªç±»å‹é˜Ÿåˆ—çš„æ—¶å€™ï¼ŒmaximumPoolSize ä¸€èˆ¬æŒ‡å®šæˆ Integer.MAX_VALUEï¼Œå³æ— é™å¤§ã€‚ LinkedBlockingQueueï¼šè¿™ä¸ªé˜Ÿåˆ—æ¥æ”¶åˆ°ä»»åŠ¡çš„æ—¶å€™ï¼Œå¦‚æœå½“å‰çº¿ç¨‹æ•°å°äºæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œåˆ™æ–°å»ºçº¿ç¨‹(æ ¸å¿ƒçº¿ç¨‹)å¤„ç†ä»»åŠ¡ï¼›å¦‚æœå½“å‰çº¿ç¨‹æ•°ç­‰äºæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œåˆ™è¿›å…¥é˜Ÿåˆ—ç­‰å¾…ã€‚ç”±äºè¿™ä¸ªé˜Ÿåˆ—æ²¡æœ‰æœ€å¤§å€¼é™åˆ¶ï¼Œå³æ‰€æœ‰è¶…è¿‡æ ¸å¿ƒçº¿ç¨‹æ•°çš„ä»»åŠ¡éƒ½å°†è¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œè¿™ä¹Ÿå°±å¯¼è‡´äº† maximumPoolSize çš„è®¾å®šå¤±æ•ˆï¼Œå› ä¸ºæ€»çº¿ç¨‹æ•°æ°¸è¿œä¸ä¼šè¶…è¿‡ corePoolSizeã€‚ ArrayBlockingQueueï¼šå¯ä»¥é™å®šé˜Ÿåˆ—çš„é•¿åº¦ï¼Œæ¥æ”¶åˆ°ä»»åŠ¡çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰è¾¾åˆ° corePoolSize çš„å€¼ï¼Œåˆ™æ–°å»ºçº¿ç¨‹(æ ¸å¿ƒçº¿ç¨‹)æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚æœè¾¾åˆ°äº†ï¼Œåˆ™å…¥é˜Ÿç­‰å€™ï¼Œå¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™æ–°å»ºçº¿ç¨‹(éæ ¸å¿ƒçº¿ç¨‹)æ‰§è¡Œä»»åŠ¡ï¼Œåˆå¦‚æœæ€»çº¿ç¨‹æ•°åˆ°äº† maximumPoolSizeï¼Œå¹¶ä¸”é˜Ÿåˆ—ä¹Ÿæ»¡äº†ï¼Œåˆ™å‘ç”Ÿé”™è¯¯ã€‚ DelayQueueï¼šé˜Ÿåˆ—å†…å…ƒç´ å¿…é¡»å®ç° Delayed æ¥å£ï¼Œè¿™å°±æ„å‘³ç€ä½ ä¼ è¿›å»çš„ä»»åŠ¡å¿…é¡»å…ˆå®ç° Delayed æ¥å£ã€‚è¿™ä¸ªé˜Ÿåˆ—æ¥æ”¶åˆ°ä»»åŠ¡æ—¶ï¼Œé¦–å…ˆå…ˆå…¥é˜Ÿï¼Œåªæœ‰è¾¾åˆ°äº†æŒ‡å®šçš„å»¶æ—¶æ—¶é—´ï¼Œæ‰ä¼šæ‰§è¡Œä»»åŠ¡ã€‚ ThreadFactory threadFactoryï¼ˆçº¿ç¨‹å·¥å‚ï¼‰ï¼šç”¨æ¥åˆ›å»ºçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹ï¼Œé€šå¸¸ç”¨é»˜è®¤çš„å³å¯ã€‚ RejectedExecutionHandler handlerï¼ˆæ‹’ç»ç­–ç•¥ï¼‰ï¼šåœ¨çº¿ç¨‹æ± å·²ç»å…³é—­çš„æƒ…å†µä¸‹å’Œä»»åŠ¡å¤ªå¤šå¯¼è‡´æœ€å¤§çº¿ç¨‹æ•°å’Œä»»åŠ¡é˜Ÿåˆ—å·²ç»é¥±å’Œï¼Œæ— æ³•å†æ¥æ”¶æ–°çš„ä»»åŠ¡ï¼Œåœ¨ä¸Šé¢ä¸¤ç§æƒ…å†µä¸‹ï¼Œåªè¦æ»¡è¶³å…¶ä¸­ä¸€ç§æ—¶ï¼Œåœ¨ä½¿ç”¨ execute() æ¥æäº¤æ–°çš„ä»»åŠ¡æ—¶å°†ä¼šæ‹’ç»ï¼Œçº¿ç¨‹æ± æä¾›äº†ä»¥ä¸‹ 4 ç§ç­–ç•¥ï¼š AbortPolicyï¼šé»˜è®¤ç­–ç•¥ï¼Œåœ¨æ‹’ç»ä»»åŠ¡æ—¶ï¼Œä¼šæŠ›å‡ºRejectedExecutionExceptionã€‚ CallerRunsPolicyï¼šåªè¦çº¿ç¨‹æ± æœªå…³é—­ï¼Œè¯¥ç­–ç•¥ç›´æ¥åœ¨è°ƒç”¨è€…çº¿ç¨‹ä¸­ï¼Œè¿è¡Œå½“å‰çš„è¢«ä¸¢å¼ƒçš„ä»»åŠ¡ã€‚ DiscardOldestPolicyï¼šè¯¥ç­–ç•¥å°†ä¸¢å¼ƒæœ€è€çš„ä¸€ä¸ªè¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å³å°†è¢«æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¹¶å°è¯•å†æ¬¡æäº¤å½“å‰ä»»åŠ¡ã€‚ DiscardPolicyï¼šè¯¥ç­–ç•¥é»˜é»˜çš„ä¸¢å¼ƒæ— æ³•å¤„ç†çš„ä»»åŠ¡ï¼Œä¸äºˆä»»ä½•å¤„ç†ã€‚ çº¿ç¨‹æ± æ‰§è¡Œç­–ç•¥å½“ä¸€ä¸ªä»»åŠ¡è¦è¢«æ·»åŠ è¿›çº¿ç¨‹æ± æ—¶ï¼Œæœ‰ä»¥ä¸‹å››ç§æ‰§è¡Œç­–ç•¥ï¼š çº¿ç¨‹æ•°é‡æœªè¾¾åˆ° corePoolSizeï¼Œåˆ™æ–°å»ºä¸€ä¸ªçº¿ç¨‹ï¼ˆæ ¸å¿ƒçº¿ç¨‹ï¼‰æ‰§è¡Œä»»åŠ¡ã€‚ çº¿ç¨‹æ•°é‡è¾¾åˆ°äº† corePoolsSizeï¼Œåˆ™å°†ä»»åŠ¡ç§»å…¥é˜Ÿåˆ—ç­‰å¾…ã€‚ é˜Ÿåˆ—å·²æ»¡ï¼Œæ–°å»ºéæ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚ é˜Ÿåˆ—å·²æ»¡ï¼Œæ€»çº¿ç¨‹æ•°åˆè¾¾åˆ°äº† maximumPoolSizeï¼Œå°±ä¼šç”± RejectedExecutionHandler æŠ›å‡ºå¼‚å¸¸ã€‚ å…¶æµç¨‹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š å¸¸è§çš„å››ç±»çº¿ç¨‹æ± å¸¸è§çš„å››ç±»çº¿ç¨‹æ± åˆ†åˆ«æœ‰ FixedThreadPoolã€SingleThreadExecutorã€ScheduledThreadPool å’Œ CachedThreadPoolï¼Œå®ƒä»¬å…¶å®éƒ½æ˜¯é€šè¿‡ ThreadPoolExecutor åˆ›å»ºçš„ï¼Œå…¶å‚æ•°å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š å‚æ•° FixedThreadPool SingleThreadExecutor ScheduledThreadPool CachedThreadPool corePoolSize nThreads 1 corePoolSize 0 maximumPoolSize nThreads 1 Integer.MAX_VALUE Integer.MAX_VALUE keepAliveTime 0 0 10 60 unit MILLISECONDS MILLISECONDS MILLISECONDS SECONDS workQueue LinkedBlockingQueue LinkedBlockingQueue DelayedWorkQueue SynchronousQueue threadFactory defaultThreadFactory defaultThreadFactory defaultThreadFactory defaultThreadFactory handler defaultHandler defaultHandler defaultHandler defaultHandler é€‚ç”¨åœºæ™¯ å·²çŸ¥å¹¶å‘å‹åŠ›çš„æƒ…å†µä¸‹ï¼Œå¯¹çº¿ç¨‹æ•°åšé™åˆ¶ éœ€è¦ä¿è¯é¡ºåºæ‰§è¡Œçš„åœºæ™¯ï¼Œå¹¶ä¸”åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œ éœ€è¦å¤šä¸ªåå°çº¿ç¨‹æ‰§è¡Œå‘¨æœŸä»»åŠ¡çš„åœºæ™¯ å¤„ç†æ‰§è¡Œæ—¶é—´æ¯”è¾ƒçŸ­çš„ä»»åŠ¡ å¦‚æœä½ ä¸æƒ³è‡ªå·±å†™ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä»ä¸Šé¢çœ‹çœ‹æœ‰æ²¡æœ‰ç¬¦åˆä½ è¦æ±‚çš„ï¼ˆä¸€èˆ¬éƒ½å¤Ÿç”¨äº†ï¼‰ï¼Œå¦‚æœæœ‰ï¼Œé‚£ä¹ˆå¾ˆå¥½ä½ ç›´æ¥ç”¨å°±è¡Œäº†ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£ä½ å°±è€è€å®å®è‡ªå·±å»å†™ä¸€ä¸ªå§ã€‚ åˆç†åœ°é…ç½®çº¿ç¨‹æ± éœ€è¦é’ˆå¯¹å…·ä½“æƒ…å†µè€Œå…·ä½“å¤„ç†ï¼Œä¸åŒçš„ä»»åŠ¡ç±»åˆ«åº”é‡‡ç”¨ä¸åŒè§„æ¨¡çš„çº¿ç¨‹æ± ï¼Œä»»åŠ¡ç±»åˆ«å¯åˆ’åˆ†ä¸º CPU å¯†é›†å‹ä»»åŠ¡ã€IO å¯†é›†å‹ä»»åŠ¡å’Œæ··åˆå‹ä»»åŠ¡ã€‚ CPU å¯†é›†å‹ä»»åŠ¡ï¼šçº¿ç¨‹æ± ä¸­çº¿ç¨‹ä¸ªæ•°åº”å°½é‡å°‘ï¼Œæ¨èé…ç½®ä¸º (CPU æ ¸å¿ƒæ•° + 1)ï¼› IO å¯†é›†å‹ä»»åŠ¡ï¼šç”±äº IO æ“ä½œé€Ÿåº¦è¿œä½äº CPU é€Ÿåº¦ï¼Œé‚£ä¹ˆåœ¨è¿è¡Œè¿™ç±»ä»»åŠ¡æ—¶ï¼ŒCPU ç»å¤§å¤šæ•°æ—¶é—´å¤„äºç©ºé—²çŠ¶æ€ï¼Œé‚£ä¹ˆçº¿ç¨‹æ± å¯ä»¥é…ç½®å°½é‡å¤šäº›çš„çº¿ç¨‹ï¼Œä»¥æé«˜ CPU åˆ©ç”¨ç‡ï¼Œæ¨èé…ç½®ä¸º (2 * CPU æ ¸å¿ƒæ•° + 1)ï¼› æ··åˆå‹ä»»åŠ¡ï¼šå¯ä»¥æ‹†åˆ†ä¸º CPU å¯†é›†å‹ä»»åŠ¡å’Œ IO å¯†é›†å‹ä»»åŠ¡ï¼Œå½“è¿™ä¸¤ç±»ä»»åŠ¡æ‰§è¡Œæ—¶é—´ç›¸å·®æ— å‡ æ—¶ï¼Œé€šè¿‡æ‹†åˆ†å†æ‰§è¡Œçš„ååç‡é«˜äºä¸²è¡Œæ‰§è¡Œçš„ååç‡ï¼Œä½†è‹¥è¿™ä¸¤ç±»ä»»åŠ¡æ‰§è¡Œæ—¶é—´æœ‰æ•°æ®çº§çš„å·®è·ï¼Œé‚£ä¹ˆæ²¡æœ‰æ‹†åˆ†çš„æ„ä¹‰ã€‚ çº¿ç¨‹æ± å·¥å…·ç±»å°è£…åŠä½¿ç”¨ä¸ºäº†æå‡å¼€å‘æ•ˆç‡åŠæ›´å¥½åœ°ä½¿ç”¨å’Œç®¡ç†çº¿ç¨‹æ± ï¼Œæˆ‘å·²ç»ä¸ºä½ ä»¬å°è£…å¥½äº†çº¿ç¨‹å·¥å…·ç±»â€”-ThreadUtilsï¼Œä¾èµ– AndroidUtilCode 1.16.1 ç‰ˆæœ¬å³å¯ä½¿ç”¨ï¼Œå…¶ API å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425isMainThread : åˆ¤æ–­å½“å‰æ˜¯å¦ä¸»çº¿ç¨‹getFixedPool : è·å–å›ºå®šçº¿ç¨‹æ± getSinglePool : è·å–å•çº¿ç¨‹æ± getCachedPool : è·å–ç¼“å†²çº¿ç¨‹æ± getIoPool : è·å– IO çº¿ç¨‹æ± getCpuPool : è·å– CPU çº¿ç¨‹æ± executeByFixed : åœ¨å›ºå®šçº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeByFixedWithDelay : åœ¨å›ºå®šçº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeByFixedAtFixRate : åœ¨å›ºå®šçº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡executeBySingle : åœ¨å•çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeBySingleWithDelay: åœ¨å•çº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeBySingleAtFixRate: åœ¨å•çº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡executeByCached : åœ¨ç¼“å†²çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeByCachedWithDelay: åœ¨ç¼“å†²çº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeByCachedAtFixRate: åœ¨ç¼“å†²çº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡executeByIo : åœ¨ IO çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeByIoWithDelay : åœ¨ IO çº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeByIoAtFixRate : åœ¨ IO çº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡executeByCpu : åœ¨ CPU çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeByCpuWithDelay : åœ¨ CPU çº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeByCpuAtFixRate : åœ¨ CPU çº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡executeByCustom : åœ¨è‡ªå®šä¹‰çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeByCustomWithDelay: åœ¨è‡ªå®šä¹‰çº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeByCustomAtFixRate: åœ¨è‡ªå®šä¹‰çº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡cancel : å–æ¶ˆä»»åŠ¡çš„æ‰§è¡Œ å¦‚æœä½ ä½¿ç”¨ RxJava å¾ˆ 6ï¼Œè€Œä¸”é¡¹ç›®ä¸­å·²ç»ä½¿ç”¨äº† RxJavaï¼Œé‚£ä¹ˆä½ å¯ä»¥ç»§ç»­ä½¿ç”¨ RxJava æ¥åšçº¿ç¨‹åˆ‡æ¢çš„æ“ä½œï¼›å¦‚æœä½ å¹¶ä¸ä¼š RxJava æˆ–è€…æ˜¯åœ¨å¼€å‘ SDKï¼Œé‚£ä¹ˆè¿™ä¸ªå·¥å…·ç±»å†é€‚åˆä½ ä¸è¿‡äº†ï¼Œå®ƒå¯ä»¥ä¸ºä½ ç»Ÿä¸€ç®¡ç†çº¿ç¨‹æ± çš„ä½¿ç”¨ï¼Œä¸è‡³äºè®©ä½ çš„é¡¹ç›®ä¸­å‡ºç°è¿‡å¤šçš„çº¿ç¨‹æ± ã€‚ ThreadUtils ä½¿ç”¨æä¸ºæ–¹ä¾¿ï¼Œçœ‹ API å³å¯æ˜ç™½ç›¸å…³æ„æ€ï¼ŒFixedPoolã€SinglePoolã€CachedPool åˆ†åˆ«å¯¹åº”äº†ä¸Šé¢ä»‹ç»çš„ FixedThreadPoolã€SingleThreadExecutorã€CachedThreadPool è¿™ä¸‰ç§ï¼ŒIoPool æ˜¯åˆ›å»º (CPU_COUNT * 2 + 1) ä¸ªæ ¸å¿ƒçº¿ç¨‹æ•°ï¼ŒCpuPool æ˜¯å»ºç«‹ (CPU_COUNT + 1) ä¸ªæ ¸å¿ƒçº¿ç¨‹æ•°ï¼›è€Œæ‰€æœ‰çš„ execute éƒ½æ˜¯çº¿ç¨‹æ± å¤–å›´è£¹äº†ä¸€å±‚ ScheduledThreadPoolï¼Œè¿™é‡Œå’Œ RxJava çº¿ç¨‹æ± çš„å®ç°æœ‰æ‰€ç›¸ä¼¼ï¼Œå¯ä»¥æ›´æ–¹ä¾¿åœ°æä¾›å»¶æ—¶ä»»åŠ¡å’Œå›ºå®šé¢‘ç‡æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ›´æ–¹ä¾¿åœ°å–æ¶ˆä»»åŠ¡çš„æ‰§è¡Œï¼Œä¸‹é¢è®©æˆ‘ä»¬æ¥ç®€å•åœ°æ¥ä»‹ç»å…¶ä½¿ç”¨ï¼Œä»¥ä» assets ä¸­æ‹·è´ APK åˆ° SD å¡ä¸ºä¾‹ï¼Œå…¶ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223public static void releaseInstallApk(final OnReleasedListener listener) &#123; if (!FileUtils.isFileExists(Config.TEST_APK_PATH)) &#123; ThreadUtils.executeByIo(new ThreadUtils.SimpleTask&lt;Void&gt;() &#123; @Override public Void doInBackground() throws Throwable &#123; ResourceUtils.copyFileFromAssets("test_install", Config.TEST_APK_PATH); return null; &#125; @Override public void onSuccess(Void result) &#123; if (listener != null) &#123; listener.onReleased(); &#125; &#125; &#125;); &#125; else &#123; if (listener != null) &#123; listener.onReleased(); &#125; LogUtils.d("test apk existed."); &#125;&#125; çœ‹èµ·æ¥è¿˜ä¸æ˜¯å¾ˆä¼˜é›…æ˜¯å§ï¼Œä½ å¯ä»¥æŠŠç›¸å…³çš„ Task éƒ½æŠ½å‡ºæ¥æ”¾åˆ°åˆé€‚çš„åŒ…ä¸‹ï¼Œè¿™æ ·æ¯ä¸ª Task çš„èŒè´£ä¸€çœ‹ä¾¿çŸ¥ï¼Œå¦‚ä¸Šä¾‹å­å¯ä»¥æ”¹è£…æˆå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536public class ReleaseInstallApkTask extends ThreadUtils.SimpleTask&lt;Void&gt; &#123; private OnReleasedListener mListener; public ReleaseInstallApkTask(final OnReleasedListener listener) &#123; mListener = listener; &#125; @Override public Void doInBackground() throws Throwable &#123; ResourceUtils.copyFileFromAssets("test_install", Config.TEST_APK_PATH); return null; &#125; @Override public void onSuccess(Void result) &#123; if (mListener != null) &#123; mListener.onReleased(); &#125; &#125; public void execute() &#123; ThreadUtils.executeByIo(this); &#125;&#125;public static void releaseInstallApk(final OnReleasedListener listener) &#123; if (!FileUtils.isFileExists(Config.TEST_APK_PATH)) &#123; new ReleaseInstallApkTask(listener).execute(); &#125; else &#123; if (listener != null) &#123; listener.onReleased(); &#125; LogUtils.d("test apk existed."); &#125;&#125; æ˜¯ä¸æ˜¯ç¬é—´æ¸…çˆ½äº†å¾ˆå¤šï¼Œå¦‚æœæ‰§è¡ŒæˆåŠŸçš„å›è°ƒä¸­æ¶‰åŠäº† View ç›¸å…³çš„æ“ä½œï¼Œé‚£ä¹ˆä½ éœ€è¦åœ¨ destroy ä¸­å–æ¶ˆ task çš„æ‰§è¡Œå“¦ï¼Œå¦åˆ™ä¼šå†…å­˜æ³„æ¼å“¦ï¼Œç»§ç»­ä»¥ä¸Šé¢çš„ä¾‹å­ä¸ºä¾‹ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910public class XXActivity extends Activity &#123; Â·Â·Â· @Override protected void onDestroy() &#123; // ThreadUtils.cancel(releaseInstallApkTask); æˆ–è€…ä¸‹é¢çš„å–æ¶ˆéƒ½å¯ä»¥ releaseInstallApkTask.cancel(); super.onDestroy(); &#125;&#125; ä»¥ä¸Šæ˜¯ä»¥ SimpleTask ä¸ºä¾‹ï¼ŒTask çš„è¯ä¼šå¤šä¸¤ä¸ªå›è°ƒï¼ŒonCancel() å’Œ onFail(Throwable t)ï¼Œå®ƒä»¬å’Œ onSuccess(T result) éƒ½æ˜¯äº’æ–¥çš„ï¼Œæœ€ç»ˆå›è°ƒåªä¼šèµ°å®ƒä»¬å…¶ä¸­ä¹‹ä¸€ï¼Œå¹¶ä¸”åœ¨ Android ç«¯æ˜¯å‘é€åˆ°ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¦‚æœæ˜¯ Java ç«¯çš„è¯é‚£å°±è¿˜æ˜¯ä¼šåœ¨ç›¸åº”çš„çº¿ç¨‹æ± ä¸­æ‰§è¡Œï¼Œè¿™ç‚¹ä¹Ÿæ–¹ä¾¿äº†æˆ‘åšå•å…ƒæµ‹è¯•ã€‚ çº¿ç¨‹æ± å·¥å…·ç±»å•å…ƒæµ‹è¯•å¦‚æœé‡åˆ°äº†å¼‚æ­¥çš„å•æµ‹ï¼Œä½ ä¼šå‘ç°å•æµ‹å¾ˆå¿«å°±è·‘å®Œå‘¢ï¼Œå¹¶æ²¡æœ‰ç­‰å¾…æˆ‘ä»¬çº¿ç¨‹è·‘å®Œå†ç»“æŸï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ CountDownLatch æ¥ç­‰å¾…çº¿ç¨‹çš„ç»“æŸï¼Œæˆ–è€…åŒ–å¼‚æ­¥ä¸ºåŒæ­¥çš„åšæ³•ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ CountDownLatch æ¥å®ç°ï¼Œæˆ‘è¿›è¡Œäº†ç®€å•çš„å°è£…ï¼Œæµ‹è¯• Fixed çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163public class ThreadUtilsTest &#123; @Test public void executeByFixed() throws Exception &#123; asyncTest(10, new TestRunnable&lt;String&gt;() &#123; @Override public void run(final int index, CountDownLatch latch) &#123; final TestTask&lt;String&gt; task = new TestTask&lt;String&gt;(latch) &#123; @Override public String doInBackground() throws Throwable &#123; Thread.sleep(500 + index * 10); if (index &lt; 4) &#123; return Thread.currentThread() + " :" + index; &#125; else if (index &lt; 7) &#123; cancel(); return null; &#125; else &#123; throw new NullPointerException(String.valueOf(index)); &#125; &#125; @Override void onTestSuccess(String result) &#123; System.out.println(result); &#125; &#125;; ThreadUtils.executeByFixed(3, task); &#125; &#125;); &#125; @Test public void executeByFixedWithDelay() throws Exception &#123; asyncTest(10, new TestRunnable&lt;String&gt;() &#123; @Override public void run(final int index, CountDownLatch latch) &#123; final TestTask&lt;String&gt; task = new TestTask&lt;String&gt;(latch) &#123; @Override public String doInBackground() throws Throwable &#123; Thread.sleep(500); if (index &lt; 4) &#123; return Thread.currentThread() + " :" + index; &#125; else if (index &lt; 7) &#123; cancel(); return null; &#125; else &#123; throw new NullPointerException(String.valueOf(index)); &#125; &#125; @Override void onTestSuccess(String result) &#123; System.out.println(result); &#125; &#125;; ThreadUtils.executeByFixedWithDelay(3, task, 500 + index * 10, TimeUnit.MILLISECONDS); &#125; &#125;); &#125; @Test public void executeByFixedAtFixRate() throws Exception &#123; asyncTest(10, new TestRunnable&lt;String&gt;() &#123; @Override public void run(final int index, CountDownLatch latch) &#123; final TestScheduledTask&lt;String&gt; task = new TestScheduledTask&lt;String&gt;(latch, 3) &#123; @Override public String doInBackground() throws Throwable &#123; Thread.sleep(500 + index * 10); if (index &lt; 4) &#123; return Thread.currentThread() + " :" + index; &#125; else if (index &lt; 7) &#123; cancel(); return null; &#125; else &#123; throw new NullPointerException(String.valueOf(index)); &#125; &#125; @Override void onTestSuccess(String result) &#123; System.out.println(result); &#125; &#125;; ThreadUtils.executeByFixedAtFixRate(3, task, 3000 + index * 10, TimeUnit.MILLISECONDS); &#125; &#125;); &#125; abstract static class TestScheduledTask&lt;T&gt; extends ThreadUtils.Task&lt;T&gt; &#123; private static final AtomicInteger ATOMIC_INTEGER = new AtomicInteger(); private int mTimes; CountDownLatch mLatch; TestScheduledTask(final CountDownLatch latch, final int times) &#123; mLatch = latch; mTimes = times; &#125; abstract void onTestSuccess(T result); @Override public void onSuccess(T result) &#123; onTestSuccess(result); if (ATOMIC_INTEGER.addAndGet(1) % mTimes == 0) &#123; mLatch.countDown(); &#125; &#125; @Override public void onCancel() &#123; System.out.println(Thread.currentThread() + " onCancel: "); mLatch.countDown(); &#125; @Override public void onFail(Throwable t) &#123; System.out.println(Thread.currentThread() + " onFail: " + t); mLatch.countDown(); &#125; &#125; abstract static class TestTask&lt;T&gt; extends ThreadUtils.Task&lt;T&gt; &#123; CountDownLatch mLatch; TestTask(final CountDownLatch latch) &#123; mLatch = latch; &#125; abstract void onTestSuccess(T result); @Override public void onSuccess(T result) &#123; onTestSuccess(result); mLatch.countDown(); &#125; @Override public void onCancel() &#123; System.out.println(Thread.currentThread() + " onCancel: "); mLatch.countDown(); &#125; @Override public void onFail(Throwable t) &#123; System.out.println(Thread.currentThread() + " onFail: " + t); mLatch.countDown(); &#125; &#125; &lt;T&gt; void asyncTest(int threadCount, TestRunnable&lt;T&gt; runnable) throws Exception &#123; CountDownLatch latch = new CountDownLatch(threadCount); for (int i = 0; i &lt; threadCount; i++) &#123; runnable.run(i, latch); &#125; latch.await(); &#125; interface TestRunnable&lt;T&gt; &#123; void run(final int index, CountDownLatch latch); &#125;&#125; æœ€åæƒ³è¯´çš„è¯æ„Ÿè°¢å¤§å®¶ä¸€èµ·é™ªä¼´ AndroidUtilCode çš„æˆé•¿ï¼Œæ ¸å¿ƒå·¥å…·ç±»å‡ ä¹éƒ½å·²å›Šæ‹¬ï¼Œä¹Ÿæ˜¯æ±‡é›†äº†æˆ‘å¤§é‡çš„å¿ƒè¡€ï¼ŒæŠŠå¼€æºåšåˆ°äº†æè‡´ï¼Œå¸Œæœ›å¤§å®¶å¯ä»¥ç”¨çš„èˆ’å¿ƒï¼Œå¤§å¤§æå‡å¼€å‘æ•ˆç‡ï¼Œæ—©æ—¥èµ¢å–ç™½å¯Œç¾ï¼Œèµ°ä¸Šäººç”Ÿå·…å³°ã€‚ åæ–‡å†æ·»åŠ ä¸€ä¸ªä¸ªäººå¯¹ OkHttp çš„çº¿ç¨‹æ± çš„ä½¿ç”¨åˆ†æï¼Œç®—æ˜¯é€ä¸Šä¸ªå°ç¦åˆ©ã€‚ OkHttp ä¸­çš„çº¿ç¨‹æ± ä½¿ç”¨æŸ¥çœ‹ OkHttp çš„æºç å‘ç°ï¼Œä¸è®ºæ˜¯åŒæ­¥è¯·æ±‚è¿˜æ˜¯å¼‚æ­¥è¯·æ±‚ï¼Œæœ€ç»ˆéƒ½æ˜¯äº¤ç»™ Dispatcher åšå¤„ç†ï¼Œæˆ‘ä»¬çœ‹ä¸‹è¯¥ç±»å’Œçº¿ç¨‹æ± æœ‰å…³çš„çš„ä¸»è¦ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283public final class Dispatcher &#123; // æœ€å¤§è¯·æ±‚æ•° private int maxRequests = 64; // ç›¸åŒ host æœ€å¤§è¯·æ±‚æ•° private int maxRequestsPerHost = 5; // è¯·æ±‚æ‰§è¡Œçº¿ç¨‹æ± ï¼Œæ‡’åŠ è½½ private @Nullable ExecutorService executorService; // å°±ç»ªçŠ¶æ€çš„å¼‚æ­¥è¯·æ±‚é˜Ÿåˆ— private final Deque&lt;AsyncCall&gt; readyAsyncCalls = new ArrayDeque&lt;&gt;(); // è¿è¡Œä¸­çš„å¼‚æ­¥è¯·æ±‚é˜Ÿåˆ—ï¼ŒåŒ…æ‹¬è¿˜æ²¡å®Œæˆçš„è¯·æ±‚ private final Deque&lt;AsyncCall&gt; runningAsyncCalls = new ArrayDeque&lt;&gt;(); public Dispatcher(ExecutorService executorService) &#123; this.executorService = executorService; &#125; public Dispatcher() &#123; &#125; public synchronized ExecutorService executorService() &#123; if (executorService == null) &#123; // å’Œ CachedThreadPool å¾ˆç›¸ä¼¼ executorService = new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;(), Util.threadFactory("OkHttp Dispatcher", false)); &#125; return executorService; &#125; synchronized void enqueue(AsyncCall call) &#123; // ä¸è¶…è¿‡æœ€å¤§è¯·æ±‚æ•°å¹¶ä¸”ä¸è¶…è¿‡ host æœ€å¤§è¯·æ±‚æ•° if (runningAsyncCalls.size() &lt; maxRequests &amp;&amp; runningCallsForHost(call) &lt; maxRequestsPerHost) &#123; // æ·»åŠ åˆ°è¿è¡Œä¸­çš„å¼‚æ­¥è¯·æ±‚é˜Ÿåˆ— runningAsyncCalls.add(call); // æ·»åŠ åˆ°çº¿ç¨‹æ± ä¸­è¿è¡Œ executorService().execute(call); &#125; else &#123; // æ·»åŠ åˆ°å°±ç»ªçš„å¼‚æ­¥è¯·æ±‚é˜Ÿåˆ— readyAsyncCalls.add(call); &#125; &#125; // å½“è¯¥å¼‚æ­¥è¯·æ±‚ç»“æŸçš„æ—¶å€™ï¼Œä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼Œç”¨äºå°†è¿è¡Œä¸­çš„å¼‚æ­¥è¯·æ±‚é˜Ÿåˆ—ä¸­çš„è¯¥è¯·æ±‚ç§»é™¤å¹¶è°ƒæ•´è¯·æ±‚é˜Ÿåˆ— // æ­¤æ—¶å°±ç»ªé˜Ÿåˆ—ä¸­çš„è¯·æ±‚å°±å¯ä»¥è¿›å…¥è¿è¡Œä¸­çš„é˜Ÿåˆ— void finished(AsyncCall call) &#123; finished(runningAsyncCalls, call, true); &#125; private &lt;T&gt; void finished(Deque&lt;T&gt; calls, T call, boolean promoteCalls) &#123; int runningCallsCount; Runnable idleCallback; synchronized (this) &#123; if (!calls.remove(call)) throw new AssertionError("Call wasn't in-flight!"); if (promoteCalls) promoteCalls(); runningCallsCount = runningCallsCount(); idleCallback = this.idleCallback; &#125; if (runningCallsCount == 0 &amp;&amp; idleCallback != null) &#123; idleCallback.run(); &#125; &#125; // æ ¹æ® maxRequests å’Œ maxRequestsPerHost æ¥è°ƒæ•´ runningAsyncCalls å’Œ readyAsyncCalls // ä½¿è¿è¡Œä¸­çš„å¼‚æ­¥è¯·æ±‚ä¸è¶…è¿‡ä¸¤ç§æœ€å¤§å€¼ï¼Œå¹¶ä¸”å¦‚æœé˜Ÿåˆ—æœ‰ç©ºé—²ï¼Œå°†å°±ç»ªçŠ¶æ€çš„è¯·æ±‚å½’ç±»ä¸ºè¿è¡Œä¸­ã€‚ private void promoteCalls() &#123; // å¦‚æœè¿è¡Œä¸­çš„å¼‚æ­¥é˜Ÿåˆ—ä¸å°äºæœ€å¤§è¯·æ±‚æ•°ï¼Œç›´æ¥è¿”å› if (runningAsyncCalls.size() &gt;= maxRequests) return; // å¦‚æœå°±ç»ªé˜Ÿåˆ—ä¸ºç©ºï¼Œç›´æ¥è¿”å› if (readyAsyncCalls.isEmpty()) return; // No ready calls to promote. // éå†å°±ç»ªé˜Ÿåˆ—å¹¶æ’å…¥åˆ°è¿è¡Œé˜Ÿåˆ— for (Iterator&lt;AsyncCall&gt; i = readyAsyncCalls.iterator(); i.hasNext(); ) &#123; AsyncCall call = i.next(); if (runningCallsForHost(call) &lt; maxRequestsPerHost) &#123; i.remove(); runningAsyncCalls.add(call); executorService().execute(call); &#125; // è¿è¡Œé˜Ÿåˆ—ä¸­çš„æ•°é‡åˆ°è¾¾æœ€å¤§è¯·æ±‚æ•°ï¼Œç›´æ¥è¿”å› if (runningAsyncCalls.size() &gt;= maxRequests) return; &#125; &#125;&#125; å¯ä»¥å‘ç° OkHttp ä¸æ˜¯åœ¨çº¿ç¨‹æ± ä¸­ç»´æŠ¤çº¿ç¨‹çš„ä¸ªæ•°ï¼Œçº¿ç¨‹æ˜¯é€šè¿‡ Dispatcher é—´æ¥æ§åˆ¶ï¼Œçº¿ç¨‹æ± ä¸­çš„è¯·æ±‚éƒ½æ˜¯è¿è¡Œä¸­çš„è¯·æ±‚ï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´çº¿ç¨‹çš„é‡ç”¨ä¸æ˜¯çº¿ç¨‹æ± æ§åˆ¶çš„ï¼Œé€šè¿‡æºç æˆ‘ä»¬å‘ç°çº¿ç¨‹é‡ç”¨çš„åœ°æ–¹æ˜¯è¯·æ±‚ç»“æŸçš„åœ°æ–¹ finished(AsyncCall call) ï¼Œè€ŒçœŸæ­£çš„æ§åˆ¶æ˜¯é€šè¿‡ promoteCalls æ–¹æ³•ï¼Œ æ ¹æ® maxRequests å’Œ maxRequestsPerHost æ¥è°ƒæ•´ runningAsyncCalls å’Œ readyAsyncCallsï¼Œä½¿è¿è¡Œä¸­çš„å¼‚æ­¥è¯·æ±‚ä¸è¶…è¿‡ä¸¤ç§æœ€å¤§å€¼ï¼Œå¹¶ä¸”å¦‚æœé˜Ÿåˆ—æœ‰ç©ºé—²ï¼Œå°†å°±ç»ªçŠ¶æ€çš„è¯·æ±‚å½’ç±»ä¸ºè¿è¡Œä¸­ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>å·¥å…·ç±»</category>
      </categories>
      <tags>
        <tag>RxJava</tag>
        <tag>å·¥å…·ç±»</tag>
        <tag>çº¿ç¨‹æ± </tag>
        <tag>å•å…ƒæµ‹è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¿™ä¸ª RxBus ç¨³å¦‚è€ç‹—]]></title>
    <url>%2F2018%2F05%2F09%2Fawesome-rxbus%2F</url>
    <content type="text"><![CDATA[DownloadGradle:1implementation "com.blankj:rxbus:1.0" How to useéç²˜æ€§äº‹ä»¶ æ³¨å†Œäº‹ä»¶ 123456789101112131415161718192021222324252627282930public class YourActivity extends Activity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); // æ³¨å†Œ String ç±»å‹äº‹ä»¶ RxBus.getDefault().subscribe(this, new RxBus.Callback&lt;String&gt;() &#123; @Override public void onEvent(String s) &#123; Log.e("eventTag", s); &#125; &#125;); // æ³¨å†Œå¸¦ tag ä¸º "my tag" çš„ String ç±»å‹äº‹ä»¶ RxBus.getDefault().subscribe(this, "my tag", new RxBus.Callback&lt;String&gt;() &#123; @Override public void onEvent(String s) &#123; Log.e("eventTag", s); &#125; &#125;); &#125; @Override protected void onDestroy() &#123; super.onDestroy(); // æ³¨é”€ RxBus.getDefault().unregister(this); &#125;&#125; å‘é€äº‹ä»¶ 12345// å‘é€ String ç±»å‹äº‹ä»¶RxBus.getDefault().post("without tag");// å‘é€å¸¦ tag ä¸º "my tag" çš„ String ç±»å‹äº‹ä»¶RxBus.getDefault().post("with tag", "my tag"); ç²˜æ€§äº‹ä»¶ï¼ˆä¹Ÿå°±æ˜¯å…ˆå‘é€äº‹ä»¶ï¼Œåœ¨ä¹‹åæ³¨å†Œçš„æ—¶å€™ä¾¿ä¼šæ”¶åˆ°ä¹‹å‰å‘é€çš„äº‹ä»¶ï¼‰ å‘é€äº‹ä»¶ 12345// å‘é€ String ç±»å‹çš„ç²˜æ€§äº‹ä»¶RxBus.getDefault().postSticky("without tag");// å‘é€å¸¦ tag ä¸º "my tag" çš„ String ç±»å‹çš„ç²˜æ€§äº‹ä»¶RxBus.getDefault().postSticky("with tag", "my tag"); æ³¨å†Œäº‹ä»¶ 123456789101112131415161718192021222324252627282930public class YourActivity extends Activity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); // æ³¨å†Œ String ç±»å‹äº‹ä»¶ RxBus.getDefault().subscribeSticky(this, new RxBus.Callback&lt;String&gt;() &#123; @Override public void onEvent(String s) &#123; Log.e("eventTag", s); &#125; &#125;); // æ³¨å†Œå¸¦ tag ä¸º "my tag" çš„ String ç±»å‹äº‹ä»¶ RxBus.getDefault().subscribeSticky(this, "my tag", new RxBus.Callback&lt;String&gt;() &#123; @Override public void onEvent(String s) &#123; Log.e("eventTag", s); &#125; &#125;); &#125; @Override protected void onDestroy() &#123; super.onDestroy(); // æ³¨é”€ RxBus.getDefault().unregister(this); &#125;&#125; Nice wrapå¦‚æœç”¨åˆ°äº‹ä»¶æ€»çº¿çš„åœ°æ–¹æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆå¯ä»¥æŠŠäº‹ä»¶æ€»çº¿çš„ä½¿ç”¨æ”¾åˆ°ä¸€ä¸ª Manager ä¸­ä½¿ç”¨ï¼Œæ¯”å¦‚æˆ‘ Demo ä¸­åšçš„å°è£…å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728293031323334353637383940public class RxBusManager &#123; private static final String MY_TAG = "MY_TAG"; public static void subscribeRxBusManagerActivity(final RxBusManagerActivity activity)&#123; RxBus.getDefault().subscribe(activity, new RxBus.Callback&lt;String&gt;() &#123; @Override public void onEvent(String s) &#123; activity.updateText("without " + s); &#125; &#125;); RxBus.getDefault().subscribe(activity, MY_TAG, new RxBus.Callback&lt;String&gt;() &#123; @Override public void onEvent(String s) &#123; activity.updateText("with " + s); &#125; &#125;); &#125; public static void postToRxBusManagerActivity(final String event) &#123; RxBus.getDefault().post(event); &#125; public static void postWithMyTagToRxBusManagerActivity(final String event) &#123; RxBus.getDefault().post(event, MY_TAG); &#125; public static void postStickyToRxBusManagerActivity(final String event) &#123; RxBus.getDefault().postSticky(event); &#125; public static void postStickyWithMyTagToRxBusManagerActivity(final String event) &#123; RxBus.getDefault().postSticky(event, MY_TAG); &#125; public static void unregisterRxBusManagerActivity(final RxBusManagerActivity activity) &#123; RxBus.getDefault().unregister(activity); &#125;&#125; å¯ä»¥çœ‹å‡ºè¿™æ˜¯åœ¨ RxBusManagerActivity ä¸­è¦ä½¿ç”¨ RxBus çš„ç›¸å…³ä»£ç ï¼Œè¿™æ ·å¯ä»¥æ›´æ–¹ä¾¿åœ°ç®¡ç†åº”ç”¨ä¸­æ‰€æœ‰çš„äº‹ä»¶æ€»çº¿ï¼Œè€Œä¸è‡³äºå‘äº†ä¸ªäº‹ä»¶éƒ½ä¸æ¸…æ¥šæ¥æ”¶æ–¹åœ¨å“ªçš„å°´å°¬ã€‚ How it comesç½‘ä¸Šç°æœ‰ RxBus å­˜æœ‰çš„é—®é¢˜ï¼š ä½¿ç”¨çš„ RxBus å¤§å¤šåœç•™åœ¨ RxJava1 ç‰ˆæœ¬ RxBus å®ç°çš„ç²˜æ€§äº‹ä»¶å¾ˆå¤šéƒ½æ˜¯æœ‰é—®é¢˜çš„ å¦‚æœäº‹ä»¶æŠ›äº†å¼‚å¸¸ï¼Œä¹‹åä¾¿å†ä¹Ÿæ— æ³•æ¥æ”¶åˆ°çš„é—®é¢˜ åŒç±»å‹äº‹ä»¶éœ€è‡ªå·±å†æ¬¡å°è£… Bean è¿›è¡ŒåŒºåˆ«ã€‚ ä»‹äºä»¥ä¸Šé—®é¢˜ï¼Œæˆ‘è¿˜æ˜¯äº²è‡ªå°è£…ä¸€ä¸ªç®€æ´çš„ä¾›å¤§å®¶ä½¿ç”¨ï¼Œåº“å·²ç»ä¾èµ–äº† RxAndroid å’Œ RxJavaï¼Œæ‰€ä»¥å¯¼å…¥äº†è¯¥åº“çš„å°±ä¸éœ€è¦å†é¢å¤–å¯¼å…¥é‚£ä¸¤åº“äº†ã€‚ å½“ç„¶ï¼Œå¦‚æœé€šä¿¡é¢‘ç‡æ¯”è¾ƒé«˜è¿½æ±‚æ•ˆç‡çš„è¯è¿˜æ˜¯æ¨èä½¿ç”¨ EventBusã€‚ Principle åˆ©ç”¨ FlowableProcessor æ—¢å¯ä»¥ä½œä¸ºè§‚å¯Ÿè€…åˆå¯ä»¥ä½œä¸ºè¢«è§‚å¯Ÿè€…æ¥å®ç°äº‹ä»¶æ€»çº¿ ç²˜æ€§äº‹ä»¶åŸç†å°±æ˜¯å‘é€çš„æ—¶å€™æŠŠäº‹ä»¶å­˜åˆ°ä¸€ä¸ª hash è¡¨ä¸­ï¼Œåœ¨æ³¨å†Œçš„æ—¶å€™æŸ¥è¯¢ä¸‹ hash è¡¨ä¸­æ˜¯å¦å­˜åœ¨ç¬¦åˆçš„äº‹ä»¶ï¼Œæœ‰çš„è¯å°±æ¶ˆè´¹æ‰å³å¯ æ›¿æ¢åŸæœ‰ LambdaSubscriber æ¥è®©æŠ›äº†å¼‚å¸¸ä¹‹åå¯ä»¥ç»§ç»­æ¥æ”¶åˆ°åç»­äº‹ä»¶ å°è£…äº† TagMessage æ¥åŒºåˆ†ä¸åŒç±»åˆ«çš„ tag åŠ¨æ€è¯†åˆ«èŒƒå‹å¯¹è±¡æ¥çœå»ä¼ å…¥ Type ç±»å‹ è¿˜æœ‰ä¸€äº›ç»†èŠ‚å°±è‡ªå·±çœ‹æºç å»äº†è§£å§ï¼Œæ€»å…±æœ‰ç”¨çš„ä»£ç ä¸è¶…è¿‡ 300 è¡Œå“ˆã€‚ Change log]]></content>
      <categories>
        <category>Android</category>
        <category>ç¬¬ä¸‰æ–¹åº“</category>
      </categories>
      <tags>
        <tag>RxJava</tag>
        <tag>RxBus</tag>
        <tag>EventBus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitBook ä½¿ç”¨æ•™ç¨‹]]></title>
    <url>%2F2018%2F04%2F16%2Fgitbook-use%2F</url>
    <content type="text"><![CDATA[GitBook ä½¿ç”¨æ•™ç¨‹é¦–å…ˆå…ˆçŒ®ä¸Š æˆ‘çš„ GitBook åœ°å€ï¼Œå¯ä»¥åœ¨æˆ‘çš„ åšå®¢ å¯¼èˆªæ å¤„æ‰¾åˆ°ï¼Œä¸‹é¢è¿›è¡Œç›¸å…³çš„ä»‹ç»ã€‚ èƒŒæ™¯ç”±äºä¹‹å‰éƒ½æŠŠé›¶æ•£çš„çŸ¥è¯†éƒ½å†™åœ¨ Gist ä¸Šï¼Œè¦æŸ¥æ‰¾çš„æ—¶å€™ä¸æ˜¯å¾ˆç³»ç»ŸåŒ–ï¼Œæ‰€ä»¥æ‰“ç®—æŒªåˆ° GitBook ä¸Šæ¥ç»Ÿä¸€ç®¡ç†ï¼Œè€Œä¸” GitBook å†™å®Œç¼–è¯‘åå¯ä»¥ç”Ÿæˆé™æ€é¡µé¢å‘å¸ƒåˆ°åšå®¢ä¸Šï¼Œé€¼æ ¼æ»¡æ»¡çš„æ ·å­ã€‚ GitBook ç®€ä»‹ GitBook å®˜ç½‘ GitBook æ–‡æ¡£ GitBook å‡†å¤‡å·¥ä½œå®‰è£… Node.jsGitBook æ˜¯ä¸€ä¸ªåŸºäº Node.js çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸‹è½½å®‰è£… Node.jsï¼Œå®‰è£…å®Œæˆä¹‹åï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸã€‚ 12$ node -vv7.7.1 å®‰è£… GitBookè¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£… GitBookã€‚ 1$ npm install gitbook-cli -g å®‰è£…å®Œæˆä¹‹åï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸã€‚ 123$ gitbook -VCLI version: 2.3.2GitBook version: 3.2.3 æ›´å¤šè¯¦æƒ…è¯·å‚ç…§ GitBook å®‰è£…æ–‡æ¡£ æ¥å®‰è£… GitBookã€‚ ç¼–è¾‘å™¨å¯ä»¥ç”¨ VsCodeã€Typora ç­‰è‡ªå·±å–œæ¬¢çš„æ¥ç¼–è¾‘ã€‚ å…ˆç¹ä¸ºå¿«GitBook å‡†å¤‡å·¥ä½œåšå¥½ä¹‹åï¼Œæˆ‘ä»¬è¿›å…¥ä¸€ä¸ªä½ è¦å†™ä¹¦çš„ç›®å½•ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ã€‚ 12345$ gitbook initwarn: no summary file in this bookinfo: create README.mdinfo: create SUMMARY.mdinfo: initialization is finished å¯ä»¥çœ‹åˆ°ä»–ä¼šåˆ›å»º README.md å’Œ SUMMARY.md è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼ŒREADME.md åº”è¯¥ä¸é™Œç”Ÿï¼Œå°±æ˜¯è¯´æ˜æ–‡æ¡£ï¼Œè€Œ SUMMARY.md å…¶å®å°±æ˜¯ä¹¦çš„ç« èŠ‚ç›®å½•ï¼Œå…¶é»˜è®¤å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š 123# Summary* [Introduction](README.md) æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¾“å…¥ $ gitbook serve å‘½ä»¤ï¼Œç„¶ååœ¨æµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥ http://localhost:4000 ä¾¿å¯é¢„è§ˆä¹¦ç±ã€‚ æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š è¿è¡Œè¯¥å‘½ä»¤åä¼šåœ¨ä¹¦ç±çš„æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆä¸€ä¸ª _book æ–‡ä»¶å¤¹, é‡Œé¢çš„å†…å®¹å³ä¸ºç”Ÿæˆçš„ html æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤æ¥ç”Ÿæˆç½‘é¡µè€Œä¸å¼€å¯æœåŠ¡å™¨ã€‚ 1gitbook build ä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†ä»‹ç»ä¸‹ GitBook ç›®å½•ç»“æ„åŠç›¸å…³æ–‡ä»¶ã€‚ ç›®å½•ç»“æ„GitBook åŸºæœ¬çš„ç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910.â”œâ”€â”€ book.jsonâ”œâ”€â”€ README.mdâ”œâ”€â”€ SUMMARY.mdâ”œâ”€â”€ chapter-1/| â”œâ”€â”€ README.md| â””â”€â”€ something.mdâ””â”€â”€ chapter-2/ â”œâ”€â”€ README.md â””â”€â”€ something.md ä¸‹é¢æˆ‘ä»¬ä¸»è¦æ¥è®²è®² book.json å’Œ SUMMARY.md æ–‡ä»¶ã€‚ book.jsonè¯¥æ–‡ä»¶ä¸»è¦ç”¨æ¥å­˜æ”¾é…ç½®ä¿¡æ¯ï¼Œæˆ‘å…ˆæ”¾å‡ºæˆ‘çš„é…ç½®æ–‡ä»¶ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687&#123; "title": "Blankj's Glory", "author": "Blankj", "description": "select * from learn", "language": "zh-hans", "gitbook": "3.2.3", "styles": &#123; "website": "./styles/website.css" &#125;, "structure": &#123; "readme": "README.md" &#125;, "links": &#123; "sidebar": &#123; "æˆ‘çš„ç‹—çª": "https://blankj.com" &#125; &#125;, "plugins": [ "-sharing", "splitter", "expandable-chapters-small", "anchors", "github", "github-buttons", "donate", "sharing-plus", "anchor-navigation-ex", "favicon" ], "pluginsConfig": &#123; "github": &#123; "url": "https://github.com/Blankj" &#125;, "github-buttons": &#123; "buttons": [&#123; "user": "Blankj", "repo": "glory", "type": "star", "size": "small", "count": true &#125; ] &#125;, "donate": &#123; "alipay": "https://blankj.com/gitbook/source/images/donate.png", "title": "", "button": "èµèµ", "alipayText": " " &#125;, "sharing": &#123; "douban": false, "facebook": false, "google": false, "hatenaBookmark": false, "instapaper": false, "line": false, "linkedin": false, "messenger": false, "pocket": false, "qq": false, "qzone": false, "stumbleupon": false, "twitter": false, "viber": false, "vk": false, "weibo": false, "whatsapp": false, "all": [ "google", "facebook", "weibo", "twitter", "qq", "qzone", "linkedin", "pocket" ] &#125;, "anchor-navigation-ex": &#123; "showLevel": false &#125;, "favicon":&#123; "shortcut": "./source/images/favicon.jpg", "bookmark": "./source/images/favicon.jpg", "appleTouch": "./source/images/apple-touch-icon.jpg", "appleTouchMore": &#123; "120x120": "./source/images/apple-touch-icon.jpg", "180x180": "./source/images/apple-touch-icon.jpg" &#125; &#125; &#125;&#125; ç›¸ä¿¡å¾ˆå¤šèŠ‚ç‚¹è‡ªå·±ä¹Ÿèƒ½çŒœåˆ°æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæˆ‘è¿˜æ˜¯ç®€å•ä»‹ç»ä¸‹å§ã€‚ titleæœ¬ä¹¦æ ‡é¢˜ authoræœ¬ä¹¦ä½œè€… descriptionæœ¬ä¹¦æè¿° languageæœ¬ä¹¦è¯­è¨€ï¼Œä¸­æ–‡è®¾ç½® â€œzh-hansâ€ å³å¯ gitbookæŒ‡å®šä½¿ç”¨çš„ GitBook ç‰ˆæœ¬ stylesè‡ªå®šä¹‰é¡µé¢æ ·å¼ structureæŒ‡å®š Readmeã€Summaryã€Glossary å’Œ Languages å¯¹åº”çš„æ–‡ä»¶å linksåœ¨å·¦ä¾§å¯¼èˆªæ æ·»åŠ é“¾æ¥ä¿¡æ¯ pluginsé…ç½®ä½¿ç”¨çš„æ’ä»¶ pluginsConfigé…ç½®æ’ä»¶çš„å±æ€§ SUMMARY.mdè¿™ä¸ªæ–‡ä»¶ä¸»è¦å†³å®š GitBook çš„ç« èŠ‚ç›®å½•ï¼Œå®ƒé€šè¿‡ Markdown ä¸­çš„åˆ—è¡¨è¯­æ³•æ¥è¡¨ç¤ºæ–‡ä»¶çš„çˆ¶å­å…³ç³»ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š 123456789# Summary* [Introduction](README.md)* [Part I](part1/README.md) * [Writing is nice](part1/writing.md) * [GitBook is nice](part1/gitbook.md)* [Part II](part2/README.md) * [We love feedback](part2/feedback_please.md) * [Better tools for authors](part2/better_tools.md) è¿™ä¸ªé…ç½®å¯¹åº”çš„ç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤º: æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ æ ‡é¢˜ æˆ–è€… æ°´å¹³åˆ†å‰²çº¿ å°† GitBook åˆ†ä¸ºå‡ ä¸ªä¸åŒçš„éƒ¨åˆ†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516# Summary### Part I* [Introduction](README.md)* [Writing is nice](part1/writing.md)* [GitBook is nice](part1/gitbook.md)### Part II* [We love feedback](part2/feedback_please.md)* [Better tools for authors](part2/better_tools.md)---* [Last part without title](part3/title.md) è¿™ä¸ªé…ç½®å¯¹åº”çš„ç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤º: æ’ä»¶GitBook æœ‰ æ’ä»¶å®˜ç½‘ï¼Œé»˜è®¤å¸¦æœ‰ 5 ä¸ªæ’ä»¶ï¼Œhighlightã€searchã€sharingã€font-settingsã€livereloadï¼Œå¦‚æœè¦å»é™¤è‡ªå¸¦çš„æ’ä»¶ï¼Œ å¯ä»¥åœ¨æ’ä»¶åç§°å‰é¢åŠ  -ï¼Œæ¯”å¦‚ï¼š 123&quot;plugins&quot;: [ &quot;-search&quot;] å¦‚æœè¦é…ç½®ä½¿ç”¨çš„æ’ä»¶å¯ä»¥åœ¨ book.json æ–‡ä»¶ä¸­åŠ å…¥å³å¯ï¼Œæ¯”å¦‚æˆ‘ä»¬æ·»åŠ  plugin-githubï¼Œæˆ‘ä»¬åœ¨ book.json ä¸­åŠ å…¥é…ç½®å¦‚ä¸‹å³å¯ï¼š 12345678&#123; &quot;plugins&quot;: [ &quot;github&quot; ], &quot;pluginsConfig&quot;: &#123; &quot;github&quot;: &#123; &quot;url&quot;: &quot;https://github.com/your/repo&quot; &#125; &#125;&#125; ç„¶ååœ¨ç»ˆç«¯è¾“å…¥ gitbook install ./ å³å¯ã€‚ å¦‚æœè¦æŒ‡å®šæ’ä»¶çš„ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨ plugin@0.3.1ï¼Œå› ä¸ºä¸€äº›æ’ä»¶å¯èƒ½ä¸ä¼šéšç€ GitBook ç‰ˆæœ¬çš„å‡çº§è€Œå‡çº§ã€‚ ç»“è¯­è¿™æ˜¯æˆ‘å¯¹ GitBook ä½¿ç”¨çš„æ€»ç»“ï¼Œå¸Œæœ›èƒ½å¸®åˆ°ä»Šåéœ€è¦çš„å°ä¼™ä¼´ã€‚]]></content>
      <categories>
        <category>GitBook</category>
      </categories>
      <tags>
        <tag>GitBook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³ AS 3.1.0 ç‰ˆæœ¬ Logcat åˆå¹¶å¤šæ¡æ—¥å¿—çš„é—®é¢˜]]></title>
    <url>%2F2018%2F04%2F12%2Fsolve-logcat%2F</url>
    <content type="text"><![CDATA[åœ¨å‡çº§åˆ° AS 3.1.0 ç‰ˆæœ¬åï¼ŒLogcat ä¼šåˆå¹¶çŸ­æ—¶é—´å†…åŒ tag çš„æ—¥å¿—ï¼Œå…·ä½“æƒ…å†µå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸€äº›ä¸‰æ–¹æ—¥å¿—åº“éƒ½ä¼šå­˜åœ¨ä¸Šè¿°é—®é¢˜ï¼Œå½“ç„¶ï¼ŒAndroidUtilCode åœ¨ç¬¬ä¸€æ—¶é—´å°±è§£å†³äº†è¯¥é—®é¢˜ï¼Œå¦‚ä»Šåªéœ€ä½¿ç”¨ 1.13.8 ä»¥ä¸Šç‰ˆæœ¬å³å¯ï¼Œå¦‚æœå«Œ AndroidUtilCode å¤ªåºå¤§çš„è¯ï¼Œæˆ‘è¿™é‡Œä¹Ÿæä¾›äº†å•ä¸€çš„æ—¥å¿—åº“ï¼šä¸€ä¸ªç²¾ç®€ã€å…¨é¢ã€æ–¹ä¾¿çš„ Android æ—¥å¿—åº“ï¼šALogã€‚å¯¹å¦‚ä¸Šæ—¥å¿—è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š å½“ç„¶ï¼Œä½ å¦‚æœè¿˜æƒ³è¦ä»¥å‰é‚£æ ·çš„æ•ˆæœï¼Œæˆ‘ä¹Ÿåšäº†å…¼å®¹ï¼Œåªéœ€è¦åˆå§‹åŒ–çš„æ—¶å€™è¿›è¡Œå¦‚ä¸‹è®¾ç½®å³å¯ã€‚ 1setSingleTagSwitch(false)// ä¸€æ¡æ—¥å¿—ä»…è¾“å‡ºä¸€æ¡ï¼Œé»˜è®¤å¼€ï¼Œä¸ºç¾åŒ– AS 3.1.0 çš„ Logcat` å†é¡ºå¸¦è¯´ä¸€ä¸‹æ—¥å¿—å·¥å…·çš„åŠŸèƒ½å§ å…¼å®¹ Android Studio 3.1.0 çš„ Logcat å®Œç¾æ˜¾ç¤ºæ—¥å¿— å…¼å®¹ Kotlin å¯è®¾ç½® Log å¼€å¯å’Œå…³é—­ å¯è®¾ç½®æ˜¯å¦è¾“å‡ºåˆ°æ§åˆ¶å°ï¼ˆLogcatï¼‰ å¯è®¾ç½® Log å…¨å±€ Tag å…¨å±€ Tag ä¸ºç©ºæ—¶ Tag ä¸ºå½“å‰ç±»å å¯è®¾ç½® Log æ˜¯å¦æ˜¾ç¤ºå¤´éƒ¨ä¿¡æ¯ Log æ–‡ä»¶é¡¶éƒ¨æ˜¾ç¤ºè®¾å¤‡ä¿¡æ¯ Log å¤´éƒ¨å«æœ‰å½“å‰çº¿ç¨‹å Log å¤´éƒ¨å«æœ‰å½“å‰ç±»åŠè¡Œå·å’Œå‡½æ•°åï¼Œæ”¯æŒç‚¹å‡»è·³è½¬ å¯è®¾ç½® Log æ˜¯å¦å†™å…¥æ–‡ä»¶ å¯è®¾ç½® Log å†™å…¥æ–‡ä»¶ç›®å½• å¯è®¾ç½® Log å†™å…¥æ–‡ä»¶å‰ç¼€ å¯è®¾ç½® Log æ˜¯å¦æ˜¾ç¤ºè¾¹æ¡† å¯è®¾ç½® Log æ§åˆ¶å°è¿‡æ»¤å™¨ å¯è®¾ç½® Log æ–‡ä»¶è¿‡æ»¤å™¨ å¯è®¾ç½® Log æ ˆæ·±åº¦ æ”¯æŒæ§åˆ¶å°é•¿å­—ç¬¦ä¸²çš„è¾“å‡º æ”¯æŒå¤šå‚æ•°è¾“å‡º æ”¯æŒå•ç‹¬å†™å…¥æ–‡ä»¶ æ”¯æŒ JSON ä¸²çš„è¾“å‡º æ”¯æŒ XML ä¸²çš„è¾“å‡º æ”¯æŒ Live Templates å¦‚æœæ­£å¥½å¸®åˆ°äº†ä½ ï¼Œé‚£å¯çœŸæ˜¯å·§äº†å“ˆã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>Android Studio</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Logcat</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åå°„å·¥å…·ç±»ï¼Œå¦‚æ–¯ä¼˜é›…]]></title>
    <url>%2F2018%2F01%2F17%2Fawesome-reflectutils%2F</url>
    <content type="text"><![CDATA[Forewordåå°„çš„ä½œç”¨æˆ‘åœ¨è¿™å°±ä¸å¤šè¯´äº†ï¼Œæ¯æ¬¡ç”¨åˆ°åå°„éƒ½æ˜¯é‚£ä¹ˆä¸€å¨ä»£ç ä¸¢è¿›å»ï¼Œæ€»æ˜¯è®©äººè§‰å¾—å¾ˆä¸ä¼˜é›…ï¼Œå¦‚ä»Šæœ‰äº†æˆ‘è¿™ä¸ªåå°„å·¥å…·ç±»ï¼Œé‚£ä¹ˆå¤§å®¶å°±å¯ä»¥ä¸€å¥è¯ä¼˜é›…åœ°æ¥å®Œæˆåå°„çš„å·¥ä½œï¼Œè¯¥å·¥å…·ç±»æ˜¯ç«™åœ¨ jOOR çš„è‚©è†€ä¸Šè¿›è¡Œæ”¹é€ ï¼Œä¿®å¤äº†å®ƒæ²¡æœ‰å®Œæˆçš„å·¥ä½œï¼Œè‡³äºä¿®å¤äº†ä»€ä¹ˆï¼Œåé¢æºç åˆ†æä¼šè¯¦è¿°ï¼Œè‡³äºè¿™ä¸ªå·¥å…·ç±»åœ¨å“ªï¼Œç°å·²åŠ å…¥è‡³ 1.12.0 ç‰ˆæœ¬çš„ AndroidUtilCodeï¼Œä¸‹é¢æ¥ä»‹ç»ä¸‹å…¶åŠŸèƒ½ã€‚ Functionså…¶ APIs å¦‚ä¸‹æ‰€ç¤ºï¼š åå°„ç›¸å…³ -&gt; ReflectUtils.java -&gt; Test 12345reflect : è®¾ç½®è¦åå°„çš„ç±»newInstance: å®ä¾‹åŒ–åå°„å¯¹è±¡field : è®¾ç½®åå°„çš„å­—æ®µmethod : è®¾ç½®åå°„çš„æ–¹æ³•get : è·å–åå°„æƒ³è¦è·å–çš„ Useå®ä¾‹åŒ–åå°„å¯¹è±¡æ¯”å¦‚ï¼Œæˆ‘ä»¬å®ä¾‹åŒ–ä¸€ä¸ª String å¯¹è±¡å¯ä»¥è¿™æ ·åšï¼š 12345678String str1 = ReflectUtils.reflect(String.class).newInstance().get();// equals: String str1 = new String();String str2 = ReflectUtils.reflect("java.lang.String").newInstance("abc").get();// equals: String str2 = new String("abc");String str3 = ReflectUtils.reflect(String.class).newInstance("abc".getBytes()).get();// equals: String str3 = new String("abc".getBytes()); è®¾ç½®åå°„çš„æ–¹æ³•æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦è°ƒç”¨ String çš„ substring å‡½æ•°å¯ä»¥è¿™æ ·åšï¼š 12345String str1 = ReflectUtils.reflect((Object) "1234").method("substring", 2).get();// equals: String str1 = "1234".substring(2);String str2 = ReflectUtils.reflect((Object) "1234").method("substring", 0, 2).get();// equals: String str1 = "1234".substring(0, 2); è®¾ç½®åå°„çš„å­—æ®µæ¯”å¦‚ï¼ŒTestPrivateStaticFinal.java å¦‚ä¸‹æ‰€ç¤ºï¼š 1234public class TestPrivateStaticFinal &#123; private static final int I1 = new Integer(1); private static final Integer I2 = new Integer(1);&#125; æˆ‘ä»¬è¦è®¾ç½®å…¶ I1ã€I2 å€¼ä¸º 2ï¼Œå¯ä»¥å¦‚ä¸‹æ“ä½œï¼š 12ReflectUtils.reflect(TestPrivateStaticFinal.class).field("I1", 2);ReflectUtils.reflect(TestPrivateStaticFinal.class).field("I2", 2); è¦è·å–å…¶ I1ã€I2 å€¼çš„è¯ï¼Œå¯ä»¥å¦‚ä¸‹æ“ä½œï¼š 12ReflectUtils.reflect(TestPrivateStaticFinal.class).field("I1").get()ReflectUtils.reflect(TestPrivateStaticFinal.class).field("I2").get() å½“ç„¶ï¼Œå­—æ®µæ“ä½œä¹Ÿæœ‰æ›´é«˜çº§çš„æ“ä½œï¼Œæ¯”å¦‚ Test1.java æµ‹è¯•ç±»å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789public class Test1 &#123; public static int S_INT1; public static Integer S_INT2; public int I_INT1; public Integer I_INT2; public static Test1 S_DATA; public Test1 I_DATA;&#125; æˆ‘å¯¹å…¶è¿›è¡Œçš„å•å…ƒæµ‹è¯•å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516@Testpublic void fieldAdvanced() throws Exception &#123; ReflectUtils.reflect(Test1.class) .field("S_DATA", ReflectUtils.reflect(Test1.class).newInstance())// è®¾ç½® Test1.class ä¸­ S_DATA å­—æ®µ ä¸º new Test1() .field("S_DATA")// è·å–åˆ° Test1.class ä¸­ S_DATA å­—æ®µ .field("I_DATA", ReflectUtils.reflect(Test1.class).newInstance())// è·å–åˆ° Test1.class ä¸­ S_DATA å­—æ®µ çš„ I_DATA ä¸º new Test1() .field("I_DATA")// è·å–åˆ° Test1.class ä¸­ S_DATA å­—æ®µ çš„ I_DATA å­—æ®µ .field("I_INT1", 1)// è®¾ç½® Test1.class ä¸­ S_DATA å­—æ®µ çš„ I_DATA å­—æ®µçš„ I_INT1 å€¼ä¸º 1 .field("S_INT1", 2);// è®¾ç½® Test1.class ä¸­ S_DATA å­—æ®µ çš„ S_INT1 å­—æ®µçš„ I_INT1 å€¼ä¸º 2 assertEquals(2, Test1.S_INT1);// é™æ€å˜é‡å°±æ˜¯æœ€åè®¾ç½®çš„ 2 assertEquals(null, Test1.S_INT2);// æ²¡æ“ä½œè¿‡å°±æ˜¯ null assertEquals(0, Test1.S_DATA.I_INT1);// æ²¡æ“ä½œè¿‡å°±æ˜¯ 0 assertEquals(null, Test1.S_DATA.I_INT2);// æ²¡æ“ä½œè¿‡å°±æ˜¯ 0 assertEquals(1, Test1.S_DATA.I_DATA.I_INT1);// å€’æ•°ç¬¬äºŒæ­¥æ“ä½œè®¾ç½®ä¸º 1 assertEquals(null, Test1.S_DATA.I_DATA.I_INT2);// æ²¡æ“ä½œè¿‡å°±æ˜¯ null&#125; æ ¹æ®å¦‚ä¸Šæ³¨é‡Šç›¸ä¿¡å¤§å®¶ä¹Ÿå¯ä»¥ç†è§£ä¸€äºŒäº†ï¼Œå¦‚æœè¿˜æƒ³äº†è§£æ›´å¤šä½¿ç”¨æ–¹å¼ï¼Œå¯ä»¥æŸ¥çœ‹æˆ‘å†™çš„å•å…ƒæµ‹è¯•ç±» ReflectUtilsTestï¼Œå…¶ä½¿ç”¨æ–¹å¼å°±ä»‹ç»åˆ°è¿™é‡Œï¼Œä¸‹é¢ä»‹ç»å…¶å®ç°æ–¹å¼ã€‚ Achieveå®ç°çš„è¯æ˜¯ç«™åœ¨ jOOR çš„è‚©è†€ä¸Šè¿›è¡Œæ”¹é€ ï¼Œå…¶å†…éƒ¨å°è£…äº†ä¸€ä¸ª private final Object object; å˜é‡ï¼Œæ¯æ¬¡è¿›è¡Œåå°„æ“ä½œæ—¶éƒ½ä¼šé‡æ–°å®ä¾‹åŒ–ä¸€ä¸ªå˜é‡å¹¶æŠŠç»“æœèµ‹äºˆè¯¥å˜é‡ï¼Œæœ€ç»ˆ get() å°±æ˜¯è·å–å…¶å€¼ï¼Œæ¯”å¦‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ newInstance çš„æ“ä½œï¼Œå…¶æ¶‰åŠçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677/** * å®ä¾‹åŒ–åå°„å¯¹è±¡ * * @param args å®ä¾‹åŒ–éœ€è¦çš„å‚æ•° * @return &#123;@link ReflectUtils&#125; */public ReflectUtils newInstance(Object... args) &#123; Class&lt;?&gt;[] types = getArgsType(args); try &#123; Constructor&lt;?&gt; constructor = type().getDeclaredConstructor(types); return newInstance(constructor, args); &#125; catch (NoSuchMethodException e) &#123; List&lt;Constructor&lt;?&gt;&gt; list = new ArrayList&lt;&gt;(); for (Constructor&lt;?&gt; constructor : type().getDeclaredConstructors()) &#123; if (match(constructor.getParameterTypes(), types)) &#123; list.add(constructor); &#125; &#125; if (list.isEmpty()) &#123; throw new ReflectException(e); &#125; else &#123; sortConstructors(list); return newInstance(list.get(0), args); &#125; &#125;&#125;private Class&lt;?&gt;[] getArgsType(final Object... args) &#123; if (args == null) return new Class[0]; Class&lt;?&gt;[] result = new Class[args.length]; for (int i = 0; i &lt; args.length; i++) &#123; Object value = args[i]; result[i] = value == null ? NULL.class : value.getClass(); &#125; return result;&#125;private void sortConstructors(List&lt;Constructor&lt;?&gt;&gt; list) &#123; Collections.sort(list, new Comparator&lt;Constructor&lt;?&gt;&gt;() &#123; @Override public int compare(Constructor&lt;?&gt; o1, Constructor&lt;?&gt; o2) &#123; Class&lt;?&gt;[] types1 = o1.getParameterTypes(); Class&lt;?&gt;[] types2 = o2.getParameterTypes(); int len = types1.length; for (int i = 0; i &lt; len; i++) &#123; if (!types1[i].equals(types2[i])) &#123; if (wrapper(types1[i]).isAssignableFrom(wrapper(types2[i]))) &#123; return 1; &#125; else &#123; return -1; &#125; &#125; &#125; return 0; &#125; &#125;);&#125;private ReflectUtils newInstance(final Constructor&lt;?&gt; constructor, final Object... args) &#123; try &#123; return new ReflectUtils( constructor.getDeclaringClass(), accessible(constructor).newInstance(args) ); &#125; catch (Exception e) &#123; throw new ReflectException(e); &#125;&#125;private final Class&lt;?&gt; type;private final Object object;private ReflectUtils(final Class&lt;?&gt; type, Object object) &#123; this.type = type; this.object = object;&#125; jOOR æ‰€æ²¡æœ‰åšåˆ°çš„å°±æ˜¯æ²¡æœ‰å¯¹å¤šä¸ªç¬¦åˆçš„ Constructor è¿›è¡Œæ’åºï¼Œè€Œæ˜¯ç›´æ¥è¿”å›äº†ç¬¬ä¸€ä¸ªä¸ä¹‹åŒ¹é…çš„ã€‚è¿™æ ·è¯´æœ‰ç‚¹æŠ½è±¡ï¼Œæˆ‘ä¸¾ä¸ªä¾‹å­åº”è¯¥å°±æ˜ç™½äº†ï¼Œæ¯”å¦‚è¯´æœ‰ä¸¤ä¸ªæ„é€ å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678public class Test &#123; public Test(Number n) &#123; &#125; public Test(Object n) &#123; &#125;&#125; jOOR åå°„è°ƒç”¨æ„é€ å‡½æ•°å‚æ•°ä¼ å…¥ Long ç±»å‹ï¼Œå¾ˆå¯èƒ½å°±ä¼šèµ° Test(Object n) è¿™ä¸ªæ„é€ å‡½æ•°ï¼Œè€Œæˆ‘ä¿®æ”¹è¿‡åå°±æ˜¯å¯¹å¤šä¸ªç¬¦åˆçš„ Constructor è¿›è¡Œæ’åºï¼ŒåŒ¹é…å‡ºä¸ä¹‹æœ€æ¥è¿‘çš„çˆ¶ç±»ï¼Œä¹Ÿå°±æ˜¯ä¼šèµ° Test(Number n) è¿™ä¸ªæ„é€ å‡½æ•°ï¼ŒåŒç†ï¼Œåœ¨åé¢çš„ method ä¸­çš„å‚æ•°åŒ¹é… jOOR ä¹Ÿæ˜¯å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹Ÿå·²ç»å¯¹å…¶ä¿®å¤äº†ã€‚ è¿˜æœ‰å°±æ˜¯ jOOR å¯¹ private static final å­—æ®µå…ˆ get å† set ä¼šæŠ¥å¼‚å¸¸ java.lang.IllegalAccessException å¼‚å¸¸ï¼Œæ˜¯å› ä¸ºå¯¹ private static final å­—æ®µ get çš„æ—¶å€™æ²¡æœ‰å»é™¤ final å±æ€§ï¼Œå¦‚æœåœ¨ get æ—¶å°±æŠŠ final å»æ‰å³å¯è§£å†³ï¼Œé‚£æ ·åœ¨ set çš„æ—¶å€™å°±ä¸ä¼šæŠ¥é”™ã€‚ç„¶è€Œï¼Œåœ¨ Android çš„ SDK ä¸­æ˜¯æ²¡æœ‰ Field.class.getDeclaredField(&quot;modifiers&quot;) è¿™ä¸ªå­—æ®µçš„ï¼Œæ‰€ä»¥ä¼šæŠ¥ NoSuchFieldException å¼‚å¸¸ï¼Œè¿™æ–¹é¢æˆ‘åšäº†å®¹é”™å¤„ç†ï¼Œç›¸å…³ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768/** * è®¾ç½®åå°„çš„å­—æ®µ * * @param name å­—æ®µå * @return &#123;@link ReflectUtils&#125; */public ReflectUtils field(final String name) &#123; try &#123; Field field = getField(name); return new ReflectUtils(field.getType(), field.get(object)); &#125; catch (IllegalAccessException e) &#123; throw new ReflectException(e); &#125;&#125;/** * è®¾ç½®åå°„çš„å­—æ®µ * * @param name å­—æ®µå * @param value å­—æ®µå€¼ * @return &#123;@link ReflectUtils&#125; */public ReflectUtils field(String name, Object value) &#123; try &#123; Field field = getField(name); field.set(object, unwrap(value)); return this; &#125; catch (Exception e) &#123; throw new ReflectException(e); &#125;&#125;private Field getField(String name) throws IllegalAccessException &#123; Field field = getAccessibleField(name); if ((field.getModifiers() &amp; Modifier.FINAL) == Modifier.FINAL) &#123; try &#123; Field modifiersField = Field.class.getDeclaredField("modifiers"); modifiersField.setAccessible(true); modifiersField.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL); &#125; catch (NoSuchFieldException ignore) &#123; // runs in android will happen &#125; &#125; return field;&#125;private Field getAccessibleField(String name) &#123; Class&lt;?&gt; type = type(); try &#123; return accessible(type.getField(name)); &#125; catch (NoSuchFieldException e) &#123; do &#123; try &#123; return accessible(type.getDeclaredField(name)); &#125; catch (NoSuchFieldException ignore) &#123; &#125; type = type.getSuperclass(); &#125; while (type != null); throw new ReflectException(e); &#125;&#125;private Object unwrap(Object object) &#123; if (object instanceof ReflectUtils) &#123; return ((ReflectUtils) object).get(); &#125; return object;&#125; æ‰€ä»¥è¯¥å·¥å…·ç±»æ—¢å®Œç¾æ”¯æŒ Javaï¼Œä¹Ÿå®Œç¾æ”¯æŒ Androidã€‚ Conclusionå¥½äº†ï¼Œè¿™æ¬¡åå°„å·¥å…·ç±»å°±ä»‹ç»åˆ°è¿™äº†ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—å¦‚æ–¯ä¼˜é›…ï¼Œå¦‚æœè§‰å¾—å¥½çš„è¯ä»¥åé‡åˆ°åå°„çš„é—®é¢˜ï¼Œé‚£å°±å¿«ç”¨æˆ‘è¿™ä¸ªå·¥å…·ç±»å§ï¼Œè¿™ä¹ˆå¥½çš„ä¸œè¥¿è—ç€ä¸ç”¨çœŸçš„æ˜¯å¯æƒœäº†å“¦ã€‚ å…³äºå®‰å“æ ¸å¿ƒå¸¸ç”¨å·¥å…·ç±»æˆ‘å·²ç»å·®ä¸å¤šéƒ½å°è£…äº†ï¼Œä»Šååº”è¯¥ä¹Ÿä¸ä¼šåœ¨æ ¸å¿ƒçš„é‡Œé¢æ–°å¢äº†ï¼Œé™¤éç¡®å®å¾ˆéœ€è¦æˆ‘æ‰ä¼šå†æ–°å¢æŸä¸ªå·¥å…·ç±»ï¼Œå…¶ä½™ä¸å¸¸ç”¨çš„æˆ‘éƒ½ä¼šæ”¾åœ¨ subutil ä¸­ï¼Œæ„Ÿè°¢å¤§å®¶ä¸€ç›´é™ªä¼´ç€ AndroidUtilCode çš„æˆé•¿ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>å·¥å…·ç±»</category>
      </categories>
      <tags>
        <tag>å·¥å…·ç±»</tag>
        <tag>åå°„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»ˆäºç­‰åˆ°ä½ --æƒé™å·¥å…·ç±»]]></title>
    <url>%2F2018%2F01%2F10%2Ffinally-get-permissionutils%2F</url>
    <content type="text"><![CDATA[Forewordä¹‹å‰æ€»æ˜¯æœ‰å°ä¼™ä¼´é—® AndroidUtilCode ä¸­æœ‰æ²¡æœ‰æƒé™å·¥å…·ç±»ï¼Œä½†éƒ½è¢«æˆ‘æ€¼å›å»äº†ï¼Œè®©å…ˆç”¨ç€å…¶ä»–ç¬¬ä¸‰æ–¹çš„ï¼Œä¸è¿‡ï¼Œåˆ°äº†å¦‚ä»Šçš„ 1.11.0 ç‰ˆæœ¬çš„ AndroidUtilCodeï¼Œè¿™ä¸ªä¸€ç›´æ‹–æ¬ ç€çš„æƒé™å·¥å…·ç±»æ€»ç®—è¦é—®ä¸–äº†ï¼Œä»¥åå°ä¼™ä¼´ä»¬å¦‚æœç”¨ AndroidUtilCode éœ€è¦åŠ¨æ€æˆæƒçš„è¯ï¼Œå°±ä¸ç”¨å†å¤šä¾èµ–ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“äº†ï¼Œä¸‹é¢æ¥ä»‹ç»ä¸‹å…¶åŠŸèƒ½ã€‚ Functions å…¼å®¹å®‰å“å„ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬ Android 8.0 æ”¯æŒä»»æ„åœ°æ–¹ç”³è¯·æƒé™ï¼Œä¸ä»…é™äº Activity å’Œ Fragment ç­‰ æ”¯æŒå¤šæƒé™åŒæ—¶ç”³è¯· é‡‡ç”¨é“¾å¼è°ƒç”¨ï¼Œä¸€å¥è¯è§£å†³æƒé™ç”³è¯· Achieveé¦–å…ˆæ¥ä»‹ç»å…¶å®ç°æ–¹å¼ï¼Œå…³äºè¿è¡Œæ—¶æƒé™çš„ä»‹ç»å¯ä»¥åœ¨å®˜ç½‘æŸ¥çœ‹ -&gt; ä¼ é€é—¨ã€‚å…³äºå±é™©æƒé™åˆ—è¡¨ï¼Œæˆ‘å°è£…å±é™©æƒé™å¸¸é‡ç±» PermissionConstants.javaï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990import android.Manifest;import android.Manifest.permission;import android.annotation.SuppressLint;import android.support.annotation.StringDef;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;/** * &lt;pre&gt; * author: Blankj * blog : http://blankj.com * time : 2017/12/29 * desc : æƒé™ç›¸å…³å¸¸é‡ * &lt;/pre&gt; */@SuppressLint("InlinedApi")public final class PermissionConstants &#123; public static final String CALENDAR = Manifest.permission_group.CALENDAR; public static final String CAMERA = Manifest.permission_group.CAMERA; public static final String CONTACTS = Manifest.permission_group.CONTACTS; public static final String LOCATION = Manifest.permission_group.LOCATION; public static final String MICROPHONE = Manifest.permission_group.MICROPHONE; public static final String PHONE = Manifest.permission_group.PHONE; public static final String SENSORS = Manifest.permission_group.SENSORS; public static final String SMS = Manifest.permission_group.SMS; public static final String STORAGE = Manifest.permission_group.STORAGE; private static final String[] GROUP_CALENDAR = &#123; permission.READ_CALENDAR, permission.WRITE_CALENDAR &#125;; private static final String[] GROUP_CAMERA = &#123; permission.CAMERA &#125;; private static final String[] GROUP_CONTACTS = &#123; permission.READ_CONTACTS, permission.WRITE_CONTACTS, permission.GET_ACCOUNTS &#125;; private static final String[] GROUP_LOCATION = &#123; permission.ACCESS_FINE_LOCATION, permission.ACCESS_COARSE_LOCATION &#125;; private static final String[] GROUP_MICROPHONE = &#123; permission.RECORD_AUDIO &#125;; private static final String[] GROUP_PHONE = &#123; permission.READ_PHONE_STATE, permission.READ_PHONE_NUMBERS, permission.CALL_PHONE, permission.ANSWER_PHONE_CALLS, permission.READ_CALL_LOG, permission.WRITE_CALL_LOG, permission.ADD_VOICEMAIL, permission.USE_SIP, permission.PROCESS_OUTGOING_CALLS &#125;; private static final String[] GROUP_SENSORS = &#123; permission.BODY_SENSORS &#125;; private static final String[] GROUP_SMS = &#123; permission.SEND_SMS, permission.RECEIVE_SMS, permission.READ_SMS, permission.RECEIVE_WAP_PUSH, permission.RECEIVE_MMS, &#125;; private static final String[] GROUP_STORAGE = &#123; permission.READ_EXTERNAL_STORAGE, permission.WRITE_EXTERNAL_STORAGE &#125;; @StringDef(&#123;CALENDAR, CAMERA, CONTACTS, LOCATION, MICROPHONE, PHONE, SENSORS, SMS, STORAGE,&#125;) @Retention(RetentionPolicy.SOURCE) public @interface Permission &#123; &#125; public static String[] getPermissions(@Permission final String permission) &#123; switch (permission) &#123; case CALENDAR: return GROUP_CALENDAR; case CAMERA: return GROUP_CAMERA; case CONTACTS: return GROUP_CONTACTS; case LOCATION: return GROUP_LOCATION; case MICROPHONE: return GROUP_MICROPHONE; case PHONE: return GROUP_PHONE; case SENSORS: return GROUP_SENSORS; case SMS: return GROUP_SMS; case STORAGE: return GROUP_STORAGE; &#125; return new String[]&#123;permission&#125;; &#125;&#125; ä¸ºäº†é€‚é… Android 8.0ï¼Œæˆ‘åœ¨ç”³è¯·æƒé™çš„æ—¶å€™ï¼Œä¼šæŠŠæ¸…å•æ–‡ä»¶ä¸­ä½¿ç”¨åˆ°çš„åŒç»„çš„æƒé™éƒ½ä¸€æ¬¡æ€§ç”³è¯·å®Œæ¯•ï¼Œç›¸å…³ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051private static final List&lt;String&gt; PERMISSIONS = getPermissions();/** * è·å–åº”ç”¨æƒé™ * * @return æ¸…å•æ–‡ä»¶ä¸­çš„æƒé™åˆ—è¡¨ */public static List&lt;String&gt; getPermissions() &#123; return getPermissions(Utils.getApp().getPackageName());&#125;/** * è·å–åº”ç”¨æƒé™ * * @param packageName åŒ…å * @return æ¸…å•æ–‡ä»¶ä¸­çš„æƒé™åˆ—è¡¨ */public static List&lt;String&gt; getPermissions(final String packageName) &#123; PackageManager pm = Utils.getApp().getPackageManager(); try &#123; return Arrays.asList( pm.getPackageInfo(packageName, PackageManager.GET_PERMISSIONS) .requestedPermissions ); &#125; catch (PackageManager.NameNotFoundException e) &#123; e.printStackTrace(); return Collections.emptyList(); &#125;&#125;/** * è®¾ç½®è¯·æ±‚æƒé™ * * @param permissions è¦è¯·æ±‚çš„æƒé™ * @return &#123;@link PermissionUtils&#125; */public static PermissionUtils permission(@Permission final String... permissions) &#123; return new PermissionUtils(permissions);&#125;private PermissionUtils(final String... permissions) &#123; mPermissions = new LinkedHashSet&lt;&gt;(); for (String permission : permissions) &#123; for (String aPermission : PermissionConstants.getPermissions(permission)) &#123; if (PERMISSIONS.contains(aPermission)) &#123; mPermissions.add(aPermission); &#125; &#125; &#125; sInstance = this;&#125; ä¸ºäº†æ”¯æŒä»»æ„åœ°æ–¹éƒ½å¯ä»¥ç”³è¯·æƒé™ï¼Œæˆ‘åœ¨ PermissionUtils.java ä¸­å°è£…äº† PermissionActivityï¼Œæºç å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728293031323334353637@RequiresApi(api = Build.VERSION_CODES.M)public static class PermissionActivity extends Activity &#123; public static void start(final Context context) &#123; Intent starter = new Intent(context, PermissionActivity.class); starter.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); context.startActivity(starter); &#125; @Override protected void onCreate(@Nullable Bundle savedInstanceState) &#123; if (sInstance.mThemeCallback != null) &#123; sInstance.mThemeCallback.onActivityCreate(this); &#125; else &#123; Window window = getWindow(); window.setBackgroundDrawable(null); int option = View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN; window.getDecorView().setSystemUiVisibility(option); window.setStatusBarColor(Color.TRANSPARENT); &#125; super.onCreate(savedInstanceState); if (sInstance.rationale(this)) &#123; finish(); return; &#125; if (sInstance.mPermissionsRequest != null) &#123; int size = sInstance.mPermissionsRequest.size(); requestPermissions(sInstance.mPermissionsRequest.toArray(new String[size]), 1); &#125; &#125; @Override public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) &#123; sInstance.onRequestPermissionsResult(this); finish(); &#125;&#125; è¿™æ ·æˆ‘ä»¬ä¾¿å¯ä»¥è‡ªå·±å…¨æƒå¤„ç†æƒé™è¯·æ±‚ï¼Œä½†å¯åŠ¨çš„è¿™ä¸ª PermissionActivity çš„ä¸»é¢˜å¹¶ä¸ä¸€å®šç¬¦åˆå°ä¼™ä¼´ä»¬åº”ç”¨çš„ Activity ç›¸å…³ä¸»é¢˜ï¼Œæ‰€ä»¥æˆ‘ç•™äº†ä¸ªè®¾ç½®ä¸»é¢˜çš„å›è°ƒæ¥å£ï¼Œæ¯”å¦‚å¯ä»¥æŠŠè¿™ä¸ª Activity è®¾ç½®ä¸ºå…¨å±ç­‰æ“ä½œï¼Œè¿™æ ·ä¾¿å¯æ— æ„ŸçŸ¥åœ°å¯åŠ¨ä¸€ä¸ª Activityï¼Œç›¸å…³ä¸»é¢˜å±æ€§å¦‚ä¸‹ï¼š 123456789101112&lt;style name=&quot;ActivityTranslucent&quot;&gt; &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt; &lt;item name=&quot;android:colorBackgroundCacheHint&quot;&gt;@null&lt;/item&gt; &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt; &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt; &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt; &lt;item name=&quot;android:activityOpenEnterAnimation&quot;&gt;@null&lt;/item&gt; &lt;item name=&quot;android:activityOpenExitAnimation&quot;&gt;@null&lt;/item&gt; &lt;item name=&quot;android:activityCloseEnterAnimation&quot;&gt;@null&lt;/item&gt; &lt;item name=&quot;android:activityCloseExitAnimation&quot;&gt;@null&lt;/item&gt; &lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;&lt;/style&gt; è¿™ä¸ªåº”è¯¥èƒ½é€‚é…å¾ˆå¤šåº”ç”¨äº†ã€‚ å½“ç„¶ï¼Œå¦‚æœæœ‰è®¾ç½® rationale çš„è¯ï¼Œä¹Ÿå°±æ˜¯è®¾ç½®æ‹’ç»æƒé™åå†æ¬¡è¯·æ±‚çš„å›è°ƒæ¥å£ï¼Œæ­¤æ—¶ä¾¿ä¼šèµ° sInstance.rationale(this)ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425@RequiresApi(api = Build.VERSION_CODES.M)private boolean rationale(final Activity activity) &#123; boolean isRationale = false; if (mOnRationaleListener != null) &#123; for (String permission : mPermissionsRequest) &#123; if (activity.shouldShowRequestPermissionRationale(permission)) &#123; getPermissionsStatus(activity); mOnRationaleListener.rationale(new ShouldRequest() &#123; @Override public void again(boolean again) &#123; if (again) &#123; startPermissionActivity(); &#125; else &#123; requestCallback(); &#125; &#125; &#125;); isRationale = true; break; &#125; &#125; mOnRationaleListener = null; &#125; return isRationale;&#125; é€»è¾‘å°±æ˜¯å¦‚æœ rationale å›è°ƒæ¥å£ æ‰§è¡Œäº† shouldRequest.again(true);ï¼Œé‚£ä¹ˆå°±ä¼šç»§ç»­ç”³è¯·ä¸‹å»ï¼Œåä¹‹åˆ™ä¸å†ç”³è¯·ï¼Œå¤šç”¨åœ¨å¼¹å‡ºä¸€ä¸ªæç¤ºå¯¹è¯æ¡†æ¥è®©ç”¨æˆ·é€‰æ‹©æ˜¯å¦ç»§ç»­è¯·æ±‚æƒé™ã€‚ æœ€ç»ˆå°±æ˜¯å‘èµ·è¯·æ±‚å’Œæ¥å—è¯·æ±‚ï¼Œå¹¶æŠŠæœ€ç»ˆçŠ¶æ€ä¿å­˜åˆ° mPermissionsGrantedã€mPermissionsDenied å’Œ mPermissionsDeniedForever ä¸­ï¼Œæœ€ç»ˆå›è°ƒ callback çš„æ¥å£ï¼Œç›¸å…³ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344private void getPermissionsStatus(final Activity activity) &#123; for (String permission : mPermissionsRequest) &#123; if (isGranted(permission)) &#123; mPermissionsGranted.add(permission); &#125; else &#123; mPermissionsDenied.add(permission); if (!activity.shouldShowRequestPermissionRationale(permission)) &#123; mPermissionsDeniedForever.add(permission); &#125; &#125; &#125;&#125;private void requestCallback() &#123; if (mSimpleCallback != null) &#123; if (mPermissionsRequest.size() == 0 || mPermissions.size() == mPermissionsGranted.size()) &#123; mSimpleCallback.onGranted(); &#125; else &#123; if (!mPermissionsDenied.isEmpty()) &#123; mSimpleCallback.onDenied(); &#125; &#125; mSimpleCallback = null; &#125; if (mFullCallback != null) &#123; if (mPermissionsRequest.size() == 0 || mPermissions.size() == mPermissionsGranted.size()) &#123; mFullCallback.onGranted(mPermissionsGranted); &#125; else &#123; if (!mPermissionsDenied.isEmpty()) &#123; mFullCallback.onDenied(mPermissionsDeniedForever, mPermissionsDenied); &#125; &#125; mFullCallback = null; &#125; mOnRationaleListener = null; mThemeCallback = null;&#125;private void onRequestPermissionsResult(final Activity activity) &#123; getPermissionsStatus(activity); requestCallback();&#125; Useè¯´äº†é‚£ä¹ˆå¤šï¼Œæ€»ç®—åˆ°ä½¿ç”¨äº†ï¼Œå…¶å®ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œä¸€å¥è¯å³å¯ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦ç”³è¯· android.permission.READ_CALENDAR æƒé™ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å» PermissionConstants.java ä¸­æ‰¾åˆ°å…¶æ‰€å±ç»„ï¼Œä¹Ÿå°±æ˜¯ CALENDARï¼Œè€Œåº”ç”¨æ˜¯å…¨å±ç±»å‹çš„åº”ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·å‘èµ·è¯·æ±‚ã€‚ 12345678910111213141516171819202122232425262728PermissionUtils.permission(PermissionConstants.CALENDAR) .rationale(new PermissionUtils.OnRationaleListener() &#123; @Override public void rationale(final ShouldRequest shouldRequest) &#123; PermissionHelper.showRationaleDialog(shouldRequest); &#125; &#125;) .callback(new PermissionUtils.FullCallback() &#123; @Override public void onGranted(List&lt;String&gt; permissionsGranted) &#123; updateAboutPermission(); &#125; @Override public void onDenied(List&lt;String&gt; permissionsDeniedForever, List&lt;String&gt; permissionsDenied) &#123; if (!permissionsDeniedForever.isEmpty()) &#123; PermissionHelper.showOpenAppSettingDialog(); &#125; LogUtils.d(permissionsDeniedForever, permissionsDenied); &#125; &#125;) .theme(new PermissionUtils.ThemeCallback() &#123; @Override public void onActivityCreate(Activity activity) &#123; ScreenUtils.setFullScreen(activity); &#125; &#125;) .request(); å¦‚æœè¿˜æœ‰ä¸ä¼šçš„å¯ä»¥å‚è€ƒ AndroidUtilCode ä¸­çš„ demo -&gt; PermissionActivity.java Tipsï¼šæ¨èå°ä¼™ä¼´ä»¬æœ€å¥½æŠŠæƒé™è¯·æ±‚ç›¸å…³çš„æ“ä½œéƒ½æ”¾åœ¨ä¸€ä¸ª helper ç±»ä¸­ï¼Œå°±åƒæˆ‘ AndroidUtilCode ä¸­ demo çš„åšæ³•ï¼Œåˆ›å»ºä¸€ä¸ª PermissionHelper.javaï¼Œæ¯•ç«Ÿæœ‰å¾ˆå¤šæƒé™è¯·æ±‚éƒ½æ˜¯é‡å¤ã€‚ Conclusionå¥½äº†ï¼Œæœ¬æ¬¡çš„æƒé™å·¥å…·ç±»ä»‹ç»å°±åˆ°æ­¤ç»“æŸäº†ï¼Œåœ¨è¿™ä¹ˆç®€æ´çš„å·¥å…·ç±»èƒŒåéƒ½æ˜¯æœ¬æŸ¯åŸºè¾›å‹¤ä»˜å‡ºçš„æ±—æ°´ï¼Œç–¯ç‹‚åœ° debugï¼Œç–¯ç‹‚åœ°æµ‹è¯•æ¥æ¶ˆé™¤å†…å­˜æ³„æ¼çš„é—®é¢˜ï¼Œè™½ç„¶è·¯é€”å¾ˆè‰°è¾›ï¼Œä½†æœ€ç»ˆè¿˜æ˜¯æˆåŠŸåœ°å®Œæˆäº†è¯¥å·¥å…·ç±»ï¼Œç»ˆäºç­‰åˆ°ä½ ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>å·¥å…·ç±»</category>
      </categories>
      <tags>
        <tag>å·¥å…·ç±»</tag>
        <tag>æƒé™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¼€å¯ä½ çš„ç»ˆç«¯è£…é€¼ç¬¬ä¸€æ­¥]]></title>
    <url>%2F2017%2F12%2F05%2Flet-ur-term-dress-b%2F</url>
    <content type="text"><![CDATA[ä½œä¸ºå¼€å‘äººå‘˜ï¼Œå’Œç»ˆç«¯çš„äº²å¯†åº¦é‚£è‚¯å®šä¸æ˜¯ä¸€èˆ¬åœ°é«˜ï¼Œä»¥ä¸Šä¾¿æ˜¯æˆ‘æ‰“å¼€ç»ˆç«¯è¿é¢è€Œæ¥çš„ç”»é¢ï¼Œæ˜¯ä¸æ˜¯é€¼æ ¼æ»¡æ»¡ï¼Œ23333ï¼Œä¸‹é¢æ¥æ•™å¤§å®¶å¦‚ä½•åœ¨ mac ä¸Šé…ç½®ï¼Œå…¶ä»–ç³»ç»Ÿåº”è¯¥ä¹ŸåŒç†ã€‚ é¦–å…ˆæ‰“å¼€ç»ˆç«¯ï¼ˆè¿™ä¸€æ­¥è¦æ˜¯ä¸ä¼šï¼Œé‚£è€é“ä½ å°±åˆ«é…ç½®äº†å§ï¼‰ã€‚ è¾“å…¥ cd /etc è¿›å…¥ç›®å½•ã€‚ è¾“å…¥ sudo pico motd,ç„¶åè¾“å…¥å¯†ç åè¿›å…¥ä¿®æ”¹é¡µé¢ã€‚ ç„¶ååœ¨å…¶ä¸­è¾“å…¥ä½ æƒ³æ˜¾ç¤ºçš„è£…é€¼å†…å®¹ï¼Œå†æ­¤æä¾›ä¸€ä¸ªå›¾å½¢ç•Œé¢ç½‘ç«™ï¼šè¿™æ˜¯ä¸€ä¸ªç¥å¥‡çš„ç½‘ç«™ï¼Œå¹²è´§æ»¡æ»¡å§ï¼Œé¡ºå¸¦æä¾›æˆ‘çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112131415161718192021222324252627282930 ________________________________________________________________/ _____________________________________________________________ \| | | || | &gt;_ . | || | . * | || | &quot; .. | || | .=*&amp;Ã¦..=&quot;&quot;&quot;*. | || | . &quot;&quot; * | || | &amp; * | || | &amp;c . | || | *e * | || | &quot;&amp;b . | || | &amp;Ã¦ . . | || | &amp;Ã¦Ã¦&quot;&quot;Ã¦= | || | &quot; | || | ______ ______ ______ | || | |______||_____/ | | | || | | | \ |______| | || | | || |_____________________________________________________________| |\____________________________________________________________________/ \_______________________________________/ .---------------------------------------------. _-&apos;.... .-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-. ....`-_ _-&apos;..... .---.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.--. .....`-_ _-&apos;....... .---.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-`__`. .......`-__-&apos;......... .-----.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-----. .........`-__-&apos;........... .---.-. .-----------------------------. .-.---. ...........`-_:-----------------------------------------------------------------------------:`-----------------------------------------------------------------------------&apos; æœ€å control + xï¼Œè¾“å…¥ y ä¿å­˜ï¼Œé‡å¯ç»ˆç«¯å°±å¯ä»¥çœ‹åˆ°é€¼æ ¼æ»¡æ»¡çš„æ¬¢è¿é¡µäº†ã€‚]]></content>
      <categories>
        <category>è£…é€¼</category>
      </categories>
      <tags>
        <tag>ç»ˆç«¯</tag>
        <tag>è£…é€¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Facebooké¢ç»è®°]]></title>
    <url>%2F2017%2F10%2F31%2Ffacebook-interview%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯å¯èƒ½ç”±äºæˆ‘ GitHub è¾ƒä¸ºæ´»è·ƒï¼Œå›½åº†æœŸé—´å±…ç„¶æ”¶åˆ°äº† Facebook çš„é¢è¯•é‚€è¯·å‡½ï¼Œæ—¢ç„¶æœ‰è¿™æœºè‚¥ï¼Œå½“ç„¶ä¸èƒ½æµªè´¹ï¼Œè¯•è¯•é‚£å°±è¯•è¯•å§ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ GitHub é¡µé¢åŠé¢è¯•é‚€è¯·å‡½ã€‚ å‡†å¤‡ç”µé¢æµç¨‹åœ¨å’ŒHRäº¤æµå‰æˆ‘ä¹ŸæŸ¥çœ‹äº†å¾ˆå¤šå…³äº Facebook é¢è¯•ç›¸å…³æµç¨‹ï¼Œæ­£æ‰€è°“çŸ¥å·±çŸ¥å½¼ï¼Œç™¾æˆ˜ç™¾èƒœã€‚HRæ˜¯åœ¨æ–°åŠ å¡çš„ï¼Œå’Œä»–äº¤æµè¿˜æ˜¯ç”¨ä¸­å›½è¯ï¼Œç®€å•äº¤æµå®Œä¹‹åå°±ç»™æˆ‘å‘äº†é¢è¯•ç›¸å…³é‚®ä»¶ï¼Œä¸è¿‡ä¹‹åçš„ç”µè¯é¢è¯•å½“ç„¶å¾—ç”¨è‹±æ–‡äº†ã€‚é‚®ä»¶ä¸­ä»‹ç»äº†ç”µé¢ç›¸å…³æµç¨‹ï¼Œæ€»æ—¶é•¿45åˆ†é’Ÿå·¦å³ï¼Œå‰5åˆ†é’Ÿè‡ªæˆ‘ä»‹ç»ä¸‹å¹¶å›ç­”å‡ ä¸ªç®€å•çš„ Android é—®é¢˜ï¼Œæ¥ä¸‹æ¥çš„35åˆ†é’Ÿå°±æ˜¯ coding äº†ï¼Œæœ€å5åˆ†é’Ÿå°±æ˜¯ä½ å¯ä»¥é—®é¢è¯•å®˜å‡ ä¸ªé—®é¢˜ã€‚ LeetCodeé¢è¯•FLAGï¼ˆFacebookã€Linkedinã€Amazonã€Googleï¼‰è¿™æ ·çš„å¤–ä¼ï¼Œæ•°æ®ç»“æ„å’Œç®—æ³•è‚¯å®šæ˜¯è¦è¿‡å…³çš„ï¼Œå¹¶ä¸”å¯ä»¥è„±ç¦»IDEç¼–å†™ä»£ç ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ç™½æ¿ç¼–ç¨‹ï¼ŒFacebook æ˜¯ç”¨ CoderPad åœ¨çº¿codingï¼Œé¢˜ç›®çš„è¯ç€é‡æ¨è LeetCodeï¼Œæ‰€ä»¥æˆ‘æ¨èæŠŠé¢˜ç›®æ‹·è´åˆ° CoderPad ä¸Šï¼Œç„¶ååœ¨ CoderPad ä¸Šå®Œæ•´åœ°å†™å‡ºACä»£ç ï¼Œå¦‚æœæŸäº›APIsä¸ç†Ÿæ‚‰çš„è¯ï¼Œé‚£å°±å»IDEä¸Šé¢æŸ¥ä¸€ä¸‹ï¼Œç¡®ä¿è‡ªå·±å†™å‡ºçš„ä»£ç ç­‰åŒäºIDEæ ¼å¼åŒ–åçš„ä»£ç ã€‚ä¸‹é¢é™„ä¸Šä¸€é¦–è¯—ã€‚ æ˜æœ‰ç§‘ä¸¾å…«è‚¡ï¼Œä»Šæœ‰LeetCodeã€‚å…«è‚¡å®šæ ¼å¼è€Œå–æ–‡é‡‡å¿ƒæ„ï¼ŒLeetCodeå®šé¢˜ç›®ä¸”é‡ç­”æ¡ˆèƒŒè¯µã€‚ç¾å…¶åæ›°ï¼šâ€practice makes perfect.â€ä¸ºä½•ä»Šä¸å¦‚å¤ï¼Ÿéä¹Ÿéä¹Ÿï¼Œç§‘ä¸¾ä¸ºå›½å–å£«ï¼ŒLeetCodeä¸ºGoogleç­›ç å·¥ï¼Œå„å–æ‰€éœ€ä¹Ÿã€‚ è¿™æ–¹é¢çš„è¯ï¼Œå¹¸å¥½æˆ‘å¤§å­¦æ˜¯ACMerï¼Œæ•°æ®ç»“æ„å’Œç®—æ³•ç›¸å…³çš„è¿˜æ˜¯æœ‰ç‚¹åº•å­çš„ï¼Œä¸ºäº†æ–¹ä¾¿å¤§å®¶ï¼Œæˆ‘åœ¨ GitHub ä¸Šå¼€äº† awesome-java-leetcodeï¼Œå…¶ä¸­åŒ…æ‹¬äº† Java è¯­è¨€çš„ LeetCode ç›¸å…³é¢˜è§£ï¼Œè§‰å¾—ä¸é”™çš„è¯ç»™ä¸ª star å§ã€‚è¯´å¥é¢˜å¤–è¯ï¼Œæˆ‘ä¸€ç›´éƒ½è§‰å¾—æ•°æ®ç»“æ„å’Œç®—æ³•æ˜¯ä½œä¸ºä¸€åç¨‹åºå‘˜å¿…é¡»æŒæ¡å’Œå–„äºåˆ©ç”¨çš„ï¼Œå³ä¾¿æˆ‘æ²¡è¿™ä¸ªæœºä¼šé¢è¯• Facebookï¼Œæˆ‘ä¹Ÿæ˜¯ç…§æ ·ä¼šå»åˆ· LeetCode çš„ï¼Œä»Šåä¹Ÿä¼šä¸æ–­æ›´æ–° LeetCode é¢˜è§£ã€‚ ä»¥ä¸‹æ˜¯å’ŒHRäº¤æµä¹‹åä»–å‘ç»™æˆ‘çš„éƒ¨åˆ†é¢è¯•å‡†å¤‡å†…å®¹ã€‚ å…¶ä¸­ä¹Ÿæœ‰æåŠ LeetCode ç›¸å…³å†…å®¹ï¼Œå¯è§å…¶é‡è¦æ€§ã€‚ ç®€å†é¢è¯•å¤–ä¼ä¸€ä»½è‹±æ–‡ç®€å†æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œæˆ‘èŠ±äº†ä¸¤å¤©æ—¶é—´åšäº†ä»½ Markdown é€šç”¨çš„ç®€å†ï¼Œåˆ©ç”¨ Pandoc å¯ä»¥å¾ˆæ–¹ä¾¿å¯¼å‡ºå„ç§æ ¼å¼ï¼Œè‡³äºä¸ºä»€ä¹ˆèŠ±äº†ä¸¤å¤©ï¼Œå½“ç„¶æ˜¯ä¸ºäº†ä¹‹åèƒ½åˆ†äº«ç»™ä½ ä»¬å“ˆã€‚ ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« ï¼šä¸ºè·³æ§½çš„ä½ çŒ®è®¡çŒ®ç­–ï¼ˆAndroidï¼‰ æœ‰å¾ˆå¤šå°ä¼™ä¼´æƒ³è¦æŸ¥çœ‹æˆ‘çš„ç®€å†ï¼Œè€Œå½“æ—¶æˆ‘åªæä¾›äº†æ¨¡æ¿ã€‚å¦‚æœç°åœ¨å°ä¼™ä¼´ä»¬è¿˜ä¸æ¸…æ¥šæ€ä¹ˆå†™ç®€å†æˆ–è€…è§‰å¾—è‡ªå·±çš„ç®€å†ä¸å¤Ÿå®Œç¾ï¼Œé‚£ä½ ä»¬å¯ä»¥å€Ÿé‰´æˆ‘çš„è‡ªå·±å»ä¿®æ”¹ä¿®æ”¹ï¼Œæˆ‘å·²æŠŠå®ƒä¸Šä¼ åˆ°äº† GitHubï¼Œè¿™é‡Œæ˜¯ä¼ é€é—¨ï¼Œå–œæ¬¢çš„è¯è®°å¾— star å“¦ã€‚ æ³¨æ„ç‚¹Facebook æ›´ä¸ºæ³¨é‡çš„æ˜¯å›¢é˜Ÿç²¾ç¥ï¼Œå³ä¾¿ä½  coding æ°´å¹³ä¸€æµï¼Œåœ¨é¢è¯•çš„æ—¶å€™ä½ å£°ä¹Ÿä¸å­åœ°æ•²å®Œäº†æ‰€æœ‰ä»£ç ï¼Œå³ä¾¿æ˜¯ bug-free ï¼Œé‚£é¢è¯•å®˜å¿ƒé‡Œä¹Ÿè‚¯å®šä¼šæƒ³ï¼šâ€œwcï¼Œè€å­è‚¯å®šä¸å¸Œæœ›è·Ÿè¿™ç§äººåšåŒäº‹ï¼â€ã€‚æ‰€ä»¥coding çš„æ—¶å€™è¦å’Œé¢è¯•å®˜è¿›è¡Œäº¤æµå“ˆï¼Œä¸è¦é—·å¤´å°±æ•²ä»£ç ï¼Œè€Œæ˜¯è¦è¡¨ç°å¾—æ˜¯åœ¨å’Œé¢è¯•å®˜åœ¨ä¸€èµ·è®¨è®ºé—®é¢˜ï¼Œæ¯”å¦‚è¦é—®æ¸…æ¥šæ•°æ®çš„è¾¹ç•Œï¼Œä½ è¦ç”¨ä»€ä¹ˆæ–¹å¼å»è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦ç­‰ç­‰ï¼Œåšå®Œä¹‹åä¸è¦å¿˜äº†æµ‹è¯•ç”¨ä¾‹ï¼Œå½“ç„¶ï¼Œæœ€ç»ˆç›®çš„è‚¯å®šæ˜¯éœ€è¦ bug-free çš„ã€‚ ç»“è¯­ä»¥ä¸Šä¾¿æ˜¯æˆ‘çš„é¢è¯•æ€»ç»“ï¼Œä¸è®ºæˆ‘ä¹‹åè¿˜æœ‰æ²¡æœ‰æœºè‚¥é¢è¯•ä¸‹ä¸€è½®ï¼ˆFacebookåº”è¯¥æ˜¯è‡³å°‘å››é¢ï¼‰ï¼Œæˆ‘è¿˜æ˜¯ä¼šç»§ç»­å·©å›ºæ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œä¸æ–­æ›´æ–°æˆ‘çš„ awesome-java-leetcodeï¼Œæ¯•ç«Ÿé¢è¯• Facebook çš„æœºè‚¥å¹´å¹´éƒ½æœ‰ï¼Œå³ä½¿ä¸ä¸º Facebookï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä½œä¸ºç¨‹åºå‘˜åº”è¯¥åšæŒçš„ï¼Œå®Œç»“ï¼Œæ’’èŠ±ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>ç®€å†</tag>
        <tag>Facebook</tag>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Studioå‡çº§åˆ°3.0 Terminal ä¸­æ–‡æ˜¾ç¤ºå¼‚å¸¸]]></title>
    <url>%2F2017%2F10%2F27%2Fupdate-as3-terminal-problem%2F</url>
    <content type="text"><![CDATA[é‡åˆ°è¿™ä¸ªé—®é¢˜çš„è¯åº”è¯¥æ˜¯å¹³æ—¶ç»ˆç«¯ç”¨çš„æ˜¯zshé€ æˆçš„ï¼Œå¦‚æœä¸æ˜¯çš„è¯ï¼Œé‚£æˆ‘ä¹Ÿæ²¡åŠæ³•ï¼Œè‡³å°‘æˆ‘æ˜¯è¿™ä¹ˆè§£å†³çš„ï¼Œå¸Œæœ›ä¹Ÿå¯ä»¥å¸®åˆ°ä½ ã€‚ å…·ä½“Bugå¦‚ä¸‹æ‰€ç¤º å†…å¿ƒæœ‰ä¸€ä¸‡åŒ¹è‰æ³¥é©¬å‘¼å•¸è€Œè¿‡ï¼Œæ£è±‰äº†å¾ˆä¹…ï¼Œæœ€ç»ˆåœ¨æŸç¾¤ä¸­é—®äº†ä¸‹å¾—åˆ°äº†ç­”æ¡ˆï¼Œè§£å†³é€”å¾„å¦‚ä¸‹ã€‚ æ‰“å¼€~/.zshrcæ–‡ä»¶ï¼Œæ‰¾åˆ°å¦‚ä¸‹ä¸¤è¡Œã€‚ 12# You may need to manually set your language environment# export LANG=en_US.UTF-8 æˆ‘ä»¬æŠŠç¬¬äºŒè¡Œå–æ¶ˆæ³¨é‡Šå³å¯ï¼Œä¿å­˜ä¹‹åé‡å¯ASå³å¯ï¼Œç†Ÿæ‚‰çš„ä¸­æ–‡åˆå‡ºç°åœ¨ç»ˆç«¯ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ å¸Œæœ›å¤§å®¶å¯ä»¥ç»•è¿‡è¿™ä¸ªå‘ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>Android Studio</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LeetCodeé¢˜è§£ä¹‹Javaç‰ˆ(updating)]]></title>
    <url>%2F2017%2F04%2F16%2Fawesome-java-leetcode%2F</url>
    <content type="text"><![CDATA[æˆ‘å¦‚ä»Šæ˜¯ä¸€åAndroid Developerï¼Œå¤§å­¦çš„æˆ‘æ›¾æ˜¯ä¸€åACMerï¼Œä¸ºäº†ä¸æƒ³è®©ç®—æ³•æ·¡å‡ºæˆ‘çš„è®°å¿†ï¼Œæ•…é‡æ‹¾LeetCodeä¹‹Algorithmï¼Œè¯­è¨€é€‰æ‹©çš„æ˜¯Javaï¼Œé¢˜åº“ä¼šä¸€ç‚¹ç‚¹å®Œå–„èµ·æ¥ï¼ŒæŒ‰ç®€å•ï¼Œä¸­ç­‰ï¼Œå›°éš¾åˆ†ç±»ï¼Œç›¸åº”éš¾åº¦ä¸‹æŒ‰é¢˜å·æ’åºï¼Œå·¥ç¨‹ä»£ç åœ¨projectç›®å½•ä¸­ï¼Œç›¸å…³è§£é¢˜éƒ½åœ¨noteç›®å½•ä¸­ï¼Œæ¬¢è¿starã€‚ å¦‚ä»Šæœ‰æœºä¼šé¢è¯•Facebookï¼Œé™„ä¸ŠLeetCodeä¸ŠFacebookçš„é¢è¯•é¢˜ç›®åºå·ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°ä»¥åæƒ³å…¥Facebookçš„å°ä¼™ä¼´:-) 123451,10,13,15,17,20,23,25,26,28,33,38,43,44,49,50,56,57,67,68,69,71,75,7678,79,80,85,88,90,91,98,102,117,121,125,127,128,133,139,146,157,158,161168,173,200,206,208,209,210,211,215,218,221,234,235,236,238,252,253,257261,265,269,273,274,275,277,278,282,283,285,286,297,301,311,314,325,334341,377,380,398,404,410,461,477,494,523,525,534,535,543,554 å¦‚æœæƒ³çŸ¥é“æ›´å¤šå…¬å¸LeetCodeé¢è¯•é¢˜ï¼Œå¯ä»¥å‚çœ‹Companies.mdã€‚ Easy # Title Tag 1 Two Sum Array, Hash Table 7 Reverse Integer Math 9 Palindrome Number Math 13 Roman to Integer Math, String 14 Longest Common Prefix String 20 Valid Parentheses Stack, String 21 Merge Two Sorted Lists Linked List 26 Remove Duplicates from Sorted Array Array, Two Pointers 27 Remove Element Array, Two Pointers 28 Implement strStr() Two Pointers, String 35 Search Insert Position String 38 Count and Say String 53 Maximum Subarray Array, Dynamic Programming, Divide and Conquer 58 Length of Last Word String 66 Plus One Array, Math 67 Add Binary Math, String 69 Sqrt(x) Binary Search, Math 70 Climbing Stairs Dynamic Programming 83 Remove Duplicates from Sorted List Linked List 88 Merge Sorted Array Array, Two Pointers 100 Same Tree Tree, Depth-first Search 101 Symmetric Tree Tree, Depth-first Search, Breadth-first Search 104 Maximum Depth of Binary Tree Tree, Depth-first Search 107 Binary Tree Level Order Traversal II Tree, Breadth-first Search 108 Convert Sorted Array to Binary Search Tree Tree, Depth-first Search 110 Balanced Binary Tree Tree, Depth-first Search 111 Minimum Depth of Binary Tree Tree, Depth-first Search, Breadth-first Search 112 Path Sum Tree, Depth-first Search 118 Pascalâ€™s Triangle Array 119 Pascalâ€™s Triangle II Array 121 Best Time to Buy and Sell Stock Array, Dynamic Programmin 122 Best Time to Buy and Sell Stock II Array, Greedy 543 Diameter of Binary Tree Tree Medium # Title Tag 2 Add Two Numbers Linked List, Math 3 Longest Substring Without Repeating Characters Hash Table, Two Pointers, String 8 String to Integer (atoi) Math, String 15 3Sum Array, Two Pointers 17 Letter Combinations of a Phone Number String, Backtracking 19 Remove Nth Node From End of List Linked List, Two Pointers 33 Search in Rotated Sorted Array Arrays, Binary Search 43 Multiply Strings Math, String 49 Group Anagrams Hash Table, String 50 Pow(x, n) Math, Binary Search 56 Merge Intervals Array, Sort 554 Brick Wall Hash Table Hard # Title Tag 4 Median of Two Sorted Arrays Array, Binary Search, Divide and Conquer 10 Regular Expression Matching String, Dynamic Programming, Backtracking 23 Merge k Sorted Lists Linked List, Divide and Conquer, Heap 25 Reverse Nodes in k-Group Linked List 44 Reverse Nodes in k-Group String, Dynamic Programming, Backtracking, Greedy 57 Insert Interval Array, Sort]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Android å¼€å‘è§„èŒƒï¼ˆå®Œç»“ç‰ˆï¼‰]]></title>
    <url>%2F2017%2F03%2F08%2Fandroid-standard-dev-final%2F</url>
    <content type="text"><![CDATA[æ‘˜è¦ 1 å‰è¨€ 2 AS è§„èŒƒ 3 å‘½åè§„èŒƒ 4 ä»£ç æ ·å¼è§„èŒƒ 5 èµ„æºæ–‡ä»¶è§„èŒƒ 6 ç‰ˆæœ¬ç»Ÿä¸€è§„èŒƒ 7 ç¬¬ä¸‰æ–¹åº“è§„èŒƒ 8 æ³¨é‡Šè§„èŒƒ 9 æµ‹è¯•è§„èŒƒ 10 å…¶ä»–çš„ä¸€äº›è§„èŒƒ 1 å‰è¨€ä¸ºäº†æœ‰åˆ©äºé¡¹ç›®ç»´æŠ¤ã€å¢å¼ºä»£ç å¯è¯»æ€§ã€æå‡ Code Review æ•ˆç‡ä»¥åŠè§„èŒƒå›¢é˜Ÿå®‰å“å¼€å‘ï¼Œæ•…æå‡ºä»¥ä¸‹å®‰å“å¼€å‘è§„èŒƒï¼Œè¯¥è§„èŒƒç»“åˆæœ¬äººå¤šå¹´çš„å¼€å‘ç»éªŒå¹¶å¸å–å¤šå®¶ä¹‹ç²¾åï¼Œå¯è°“æ˜¯æœ¬äººçš„å‘•å¿ƒæ²¥è¡€ä¹‹ä½œï¼Œç§°å…¶ä¸ºå½“å‰æœ€å®Œå–„çš„å®‰å“å¼€å‘è§„èŒƒä¸€ç‚¹ä¹Ÿä¸ä¸ºè¿‡ï¼Œå¦‚æœ‰æ›´å¥½å»ºè®®ï¼Œæ¬¢è¿åˆ° GitHub æ issueï¼ŒåŸæ–‡åœ°å€ï¼šAndroid å¼€å‘è§„èŒƒï¼ˆå®Œç»“ç‰ˆï¼‰ã€‚ç›¸å…³ Demoï¼Œå¯ä»¥æŸ¥çœ‹æˆ‘çš„ Android å¼€å‘å·¥å…·ç±»é›†åˆé¡¹ç›®ï¼šAndroid å¼€å‘äººå‘˜ä¸å¾—ä¸æ”¶é›†çš„ä»£ç ã€‚åç»­å¯èƒ½ä¼šæ ¹æ®è¯¥è§„èŒƒå‡ºä¸€ä¸ª CheckStyle æ’ä»¶æ¥æ£€æŸ¥æ˜¯å¦è§„èŒƒï¼Œå½“ç„¶ä¹Ÿæ”¯æŒåœ¨ CI ä¸Šè¿è¡Œã€‚ 2 AS è§„èŒƒå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚ å°½é‡ä½¿ç”¨æœ€æ–°çš„ç¨³å®šç‰ˆçš„ IDE è¿›è¡Œå¼€å‘ï¼› ç¼–ç æ ¼å¼ç»Ÿä¸€ä¸º UTF-8ï¼› ç¼–è¾‘å®Œ .javaã€.xml ç­‰æ–‡ä»¶åä¸€å®šè¦ æ ¼å¼åŒ–ï¼Œæ ¼å¼åŒ–ï¼Œæ ¼å¼åŒ–ï¼ˆå¦‚æœå›¢é˜Ÿæœ‰å…¬å…±çš„æ ·å¼åŒ…ï¼Œé‚£å°±éµå¾ªå®ƒï¼Œå¦åˆ™ç»Ÿä¸€ä½¿ç”¨ AS é»˜è®¤æ¨¡æ¿å³å¯ï¼‰ï¼› åˆ é™¤å¤šä½™çš„ importï¼Œå‡å°‘è­¦å‘Šå‡ºç°ï¼Œå¯åˆ©ç”¨ AS çš„ Optimize Importsï¼ˆSettings -&gt; Keymap -&gt; Optimize Importsï¼‰å¿«æ·é”®ï¼› Android å¼€å‘è€…å·¥å…·å¯ä»¥å‚è€ƒè¿™é‡Œï¼šAndroid å¼€å‘è€…å·¥å…·ï¼› 3 å‘½åè§„èŒƒä»£ç ä¸­çš„å‘½åä¸¥ç¦ä½¿ç”¨æ‹¼éŸ³ä¸è‹±æ–‡æ··åˆçš„æ–¹å¼ï¼Œæ›´ä¸å…è®¸ç›´æ¥ä½¿ç”¨ä¸­æ–‡çš„æ–¹å¼ã€‚æ­£ç¡®çš„è‹±æ–‡æ‹¼å†™å’Œè¯­æ³•å¯ä»¥è®©é˜…è¯»è€…æ˜“äºç†è§£ï¼Œé¿å…æ­§ä¹‰ã€‚ æ³¨æ„ï¼šå³ä½¿çº¯æ‹¼éŸ³å‘½åæ–¹å¼ä¹Ÿè¦é¿å…é‡‡ç”¨ã€‚ä½† alibabaã€taobaoã€youkuã€hangzhou ç­‰å›½é™…é€šç”¨çš„åç§°ï¼Œå¯è§†åŒè‹±æ–‡ã€‚ 3.1 åŒ…ååŒ…åå…¨éƒ¨å°å†™ï¼Œè¿ç»­çš„å•è¯åªæ˜¯ç®€å•åœ°è¿æ¥èµ·æ¥ï¼Œä¸ä½¿ç”¨ä¸‹åˆ’çº¿ï¼Œé‡‡ç”¨ååŸŸåå‘½åè§„åˆ™ï¼Œå…¨éƒ¨ä½¿ç”¨å°å†™å­—æ¯ã€‚ä¸€çº§åŒ…åæ˜¯é¡¶çº§åŸŸåï¼Œé€šå¸¸ä¸º comã€eduã€govã€netã€org ç­‰ï¼ŒäºŒçº§åŒ…åä¸ºå…¬å¸åï¼Œä¸‰çº§åŒ…åæ ¹æ®åº”ç”¨è¿›è¡Œå‘½åï¼Œåé¢å°±æ˜¯å¯¹åŒ…åçš„åˆ’åˆ†äº†ï¼Œå…³äºåŒ…åçš„åˆ’åˆ†ï¼Œæ¨èé‡‡ç”¨ PBFï¼ˆæŒ‰åŠŸèƒ½åˆ†åŒ… Package By Featureï¼‰ï¼Œä¸€å¼€å§‹æˆ‘ä»¬é‡‡ç”¨çš„ä¹Ÿæ˜¯ PBLï¼ˆæŒ‰å±‚åˆ†åŒ… Package By Layerï¼‰ï¼Œå¾ˆå‘çˆ¹ã€‚PBF å¯èƒ½ä¸æ˜¯å¾ˆå¥½åŒºåˆ†åœ¨å“ªä¸ªåŠŸèƒ½ä¸­ï¼Œä¸è¿‡ä¹Ÿæ¯” PBL è¦å¥½æ‰¾å¾ˆå¤šï¼Œä¸” PBF ä¸ PBL ç›¸æ¯”è¾ƒæœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼š package å†…é«˜å†…èšï¼Œpackage é—´ä½è€¦åˆ å“ªå—è¦æ·»æ–°åŠŸèƒ½ï¼Œåªæ”¹æŸä¸€ä¸ª package ä¸‹çš„ä¸œè¥¿ã€‚ PBL é™ä½äº†ä»£ç è€¦åˆï¼Œä½†å¸¦æ¥äº† package è€¦åˆï¼Œè¦æ·»æ–°åŠŸèƒ½ï¼Œéœ€è¦æ”¹ modelã€dbHelperã€viewã€service ç­‰ç­‰ï¼Œéœ€è¦æ”¹åŠ¨å¥½å‡ ä¸ª package ä¸‹çš„ä»£ç ï¼Œæ”¹åŠ¨çš„åœ°æ–¹è¶Šå¤šï¼Œè¶Šå®¹æ˜“äº§ç”Ÿæ–°é—®é¢˜ï¼Œä¸æ˜¯å—ï¼Ÿ PBF çš„è¯ featureA ç›¸å…³çš„æ‰€æœ‰ä¸œè¥¿éƒ½åœ¨ featureA åŒ…ï¼Œfeature å†…é«˜å†…èšã€é«˜åº¦æ¨¡å—åŒ–ï¼Œä¸åŒ feature ä¹‹é—´ä½è€¦åˆï¼Œç›¸å…³çš„ä¸œè¥¿éƒ½æ”¾åœ¨ä¸€èµ·ï¼Œè¿˜å¥½æ‰¾ã€‚ package æœ‰ç§æœ‰ä½œç”¨åŸŸï¼ˆpackage-private scopeï¼‰ ä½ è´Ÿè´£å¼€å‘è¿™å—åŠŸèƒ½ï¼Œè¿™ä¸ªç›®å½•ä¸‹æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯ä½ çš„ã€‚ PBL çš„æ–¹å¼æ˜¯æŠŠæ‰€æœ‰å·¥å…·æ–¹æ³•éƒ½æ”¾åœ¨ util åŒ…ä¸‹ï¼Œå°å¼ å¼€å‘æ–°åŠŸèƒ½æ—¶å€™å‘ç°éœ€è¦ä¸€ä¸ª xxUtilï¼Œä½†å®ƒåˆä¸æ˜¯é€šç”¨çš„ï¼Œé‚£åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿæ²¡åŠæ³•ï¼ŒæŒ‰ç…§åˆ†å±‚åŸåˆ™ï¼Œæˆ‘ä»¬è¿˜å¾—æ”¾åœ¨ util åŒ…ä¸‹ï¼Œå¥½åƒä¸å¤ªåˆé€‚ï¼Œä½†æ”¾åœ¨å…¶å®ƒåŒ…æ›´ä¸åˆé€‚ï¼ŒåŠŸèƒ½è¶Šæ¥è¶Šå¤šï¼Œutil ç±»ä¹Ÿè¶Šå®šä¹‰è¶Šå¤šã€‚åæ¥å°æè´Ÿè´£å¼€å‘ä¸€å—åŠŸèƒ½æ—¶å‘ç°éœ€è¦ä¸€ä¸ª xxUtilï¼ŒåŒæ ·ä¸é€šç”¨ï¼Œå» util åŒ…ä¸€çœ‹ï¼Œæ€ä¹ˆå·²ç»æœ‰äº†ï¼Œè€Œä¸”è¿˜æ²¡æ³•å¤ç”¨ï¼Œåªå¥½æ”¾å¼ƒ xx è¿™ä¸ªåå­—ï¼Œæ”¹ä¸º xxxUtilâ€¦â€¦ï¼Œå› ä¸º PBL çš„ package æ²¡æœ‰ç§æœ‰ä½œç”¨åŸŸï¼Œæ¯ä¸€ä¸ªåŒ…éƒ½æ˜¯ publicï¼ˆè·¨åŒ…æ–¹æ³•è°ƒç”¨æ˜¯å¾ˆå¹³å¸¸çš„äº‹æƒ…ï¼Œæ¯ä¸€ä¸ªåŒ…å¯¹å…¶å®ƒåŒ…æ¥è¯´éƒ½æ˜¯å¯è®¿é—®çš„ï¼‰ï¼›å¦‚æœæ˜¯ PBFï¼Œå°å¼ çš„ xxUtil è‡ªç„¶æ”¾åœ¨ featureA ä¸‹ï¼Œå°æçš„ xxUtil åœ¨ featureB ä¸‹ï¼Œå¦‚æœè§‰å¾— util å¥½åƒæ˜¯é€šç”¨çš„ï¼Œå°±å» util åŒ…çœ‹çœ‹è¦ä¸è¦æŠŠå·¥å…·æ–¹æ³•æ·»è¿› xxUtil, class å‘½åå†²çªæ²¡æœ‰äº†ã€‚ PBF çš„ package æœ‰ç§æœ‰ä½œç”¨åŸŸï¼ŒfeatureA ä¸åº”è¯¥è®¿é—® featureB ä¸‹çš„ä»»ä½•ä¸œè¥¿ï¼ˆå¦‚æœéè®¿é—®ä¸å¯ï¼Œé‚£å°±è¯´æ˜æ¥å£å®šä¹‰æœ‰é—®é¢˜ï¼‰ã€‚ å¾ˆå®¹æ˜“åˆ é™¤åŠŸèƒ½ ç»Ÿè®¡å‘ç°æ–°åŠŸèƒ½æ²¡äººç”¨ï¼Œè¿™ä¸ªç‰ˆæœ¬é‚£å—åŠŸèƒ½å¾—å»æ‰ã€‚ å¦‚æœæ˜¯ PBLï¼Œå¾—ä»åŠŸèƒ½å…¥å£åˆ°æ•´ä¸ªä¸šåŠ¡æµç¨‹æŠŠå—åˆ°ç‰µè¿çš„æ‰€æœ‰èƒ½åˆ çš„ä»£ç å’Œ class éƒ½æªå‡ºæ¥åˆ æ‰ï¼Œä¸€ä¸å°å¿ƒå°±å®Œè›‹ã€‚ å¦‚æœæ˜¯ PBFï¼Œå¥½è¯´ï¼Œå…ˆåˆ æ‰å¯¹åº”åŒ…ï¼Œå†åˆ æ‰åŠŸèƒ½å…¥å£ï¼ˆåˆ æ‰åŒ…åå…¥å£è‚¯å®šæŠ¥é”™äº†ï¼‰ï¼Œå®Œäº‹ã€‚ é«˜åº¦æŠ½è±¡ è§£å†³é—®é¢˜çš„ä¸€èˆ¬æ–¹æ³•æ˜¯ä»æŠ½è±¡åˆ°å…·ä½“ï¼ŒPBF åŒ…åæ˜¯å¯¹åŠŸèƒ½æ¨¡å—çš„æŠ½è±¡ï¼ŒåŒ…å†…çš„ class æ˜¯å®ç°ç»†èŠ‚ï¼Œç¬¦åˆä»æŠ½è±¡åˆ°å…·ä½“ï¼Œè€Œ PBL å¼„åäº†ã€‚ PBF ä»ç¡®å®š AppName å¼€å§‹ï¼Œæ ¹æ®åŠŸèƒ½æ¨¡å—åˆ’åˆ† packageï¼Œå†è€ƒè™‘æ¯å—çš„å…·ä½“å®ç°ç»†èŠ‚ï¼Œè€Œ PBL ä»ä¸€å¼€å§‹å°±è¦è€ƒè™‘è¦ä¸è¦ dao å±‚ï¼Œè¦ä¸è¦ com å±‚ç­‰ç­‰ã€‚ åªé€šè¿‡ class æ¥åˆ†ç¦»é€»è¾‘ä»£ç  PBL æ—¢åˆ†ç¦» class åˆåˆ†ç¦» packageï¼Œè€Œ PBF åªé€šè¿‡ class æ¥åˆ†ç¦»é€»è¾‘ä»£ç ã€‚ æ²¡æœ‰å¿…è¦é€šè¿‡ package åˆ†ç¦»ï¼Œå› ä¸º PBL ä¸­ä¹Ÿå¯èƒ½å‡ºç°å°´å°¬çš„æƒ…å†µï¼š 12â”œâ”€â”€ service â”œâ”€â”€ MainService.java æŒ‰ç…§ PBL, service åŒ…ä¸‹çš„æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯ Serviceï¼Œåº”è¯¥ä¸éœ€è¦ Service åç¼€ï¼Œä½†å®é™…ä¸Šé€šå¸¸ä¸ºäº†æ–¹ä¾¿ï¼Œç›´æ¥ import service åŒ…ï¼ŒService åç¼€æ˜¯ä¸ºäº†é¿å…å¼•å…¥çš„ class å’Œå½“å‰åŒ…ä¸‹çš„ class å‘½åå†²çªï¼Œå½“ç„¶ï¼Œä¸ç”¨åç¼€ä¹Ÿå¯ä»¥ï¼Œå¾—å†™æ¸…æ¥šåŒ…è·¯å¾„ï¼Œæ¯”å¦‚ new com.domain.service.MainService()ï¼Œéº»çƒ¦ï¼›è€Œ PBF å°±å¾ˆæ–¹ä¾¿ï¼Œæ— éœ€ importï¼Œç›´æ¥ new MainService() å³å¯ã€‚ package çš„å¤§å°æœ‰æ„ä¹‰äº† PBL ä¸­åŒ…çš„å¤§å°æ— é™å¢é•¿æ˜¯åˆç†çš„ï¼Œå› ä¸ºåŠŸèƒ½è¶Šæ·»è¶Šå¤šï¼Œè€Œ PBF ä¸­åŒ…å¤ªå¤§ï¼ˆåŒ…é‡Œ class å¤ªå¤šï¼‰è¡¨ç¤ºè¿™å—éœ€è¦é‡æ„ï¼ˆåˆ’åˆ†å­åŒ…ï¼‰ã€‚ å¦‚è¦çŸ¥é“æ›´å¤šå¥½å¤„ï¼Œå¯ä»¥æŸ¥çœ‹è¿™ç¯‡åšæ–‡ï¼šPackage by features, not layersï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬å¤§è°·æ­Œä¹Ÿæœ‰ç›¸åº”çš„ Sampleï¼štodo-mvpï¼Œå…¶ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼Œå¾ˆå€¼å¾—å­¦ä¹ ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445comâ””â”€â”€ example â””â”€â”€ android â””â”€â”€ architecture â””â”€â”€ blueprints â””â”€â”€ todoapp â”œâ”€â”€ BasePresenter.java â”œâ”€â”€ BaseView.java â”œâ”€â”€ addedittask â”‚ â”œâ”€â”€ AddEditTaskActivity.java â”‚ â”œâ”€â”€ AddEditTaskContract.java â”‚ â”œâ”€â”€ AddEditTaskFragment.java â”‚ â””â”€â”€ AddEditTaskPresenter.java â”œâ”€â”€ data â”‚ â”œâ”€â”€ Task.java â”‚ â””â”€â”€ source â”‚ â”œâ”€â”€ TasksDataSource.java â”‚ â”œâ”€â”€ TasksRepository.java â”‚ â”œâ”€â”€ local â”‚ â”‚ â”œâ”€â”€ TasksDbHelper.java â”‚ â”‚ â”œâ”€â”€ TasksLocalDataSource.java â”‚ â”‚ â””â”€â”€ TasksPersistenceContract.java â”‚ â””â”€â”€ remote â”‚ â””â”€â”€ TasksRemoteDataSource.java â”œâ”€â”€ statistics â”‚ â”œâ”€â”€ StatisticsActivity.java â”‚ â”œâ”€â”€ StatisticsContract.java â”‚ â”œâ”€â”€ StatisticsFragment.java â”‚ â””â”€â”€ StatisticsPresenter.java â”œâ”€â”€ taskdetail â”‚ â”œâ”€â”€ TaskDetailActivity.java â”‚ â”œâ”€â”€ TaskDetailContract.java â”‚ â”œâ”€â”€ TaskDetailFragment.java â”‚ â””â”€â”€ TaskDetailPresenter.java â”œâ”€â”€ tasks â”‚ â”œâ”€â”€ ScrollChildSwipeRefreshLayout.java â”‚ â”œâ”€â”€ TasksActivity.java â”‚ â”œâ”€â”€ TasksContract.java â”‚ â”œâ”€â”€ TasksFilterType.java â”‚ â”œâ”€â”€ TasksFragment.java â”‚ â””â”€â”€ TasksPresenter.java â””â”€â”€ util â”œâ”€â”€ ActivityUtils.java â”œâ”€â”€ EspressoIdlingResource.java â””â”€â”€ SimpleCountingIdlingResource.java å‚è€ƒä»¥ä¸Šçš„ä»£ç ç»“æ„ï¼ŒæŒ‰åŠŸèƒ½åˆ†åŒ…å…·ä½“å¯ä»¥è¿™æ ·åšï¼š 12345678910111213141516171819202122comâ””â”€â”€ domain â””â”€â”€ app â”œâ”€â”€ App.java å®šä¹‰ Application ç±» â”œâ”€â”€ Config.java å®šä¹‰é…ç½®æ•°æ®ï¼ˆå¸¸é‡ï¼‰ â”œâ”€â”€ base åŸºç¡€ç»„ä»¶ â”œâ”€â”€ custom_view è‡ªå®šä¹‰è§†å›¾ â”œâ”€â”€ data æ•°æ®å¤„ç† â”‚ â”œâ”€â”€ DataManager.java æ•°æ®ç®¡ç†å™¨ï¼Œ â”‚ â”œâ”€â”€ local æ¥æºäºæœ¬åœ°çš„æ•°æ®ï¼Œæ¯”å¦‚ SPï¼ŒDatabaseï¼ŒFile â”‚ â”œâ”€â”€ model å®šä¹‰ modelï¼ˆæ•°æ®ç»“æ„ä»¥åŠ getter/setterã€compareToã€equals ç­‰ç­‰ï¼Œä¸å«å¤æ‚æ“ä½œï¼‰ â”‚ â””â”€â”€ remote æ¥æºäºè¿œç«¯çš„æ•°æ® â”œâ”€â”€ feature åŠŸèƒ½ â”‚ â”œâ”€â”€ feature0 åŠŸèƒ½ 0 â”‚ â”‚ â”œâ”€â”€ feature0Activity.java â”‚ â”‚ â”œâ”€â”€ feature0Fragment.java â”‚ â”‚ â”œâ”€â”€ xxAdapter.java â”‚ â”‚ â””â”€â”€ ... å…¶ä»– class â”‚ â””â”€â”€ ...å…¶ä»–åŠŸèƒ½ â”œâ”€â”€ injection ä¾èµ–æ³¨å…¥ â”œâ”€â”€ util å·¥å…·ç±» â””â”€â”€ widget å°éƒ¨ä»¶ 3.2 ç±»åç±»åéƒ½ä»¥ UpperCamelCase é£æ ¼ç¼–å†™ã€‚ ç±»åé€šå¸¸æ˜¯åè¯æˆ–åè¯çŸ­è¯­ï¼Œæ¥å£åç§°æœ‰æ—¶å¯èƒ½æ˜¯å½¢å®¹è¯æˆ–å½¢å®¹è¯çŸ­è¯­ã€‚ç°åœ¨è¿˜æ²¡æœ‰ç‰¹å®šçš„è§„åˆ™æˆ–è¡Œä¹‹æœ‰æ•ˆçš„çº¦å®šæ¥å‘½åæ³¨è§£ç±»å‹ã€‚ åè¯ï¼Œé‡‡ç”¨å¤§é©¼å³°å‘½åæ³•ï¼Œå°½é‡é¿å…ç¼©å†™ï¼Œé™¤éè¯¥ç¼©å†™æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ï¼Œ æ¯”å¦‚ HTMLã€URLï¼Œå¦‚æœç±»åç§°ä¸­åŒ…å«å•è¯ç¼©å†™ï¼Œåˆ™å•è¯ç¼©å†™çš„æ¯ä¸ªå­—æ¯å‡åº”å¤§å†™ã€‚ ç±» æè¿° ä¾‹å¦‚ Activity ç±» Activity ä¸ºåç¼€æ ‡è¯† æ¬¢è¿é¡µé¢ç±» WelcomeActivity Adapter ç±» Adapter ä¸ºåç¼€æ ‡è¯† æ–°é—»è¯¦æƒ…é€‚é…å™¨ NewsDetailAdapter è§£æç±» Parser ä¸ºåç¼€æ ‡è¯† é¦–é¡µè§£æç±» HomePosterParser å·¥å…·æ–¹æ³•ç±» Utils æˆ– Manager ä¸ºåç¼€æ ‡è¯† çº¿ç¨‹æ± ç®¡ç†ç±»ï¼šThreadPoolManageræ—¥å¿—å·¥å…·ç±»ï¼šLogUtilsï¼ˆLogger ä¹Ÿå¯ï¼‰æ‰“å°å·¥å…·ç±»ï¼šPrinterUtils æ•°æ®åº“ç±» ä»¥ DBHelper åç¼€æ ‡è¯† æ–°é—»æ•°æ®åº“ï¼šNewsDBHelper Service ç±» ä»¥ Service ä¸ºåç¼€æ ‡è¯† æ—¶é—´æœåŠ¡ TimeService BroadcastReceiver ç±» ä»¥ Receiver ä¸ºåç¼€æ ‡è¯† æ¨é€æ¥æ”¶ JPushReceiver ContentProvider ç±» ä»¥ Provider ä¸ºåç¼€æ ‡è¯† ShareProvider è‡ªå®šä¹‰çš„å…±äº«åŸºç¡€ç±» ä»¥ Base å¼€å¤´ BaseActivity, BaseFragment æµ‹è¯•ç±»çš„å‘½åä»¥å®ƒè¦æµ‹è¯•çš„ç±»çš„åç§°å¼€å§‹ï¼Œä»¥ Test ç»“æŸã€‚ä¾‹å¦‚ï¼šHashTest æˆ– HashIntegrationTestã€‚ æ¥å£ï¼ˆinterfaceï¼‰ï¼šå‘½åè§„åˆ™ä¸ç±»ä¸€æ ·é‡‡ç”¨å¤§é©¼å³°å‘½åæ³•ï¼Œå¤šä»¥ able æˆ– ible ç»“å°¾ï¼Œå¦‚ interface Runnableã€interface Accessibleã€‚ æ³¨æ„ï¼šå¦‚æœé¡¹ç›®é‡‡ç”¨ MVPï¼Œæ‰€æœ‰ Modelã€Viewã€Presenter çš„æ¥å£éƒ½ä»¥ I ä¸ºå‰ç¼€ï¼Œä¸åŠ åç¼€ï¼Œå…¶ä»–çš„æ¥å£é‡‡ç”¨ä¸Šè¿°å‘½åè§„åˆ™ã€‚ 3.3 æ–¹æ³•åæ–¹æ³•åéƒ½ä»¥ lowerCamelCase é£æ ¼ç¼–å†™ã€‚ æ–¹æ³•åé€šå¸¸æ˜¯åŠ¨è¯æˆ–åŠ¨è¯çŸ­è¯­ã€‚ æ–¹æ³• è¯´æ˜ initXX() åˆå§‹åŒ–ç›¸å…³æ–¹æ³•ï¼Œä½¿ç”¨ init ä¸ºå‰ç¼€æ ‡è¯†ï¼Œå¦‚åˆå§‹åŒ–å¸ƒå±€ initView() isXX(), checkXX() æ–¹æ³•è¿”å›å€¼ä¸º boolean å‹çš„è¯·ä½¿ç”¨ is/check ä¸ºå‰ç¼€æ ‡è¯† getXX() è¿”å›æŸä¸ªå€¼çš„æ–¹æ³•ï¼Œä½¿ç”¨ get ä¸ºå‰ç¼€æ ‡è¯† setXX() è®¾ç½®æŸä¸ªå±æ€§å€¼ handleXX(), processXX() å¯¹æ•°æ®è¿›è¡Œå¤„ç†çš„æ–¹æ³• displayXX(), showXX() å¼¹å‡ºæç¤ºæ¡†å’Œæç¤ºä¿¡æ¯ï¼Œä½¿ç”¨ display/show ä¸ºå‰ç¼€æ ‡è¯† updateXX() æ›´æ–°æ•°æ® saveXX(), insertXX() ä¿å­˜æˆ–æ’å…¥æ•°æ® resetXX() é‡ç½®æ•°æ® clearXX() æ¸…é™¤æ•°æ® removeXX(), deleteXX() ç§»é™¤æ•°æ®æˆ–è€…è§†å›¾ç­‰ï¼Œå¦‚ removeView() drawXX() ç»˜åˆ¶æ•°æ®æˆ–æ•ˆæœç›¸å…³çš„ï¼Œä½¿ç”¨ draw å‰ç¼€æ ‡è¯† 3.4 å¸¸é‡åå¸¸é‡åå‘½åæ¨¡å¼ä¸º CONSTANT_CASEï¼Œå…¨éƒ¨å­—æ¯å¤§å†™ï¼Œç”¨ä¸‹åˆ’çº¿åˆ†éš”å•è¯ã€‚é‚£åˆ°åº•ä»€ä¹ˆç®—æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Ÿ æ¯ä¸ªå¸¸é‡éƒ½æ˜¯ä¸€ä¸ª static final å­—æ®µï¼Œä½†ä¸æ˜¯æ‰€æœ‰ static final å­—æ®µéƒ½æ˜¯å¸¸é‡ã€‚åœ¨å†³å®šä¸€ä¸ªå­—æ®µæ˜¯å¦æ˜¯ä¸€ä¸ªå¸¸é‡æ—¶ï¼Œå¾—è€ƒè™‘å®ƒæ˜¯å¦çœŸçš„æ„Ÿè§‰åƒæ˜¯ä¸€ä¸ªå¸¸é‡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè§‚æµ‹ä»»ä½•ä¸€ä¸ªè¯¥å®ä¾‹çš„çŠ¶æ€æ˜¯å¯å˜çš„ï¼Œåˆ™å®ƒå‡ ä¹è‚¯å®šä¸ä¼šæ˜¯ä¸€ä¸ªå¸¸é‡ã€‚åªæ˜¯æ°¸è¿œä¸æ‰“ç®—æ”¹å˜çš„å¯¹è±¡ä¸€èˆ¬æ˜¯ä¸å¤Ÿçš„ï¼Œå®ƒè¦çœŸçš„ä¸€ç›´ä¸å˜æ‰èƒ½å°†å®ƒç¤ºä¸ºå¸¸é‡ã€‚ 1234567891011121314// Constantsstatic final int NUMBER = 5;static final ImmutableListNAMES = ImmutableList.of("Ed", "Ann");static final Joiner COMMA_JOINER = Joiner.on(','); // because Joiner is immutablestatic final SomeMutableType[] EMPTY_ARRAY = &#123;&#125;;enum SomeEnum &#123; ENUM_CONSTANT &#125;// Not constantsstatic String nonFinal = "non-final";final String nonStatic = "non-static";static final SetmutableCollection = new HashSet();static final ImmutableSetmutableElements = ImmutableSet.of(mutable);static final Logger logger = Logger.getLogger(MyClass.getName());static final String[] nonEmptyArray = &#123;"these", "can", "change"&#125;; 3.5 éå¸¸é‡å­—æ®µåéå¸¸é‡å­—æ®µåä»¥ lowerCamelCase é£æ ¼çš„åŸºç¡€ä¸Šæ”¹é€ ä¸ºå¦‚ä¸‹é£æ ¼ï¼šåŸºæœ¬ç»“æ„ä¸º scope{Type0}VariableName{Type1}ã€type0VariableName{Type1}ã€variableName{Type1}ã€‚ è¯´æ˜ï¼š{} ä¸­çš„å†…å®¹ä¸ºå¯é€‰ã€‚ æ³¨æ„ï¼šæ‰€æœ‰çš„ VOï¼ˆå€¼å¯¹è±¡ï¼‰ç»Ÿä¸€é‡‡ç”¨æ ‡å‡†çš„ lowerCamelCase é£æ ¼ç¼–å†™ï¼Œæ‰€æœ‰çš„ DTOï¼ˆæ•°æ®ä¼ è¾“å¯¹è±¡ï¼‰å°±æŒ‰ç…§æ¥å£æ–‡æ¡£ä¸­å®šä¹‰çš„å­—æ®µåç¼–å†™ã€‚ 3.5.1 scopeï¼ˆèŒƒå›´ï¼‰éå…¬æœ‰ï¼Œéé™æ€å­—æ®µå‘½åä»¥ m å¼€å¤´ã€‚ é™æ€å­—æ®µå‘½åä»¥ s å¼€å¤´ã€‚ å…¶ä»–å­—æ®µä»¥å°å†™å­—æ¯å¼€å¤´ã€‚ ä¾‹å¦‚ï¼š 1234567public class MyClass &#123; public int publicField; private static MyClass sSingleton; int mPackagePrivate; private int mPrivate; protected int mProtected;&#125; ä½¿ç”¨ 1 ä¸ªå­—ç¬¦å‰ç¼€æ¥è¡¨ç¤ºä½œç”¨èŒƒå›´ï¼Œ1 ä¸ªå­—ç¬¦çš„å‰ç¼€å¿…é¡»å°å†™ï¼Œå‰ç¼€åé¢æ˜¯ç”±è¡¨æ„æ€§å¼ºçš„ä¸€ä¸ªå•è¯æˆ–å¤šä¸ªå•è¯ç»„æˆçš„åå­—ï¼Œè€Œä¸”æ¯ä¸ªå•è¯çš„é¦–å†™å­—æ¯å¤§å†™ï¼Œå…¶å®ƒå­—æ¯å°å†™ï¼Œè¿™æ ·ä¿è¯äº†å¯¹å˜é‡åèƒ½å¤Ÿè¿›è¡Œæ­£ç¡®çš„æ–­å¥ã€‚ 3.5.2 Type0ï¼ˆæ§ä»¶ç±»å‹ï¼‰è€ƒè™‘åˆ° Android ä¼—å¤šçš„ UI æ§ä»¶ï¼Œä¸ºé¿å…æ§ä»¶å’Œæ™®é€šæˆå‘˜å˜é‡æ··æ·†ä»¥åŠæ›´å¥½åœ°è¡¨è¾¾æ„æ€ï¼Œæ‰€æœ‰ç”¨æ¥è¡¨ç¤ºæ§ä»¶çš„æˆå‘˜å˜é‡ç»Ÿä¸€åŠ ä¸Šæ§ä»¶ç¼©å†™ä½œä¸ºå‰ç¼€ï¼ˆå…·ä½“è§é™„å½•UI æ§ä»¶ç¼©å†™è¡¨ï¼‰ã€‚ ä¾‹å¦‚ï¼šmIvAvatarã€rvBooksã€flContainerã€‚ 3.5.3 VariableNameï¼ˆå˜é‡åï¼‰å˜é‡åä¸­å¯èƒ½ä¼šå‡ºç°é‡è¯ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºç»Ÿä¸€çš„é‡è¯ï¼Œå®ƒä»¬æ›´å®¹æ˜“ç†è§£ï¼Œä¹Ÿæ›´å®¹æ˜“æœç´¢ã€‚ ä¾‹å¦‚ï¼šmFirstBookã€mPreBookã€curBookã€‚ é‡è¯åˆ—è¡¨ é‡è¯åç¼€è¯´æ˜ First ä¸€ç»„å˜é‡ä¸­çš„ç¬¬ä¸€ä¸ª Last ä¸€ç»„å˜é‡ä¸­çš„æœ€åä¸€ä¸ª Next ä¸€ç»„å˜é‡ä¸­çš„ä¸‹ä¸€ä¸ª Pre ä¸€ç»„å˜é‡ä¸­çš„ä¸Šä¸€ä¸ª Cur ä¸€ç»„å˜é‡ä¸­çš„å½“å‰å˜é‡ 3.5.4 Type1ï¼ˆæ•°æ®ç±»å‹ï¼‰å¯¹äºè¡¨ç¤ºé›†åˆæˆ–è€…æ•°ç»„çš„éå¸¸é‡å­—æ®µåï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ åç¼€æ¥å¢å¼ºå­—æ®µçš„å¯è¯»æ€§ï¼Œæ¯”å¦‚ï¼š é›†åˆæ·»åŠ å¦‚ä¸‹åç¼€ï¼šListã€Mapã€Setã€‚ æ•°ç»„æ·»åŠ å¦‚ä¸‹åç¼€ï¼šArrã€‚ ä¾‹å¦‚ï¼šmIvAvatarListã€userArrã€firstNameSetã€‚ æ³¨æ„ï¼šå¦‚æœæ•°æ®ç±»å‹ä¸ç¡®å®šçš„è¯ï¼Œæ¯”å¦‚è¡¨ç¤ºçš„æ˜¯å¾ˆå¤šä¹¦ï¼Œé‚£ä¹ˆä½¿ç”¨å…¶å¤æ•°å½¢å¼æ¥è¡¨ç¤ºä¹Ÿå¯ï¼Œä¾‹å¦‚ mBooksã€‚ 3.6 å‚æ•°åå‚æ•°åä»¥ lowerCamelCase é£æ ¼ç¼–å†™ï¼Œå‚æ•°åº”è¯¥é¿å…ç”¨å•ä¸ªå­—ç¬¦å‘½åã€‚ 3.7 å±€éƒ¨å˜é‡åå±€éƒ¨å˜é‡åä»¥ lowerCamelCase é£æ ¼ç¼–å†™ï¼Œæ¯”èµ·å…¶å®ƒç±»å‹çš„åç§°ï¼Œå±€éƒ¨å˜é‡åå¯ä»¥æœ‰æ›´ä¸ºå®½æ¾çš„ç¼©å†™ã€‚ è™½ç„¶ç¼©å†™æ›´å®½æ¾ï¼Œä½†è¿˜æ˜¯è¦é¿å…ç”¨å•å­—ç¬¦è¿›è¡Œå‘½åï¼Œé™¤äº†ä¸´æ—¶å˜é‡å’Œå¾ªç¯å˜é‡ã€‚ å³ä½¿å±€éƒ¨å˜é‡æ˜¯ final å’Œä¸å¯æ”¹å˜çš„ï¼Œä¹Ÿä¸åº”è¯¥æŠŠå®ƒç¤ºä¸ºå¸¸é‡ï¼Œè‡ªç„¶ä¹Ÿä¸èƒ½ç”¨å¸¸é‡çš„è§„åˆ™å»å‘½åå®ƒã€‚ 3.8 ä¸´æ—¶å˜é‡ä¸´æ—¶å˜é‡é€šå¸¸è¢«å–åä¸º iã€jã€kã€m å’Œ nï¼Œå®ƒä»¬ä¸€èˆ¬ç”¨äºæ•´å‹ï¼›cã€dã€eï¼Œå®ƒä»¬ä¸€èˆ¬ç”¨äºå­—ç¬¦å‹ã€‚ å¦‚ï¼šfor (int i = 0; i &lt; len; i++)ã€‚ 3.9 ç±»å‹å˜é‡åç±»å‹å˜é‡å¯ç”¨ä»¥ä¸‹ä¸¤ç§é£æ ¼ä¹‹ä¸€è¿›è¡Œå‘½åï¼š å•ä¸ªçš„å¤§å†™å­—æ¯ï¼Œåé¢å¯ä»¥è·Ÿä¸€ä¸ªæ•°å­—ï¼ˆå¦‚ï¼šE, T, X, T2ï¼‰ã€‚ ä»¥ç±»å‘½åæ–¹å¼ï¼ˆå‚è€ƒ3.2 ç±»åï¼‰ï¼Œåé¢åŠ ä¸ªå¤§å†™çš„ Tï¼ˆå¦‚ï¼šRequestT, FooBarTï¼‰ã€‚ æ›´å¤šè¿˜å¯å‚è€ƒï¼šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œ 4 ä»£ç æ ·å¼è§„èŒƒ4.1 ä½¿ç”¨æ ‡å‡†å¤§æ‹¬å·æ ·å¼å·¦å¤§æ‹¬å·ä¸å•ç‹¬å ä¸€è¡Œï¼Œä¸å…¶å‰é¢çš„ä»£ç ä½äºåŒä¸€è¡Œï¼š 1234567891011class MyClass &#123; int func() &#123; if (something) &#123; // ... &#125; else if (somethingElse) &#123; // ... &#125; else &#123; // ... &#125; &#125;&#125; æˆ‘ä»¬éœ€è¦åœ¨æ¡ä»¶è¯­å¥å‘¨å›´æ·»åŠ å¤§æ‹¬å·ã€‚ä¾‹å¤–æƒ…å†µï¼šå¦‚æœæ•´ä¸ªæ¡ä»¶è¯­å¥ï¼ˆæ¡ä»¶å’Œä¸»ä½“ï¼‰é€‚åˆæ”¾åœ¨åŒä¸€è¡Œï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ï¼ˆä½†ä¸æ˜¯å¿…é¡»ï¼‰å°†å…¶å…¨éƒ¨æ”¾åœ¨ä¸€è¡Œä¸Šã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ¥å—ä»¥ä¸‹æ ·å¼ï¼š 123if (condition) &#123; body();&#125; åŒæ ·ä¹Ÿæ¥å—ä»¥ä¸‹æ ·å¼ï¼š 1if (condition) body(); ä½†ä¸æ¥å—ä»¥ä¸‹æ ·å¼ï¼š 12if (condition) body(); // bad! 4.2 ç¼–å†™ç®€çŸ­æ–¹æ³•åœ¨å¯è¡Œçš„æƒ…å†µä¸‹ï¼Œå°½é‡ç¼–å†™çŸ­å°ç²¾ç‚¼çš„æ–¹æ³•ã€‚æˆ‘ä»¬äº†è§£ï¼Œæœ‰äº›æƒ…å†µä¸‹è¾ƒé•¿çš„æ–¹æ³•æ˜¯æ°å½“çš„ï¼Œå› æ­¤å¯¹æ–¹æ³•çš„ä»£ç é•¿åº¦æ²¡æœ‰åšå‡ºç¡¬æ€§é™åˆ¶ã€‚å¦‚æœæŸä¸ªæ–¹æ³•çš„ä»£ç è¶…å‡º 40 è¡Œï¼Œè¯·è€ƒè™‘æ˜¯å¦å¯ä»¥åœ¨ä¸ç ´åç¨‹åºç»“æ„çš„å‰æä¸‹å¯¹å…¶æ‹†è§£ã€‚ 4.3 ç±»æˆå‘˜çš„é¡ºåºè¿™å¹¶æ²¡æœ‰å”¯ä¸€çš„æ­£ç¡®è§£å†³æ–¹æ¡ˆï¼Œä½†å¦‚æœéƒ½ä½¿ç”¨ä¸€è‡´çš„é¡ºåºå°†ä¼šæé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œæ¨èä½¿ç”¨å¦‚ä¸‹æ’åºï¼š å¸¸é‡ å­—æ®µ æ„é€ å‡½æ•° é‡å†™å‡½æ•°å’Œå›è°ƒ å…¬æœ‰å‡½æ•° ç§æœ‰å‡½æ•° å†…éƒ¨ç±»æˆ–æ¥å£ ä¾‹å¦‚ï¼š 123456789101112131415161718192021222324public class MainActivity extends Activity &#123; private static final String TAG = MainActivity.class.getSimpleName(); private String mTitle; private TextView mTextViewTitle; @Override public void onCreate() &#123; ... &#125; public void setTitle(String title) &#123; mTitle = title; &#125; private void setUpView() &#123; ... &#125; static class AnInnerClass &#123; &#125;&#125; å¦‚æœç±»ç»§æ‰¿äº Android ç»„ä»¶ï¼ˆä¾‹å¦‚ Activity æˆ– Fragmentï¼‰ï¼Œé‚£ä¹ˆæŠŠé‡å†™å‡½æ•°æŒ‰ç…§ä»–ä»¬çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œæ’åºæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¹ æƒ¯ï¼Œä¾‹å¦‚ï¼ŒActivity å®ç°äº† onCreate()ã€onDestroy()ã€onPause()ã€onResume()ï¼Œå®ƒçš„æ­£ç¡®æ’åºå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314public class MainActivity extends Activity &#123; //Order matches Activity lifecycle @Override public void onCreate() &#123;&#125; @Override public void onResume() &#123;&#125; @Override public void onPause() &#123;&#125; @Override public void onDestroy() &#123;&#125;&#125; 4.4 å‡½æ•°å‚æ•°çš„æ’åºåœ¨ Android å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒContext åœ¨å‡½æ•°å‚æ•°ä¸­æ˜¯å†å¸¸è§ä¸è¿‡çš„äº†ï¼Œæˆ‘ä»¬æœ€å¥½æŠŠ Context ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ æ­£ç›¸åï¼Œæˆ‘ä»¬æŠŠå›è°ƒæ¥å£åº”è¯¥ä½œä¸ºå…¶æœ€åä¸€ä¸ªå‚æ•°ã€‚ ä¾‹å¦‚ï¼š 12345// Context always goes firstpublic User loadUser(Context context, int userId);// Callbacks always go lastpublic void loadUserAsync(Context context, int userId, UserCallback callback); 4.5 å­—ç¬¦ä¸²å¸¸é‡çš„å‘½åå’Œå€¼Android SDK ä¸­çš„å¾ˆå¤šç±»éƒ½ç”¨åˆ°äº†é”®å€¼å¯¹å‡½æ•°ï¼Œæ¯”å¦‚SharedPreferencesã€Bundleã€Intentï¼Œæ‰€ä»¥ï¼Œå³ä¾¿æ˜¯ä¸€ä¸ªå°åº”ç”¨ï¼Œæˆ‘ä»¬æœ€ç»ˆä¹Ÿä¸å¾—ä¸ç¼–å†™å¤§é‡çš„å­—ç¬¦ä¸²å¸¸é‡ã€‚ å½“æ—¶ç”¨åˆ°è¿™äº›ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬ å¿…é¡» å°†å®ƒä»¬çš„é”®å®šä¹‰ä¸º static final å­—æ®µï¼Œå¹¶éµå¾ªä»¥ä¸‹æŒ‡ç¤ºä½œä¸ºå‰ç¼€ã€‚ ç±» å­—æ®µåå‰ç¼€ SharedPreferences PREF_ Bundle BUNDLE_ Fragment Arguments ARGUMENT_ Intent Extra EXTRA_ Intent Action ACTION_ è¯´æ˜ï¼šè™½ç„¶ Fragment.getArguments() å¾—åˆ°çš„ä¹Ÿæ˜¯ Bundle ï¼Œä½†å› ä¸ºè¿™æ˜¯ Bundle çš„å¸¸ç”¨ç”¨æ³•ï¼Œæ‰€ä»¥ç‰¹æ„ä¸ºæ­¤å®šä¹‰ä¸€ä¸ªä¸åŒçš„å‰ç¼€ã€‚ ä¾‹å¦‚ï¼š 12345678// æ³¨æ„ï¼šå­—æ®µçš„å€¼ä¸åç§°ç›¸åŒä»¥é¿å…é‡å¤é—®é¢˜static final String PREF_EMAIL = "PREF_EMAIL";static final String BUNDLE_AGE = "BUNDLE_AGE";static final String ARGUMENT_USER_ID = "ARGUMENT_USER_ID";// ä¸æ„å›¾ç›¸å…³çš„é¡¹ä½¿ç”¨å®Œæ•´çš„åŒ…åä½œä¸ºå€¼çš„å‰ç¼€static final String EXTRA_SURNAME = "com.myapp.extras.EXTRA_SURNAME";static final String ACTION_OPEN_USER = "com.myapp.action.ACTION_OPEN_USER"; 4.6 Activities å’Œ Fragments çš„ä¼ å‚å½“ Activity æˆ– Fragment ä¼ é€’æ•°æ®é€šè¿‡ Intent æˆ– Bundle æ—¶ï¼Œä¸åŒå€¼çš„é”®é¡»éµå¾ªä¸Šä¸€æ¡æ‰€æåŠåˆ°çš„ã€‚ å½“ Activity æˆ– Fragment å¯åŠ¨éœ€è¦ä¼ é€’å‚æ•°æ—¶ï¼Œé‚£ä¹ˆå®ƒéœ€è¦æä¾›ä¸€ä¸ª public static çš„å‡½æ•°æ¥å¸®åŠ©å¯åŠ¨æˆ–åˆ›å»ºå®ƒã€‚ è¿™æ–¹é¢ï¼ŒAS å·²å¸®ä½ å†™å¥½äº†ç›¸å…³çš„ Live Templatesï¼Œå¯åŠ¨ç›¸å…³ Activity çš„åªéœ€è¦åœ¨å…¶å†…éƒ¨è¾“å…¥ starter å³å¯ç”Ÿæˆå®ƒçš„å¯åŠ¨å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345public static void start(Context context, User user) &#123; Intent starter = new Intent(context, MainActivity.class); starter.putParcelableExtra(EXTRA_USER, user); context.startActivity(starter);&#125; åŒç†ï¼Œå¯åŠ¨ç›¸å…³ Fragment åœ¨å…¶å†…éƒ¨è¾“å…¥ newInstance å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567public static MainFragment newInstance(User user) &#123; Bundle args = new Bundle(); args.putParcelable(ARGUMENT_USER, user); MainFragment fragment = new MainFragment(); fragment.setArguments(args); return fragment;&#125; æ³¨æ„ï¼šè¿™äº›å‡½æ•°éœ€è¦æ”¾åœ¨ onCreate() ä¹‹å‰çš„ç±»çš„é¡¶éƒ¨ï¼›å¦‚æœæˆ‘ä»¬ä½¿ç”¨äº†è¿™ç§æ–¹å¼ï¼Œé‚£ä¹ˆ extras å’Œ arguments çš„é”®åº”è¯¥æ˜¯ private çš„ï¼Œå› ä¸ºå®ƒä»¬ä¸å†éœ€è¦æš´éœ²ç»™å…¶ä»–ç±»æ¥ä½¿ç”¨ã€‚ 4.7 è¡Œé•¿é™åˆ¶ä»£ç ä¸­æ¯ä¸€è¡Œæ–‡æœ¬çš„é•¿åº¦éƒ½åº”è¯¥ä¸è¶…è¿‡ 100 ä¸ªå­—ç¬¦ã€‚è™½ç„¶å…³äºæ­¤è§„åˆ™å­˜åœ¨å¾ˆå¤šäº‰è®ºï¼Œä½†æœ€ç»ˆå†³å®šä»æ˜¯ä»¥ 100 ä¸ªå­—ç¬¦ä¸ºä¸Šé™ï¼Œå¦‚æœè¡Œé•¿è¶…è¿‡äº† 100ï¼ˆAS çª—å£å³ä¾§çš„ç«–çº¿å°±æ˜¯è®¾ç½®çš„è¡Œå®½æœ«å°¾ ï¼‰ï¼Œæˆ‘ä»¬é€šå¸¸æœ‰ä¸¤ç§æ–¹æ³•æ¥ç¼©å‡è¡Œé•¿ã€‚ æå–ä¸€ä¸ªå±€éƒ¨å˜é‡æˆ–æ–¹æ³•ï¼ˆæœ€å¥½ï¼‰ã€‚ ä½¿ç”¨æ¢è¡Œç¬¦å°†ä¸€è¡Œæ¢æˆå¤šè¡Œã€‚ ä¸è¿‡å­˜åœ¨ä»¥ä¸‹ä¾‹å¤–æƒ…å†µï¼š å¦‚æœå¤‡æ³¨è¡ŒåŒ…å«é•¿åº¦è¶…è¿‡ 100 ä¸ªå­—ç¬¦çš„ç¤ºä¾‹å‘½ä»¤æˆ–æ–‡å­—ç½‘å€ï¼Œé‚£ä¹ˆä¸ºäº†ä¾¿äºå‰ªåˆ‡å’Œç²˜è´´ï¼Œè¯¥è¡Œå¯ä»¥è¶…è¿‡ 100 ä¸ªå­—ç¬¦ã€‚ å¯¼å…¥è¯­å¥è¡Œå¯ä»¥è¶…å‡ºæ­¤é™åˆ¶ï¼Œå› ä¸ºç”¨æˆ·å¾ˆå°‘ä¼šçœ‹åˆ°å®ƒä»¬ï¼ˆè¿™ä¹Ÿç®€åŒ–äº†å·¥å…·ç¼–å†™æµç¨‹ï¼‰ã€‚ 4.7.1 æ¢è¡Œç­–ç•¥è¿™æ²¡æœ‰ä¸€ä¸ªå‡†ç¡®çš„è§£å†³æ–¹æ¡ˆæ¥å†³å®šå¦‚ä½•æ¢è¡Œï¼Œé€šå¸¸ä¸åŒçš„è§£å†³æ–¹æ¡ˆéƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œä½†æ˜¯æœ‰ä¸€äº›è§„åˆ™å¯ä»¥åº”ç”¨äºå¸¸è§çš„æƒ…å†µã€‚ 4.7.1.1 æ“ä½œç¬¦çš„æ¢è¡Œé™¤èµ‹å€¼æ“ä½œç¬¦ä¹‹å¤–ï¼Œæˆ‘ä»¬æŠŠæ¢è¡Œç¬¦æ”¾åœ¨æ“ä½œç¬¦ä¹‹å‰ï¼Œä¾‹å¦‚ï¼š 12int longName = anotherVeryLongVariable + anEvenLongerOne - thisRidiculousLongOne + theFinalOne; èµ‹å€¼æ“ä½œç¬¦çš„æ¢è¡Œæˆ‘ä»¬æ”¾åœ¨å…¶åï¼Œä¾‹å¦‚ï¼š 12int longName = anotherVeryLongVariable + anEvenLongerOne - thisRidiculousLongOne + theFinalOne; 4.7.1.2 å‡½æ•°é“¾çš„æ¢è¡Œå½“åŒä¸€è¡Œä¸­è°ƒç”¨å¤šä¸ªå‡½æ•°æ—¶ï¼ˆæ¯”å¦‚ä½¿ç”¨æ„å»ºå™¨æ—¶ï¼‰ï¼Œå¯¹æ¯ä¸ªå‡½æ•°çš„è°ƒç”¨åº”è¯¥åœ¨æ–°çš„ä¸€è¡Œä¸­ï¼Œæˆ‘ä»¬æŠŠæ¢è¡Œç¬¦æ’å…¥åœ¨ . ä¹‹å‰ã€‚ ä¾‹å¦‚ï¼š 1Picasso.with(context).load("https://blankj.com/images/avatar.jpg").into(ivAvatar); æˆ‘ä»¬åº”è¯¥ä½¿ç”¨å¦‚ä¸‹è§„åˆ™ï¼š 123Picasso.with(context) .load("https://blankj.com/images/avatar.jpg") .into(ivAvatar); 4.7.1.3 å¤šå‚æ•°çš„æ¢è¡Œå½“ä¸€ä¸ªæ–¹æ³•æœ‰å¾ˆå¤šå‚æ•°æˆ–è€…å‚æ•°å¾ˆé•¿çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨æ¯ä¸ª , åé¢è¿›è¡Œæ¢è¡Œã€‚ æ¯”å¦‚ï¼š 1loadPicture(context, "https://blankj.com/images/avatar.jpg", ivAvatar, "Avatar of the user", clickListener); æˆ‘ä»¬åº”è¯¥ä½¿ç”¨å¦‚ä¸‹è§„åˆ™ï¼š 12345loadPicture(context, "https://blankj.com/images/avatar.jpg", ivAvatar, "Avatar of the user", clickListener); 4.7.1.4 RxJava é“¾å¼çš„æ¢è¡ŒRxJava çš„æ¯ä¸ªæ“ä½œç¬¦éƒ½éœ€è¦æ¢æ–°è¡Œï¼Œå¹¶ä¸”æŠŠæ¢è¡Œç¬¦æ’å…¥åœ¨ . ä¹‹å‰ã€‚ ä¾‹å¦‚ï¼š 123456789101112131415public Observable&lt;Location&gt; syncLocations() &#123; return mDatabaseHelper.getAllLocations() .concatMap(new Func1&lt;Location, Observable&lt;? extends Location&gt;&gt;() &#123; @Override public Observable&lt;? extends Location&gt; call(Location location) &#123; return mRetrofitService.getLocation(location.id); &#125; &#125;) .retry(new Func2&lt;Integer, Throwable, Boolean&gt;() &#123; @Override public Boolean call(Integer numRetries, Throwable throwable) &#123; return throwable instanceof RetrofitError; &#125; &#125;);&#125; 5 èµ„æºæ–‡ä»¶è§„èŒƒèµ„æºæ–‡ä»¶å‘½åä¸ºå…¨éƒ¨å°å†™ï¼Œé‡‡ç”¨ä¸‹åˆ’çº¿å‘½åæ³•ã€‚ å¦‚æœæƒ³å¯¹èµ„æºæ–‡ä»¶è¿›è¡Œåˆ†åŒ…å¯ä»¥å‚è€ƒæˆ‘è¿™ç¯‡æ–‡ç« ï¼šAndroid Studio ä¸‹å¯¹èµ„æºè¿›è¡Œåˆ†åŒ…ã€‚ 5.1 åŠ¨ç”»èµ„æºæ–‡ä»¶ï¼ˆanim/ å’Œ animator/ï¼‰å®‰å“ä¸»è¦åŒ…å«å±æ€§åŠ¨ç”»å’Œè§†å›¾åŠ¨ç”»ï¼Œå…¶è§†å›¾åŠ¨ç”»åŒ…æ‹¬è¡¥é—´åŠ¨ç”»å’Œé€å¸§åŠ¨ç”»ã€‚å±æ€§åŠ¨ç”»æ–‡ä»¶éœ€è¦æ”¾åœ¨ res/animator/ ç›®å½•ä¸‹ï¼Œè§†å›¾åŠ¨ç”»æ–‡ä»¶éœ€æ”¾åœ¨ res/anim/ ç›®å½•ä¸‹ã€‚ å‘½åè§„åˆ™ï¼š{æ¨¡å—å_}é€»è¾‘åç§°ã€‚ è¯´æ˜ï¼š{} ä¸­çš„å†…å®¹ä¸ºå¯é€‰ï¼Œé€»è¾‘åç§° å¯ç”±å¤šä¸ªå•è¯åŠ ä¸‹åˆ’çº¿ç»„æˆã€‚ ä¾‹å¦‚ï¼šrefresh_progress.xmlã€market_cart_add.xmlã€market_cart_remove.xmlã€‚ å¦‚æœæ˜¯æ™®é€šçš„è¡¥é—´åŠ¨ç”»æˆ–è€…å±æ€§åŠ¨ç”»ï¼Œå¯é‡‡ç”¨ï¼šåŠ¨ç”»ç±»å‹_æ–¹å‘ çš„å‘½åæ–¹å¼ã€‚ ä¾‹å¦‚ï¼š åç§° è¯´æ˜ fade_in æ·¡å…¥ fade_out æ·¡å‡º push_down_in ä»ä¸‹æ–¹æ¨å…¥ push_down_out ä»ä¸‹æ–¹æ¨å‡º push_left æ¨å‘å·¦æ–¹ slide_in_from_top ä»å¤´éƒ¨æ»‘åŠ¨è¿›å…¥ zoom_enter å˜å½¢è¿›å…¥ slide_in æ»‘åŠ¨è¿›å…¥ shrink_to_middle ä¸­é—´ç¼©å° 5.2 é¢œè‰²èµ„æºæ–‡ä»¶ï¼ˆcolor/ï¼‰ä¸“é—¨å­˜æ”¾é¢œè‰²ç›¸å…³çš„èµ„æºæ–‡ä»¶ã€‚ å‘½åè§„åˆ™ï¼šç±»å‹_é€»è¾‘åç§°ã€‚ ä¾‹å¦‚ï¼šsel_btn_font.xmlã€‚ é¢œè‰²èµ„æºä¹Ÿå¯ä»¥æ”¾äº res/drawable/ ç›®å½•ï¼Œå¼•ç”¨æ—¶åˆ™ç”¨ @drawable æ¥å¼•ç”¨ï¼Œä½†ä¸æ¨èè¿™ä¹ˆåšï¼Œæœ€å¥½è¿˜æ˜¯æŠŠä¸¤è€…åˆ†å¼€ã€‚ 5.3 å›¾ç‰‡èµ„æºæ–‡ä»¶ï¼ˆdrawable/ å’Œ mipmap/ï¼‰res/drawable/ ç›®å½•ä¸‹æ”¾çš„æ˜¯ä½å›¾æ–‡ä»¶ï¼ˆ.pngã€.9.pngã€.jpgã€.gifï¼‰æˆ–ç¼–è¯‘ä¸ºå¯ç»˜åˆ¶å¯¹è±¡èµ„æºå­ç±»å‹çš„ XML æ–‡ä»¶ï¼Œè€Œ res/mipmap/ ç›®å½•ä¸‹æ”¾çš„æ˜¯ä¸åŒå¯†åº¦çš„å¯åŠ¨å›¾æ ‡ï¼Œæ‰€ä»¥ res/mipmap/ åªç”¨äºå­˜æ”¾å¯åŠ¨å›¾æ ‡ï¼Œå…¶ä½™å›¾ç‰‡èµ„æºæ–‡ä»¶éƒ½åº”è¯¥æ”¾åˆ° res/drawable/ ç›®å½•ä¸‹ã€‚ å‘½åè§„åˆ™ï¼šç±»å‹{_æ¨¡å—å}_é€»è¾‘åç§°ã€ç±»å‹{_æ¨¡å—å}_é¢œè‰²ã€‚ è¯´æ˜ï¼š{} ä¸­çš„å†…å®¹ä¸ºå¯é€‰ï¼›ç±»å‹ å¯ä»¥æ˜¯å¯ç»˜åˆ¶å¯¹è±¡èµ„æºç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯æ§ä»¶ç±»å‹ï¼ˆå…·ä½“è§é™„å½•UI æ§ä»¶ç¼©å†™è¡¨ï¼‰ï¼›æœ€åå¯åŠ åç¼€ _small è¡¨ç¤ºå°å›¾ï¼Œ_big è¡¨ç¤ºå¤§å›¾ã€‚ ä¾‹å¦‚ï¼š åç§° è¯´æ˜ btn_main_about.png ä¸»é¡µå…³äºæŒ‰é”® ç±»å‹_æ¨¡å—å_é€»è¾‘åç§° btn_back.png è¿”å›æŒ‰é”® ç±»å‹_é€»è¾‘åç§° divider_maket_white.png å•†åŸç™½è‰²åˆ†å‰²çº¿ ç±»å‹_æ¨¡å—å_é¢œè‰² ic_edit.png ç¼–è¾‘å›¾æ ‡ ç±»å‹_é€»è¾‘åç§° bg_main.png ä¸»é¡µèƒŒæ™¯ ç±»å‹_é€»è¾‘åç§° btn_red.png çº¢è‰²æŒ‰é”® ç±»å‹_é¢œè‰² btn_red_big.png çº¢è‰²å¤§æŒ‰é”® ç±»å‹_é¢œè‰² ic_head_small.png å°å¤´åƒå›¾æ ‡ ç±»å‹_é€»è¾‘åç§° bg_input.png è¾“å…¥æ¡†èƒŒæ™¯ ç±»å‹_é€»è¾‘åç§° divider_white.png ç™½è‰²åˆ†å‰²çº¿ ç±»å‹_é¢œè‰² bg_main_head.png ä¸»é¡µå¤´éƒ¨èƒŒæ™¯ ç±»å‹_æ¨¡å—å_é€»è¾‘åç§° def_search_cell.png æœç´¢é¡µé¢é»˜è®¤å•å…ƒå›¾ç‰‡ ç±»å‹_æ¨¡å—å_é€»è¾‘åç§° ic_more_help.png æ›´å¤šå¸®åŠ©å›¾æ ‡ ç±»å‹_é€»è¾‘åç§° divider_list_line.png åˆ—è¡¨åˆ†å‰²çº¿ ç±»å‹_é€»è¾‘åç§° sel_search_ok.xml æœç´¢ç•Œé¢ç¡®è®¤é€‰æ‹©å™¨ ç±»å‹_æ¨¡å—å_é€»è¾‘åç§° shape_music_ring.xml éŸ³ä¹ç•Œé¢ç¯å½¢å½¢çŠ¶ ç±»å‹_æ¨¡å—å_é€»è¾‘åç§° å¦‚æœæœ‰å¤šç§å½¢æ€ï¼Œå¦‚æŒ‰é’®é€‰æ‹©å™¨ï¼šsel_btn_xx.xmlï¼Œé‡‡ç”¨å¦‚ä¸‹å‘½åï¼š åç§° è¯´æ˜ sel_btn_xx ä½œç”¨åœ¨ btn_xx ä¸Šçš„ selector btn_xx_normal é»˜è®¤çŠ¶æ€æ•ˆæœ btn_xx_pressed state_pressed ç‚¹å‡»æ•ˆæœ btn_xx_focused state_focused èšç„¦æ•ˆæœ btn_xx_disabled state_enabled ä¸å¯ç”¨æ•ˆæœ btn_xx_checked state_checked é€‰ä¸­æ•ˆæœ btn_xx_selected state_selected é€‰ä¸­æ•ˆæœ btn_xx_hovered state_hovered æ‚¬åœæ•ˆæœ btn_xx_checkable state_checkable å¯é€‰æ•ˆæœ btn_xx_activated state_activated æ¿€æ´»æ•ˆæœ btn_xx_window_focused state_window_focused çª—å£èšç„¦æ•ˆæœ æ³¨æ„ï¼šä½¿ç”¨ Android Studio çš„æ’ä»¶ SelectorChapek å¯ä»¥å¿«é€Ÿç”Ÿæˆ selectorï¼Œå‰ææ˜¯å‘½åè¦è§„èŒƒã€‚ 5.4 å¸ƒå±€èµ„æºæ–‡ä»¶ï¼ˆlayout/ï¼‰å‘½åè§„åˆ™ï¼šç±»å‹_æ¨¡å—åã€ç±»å‹{_æ¨¡å—å}_é€»è¾‘åç§°ã€‚ è¯´æ˜ï¼š{} ä¸­çš„å†…å®¹ä¸ºå¯é€‰ã€‚ ä¾‹å¦‚ï¼š åç§° è¯´æ˜ activity_main.xml ä¸»çª—ä½“ ç±»å‹_æ¨¡å—å activity_main_head.xml ä¸»çª—ä½“å¤´éƒ¨ ç±»å‹_æ¨¡å—å_é€»è¾‘åç§° fragment_music.xml éŸ³ä¹ç‰‡æ®µ ç±»å‹_æ¨¡å—å fragment_music_player.xml éŸ³ä¹ç‰‡æ®µçš„æ’­æ”¾å™¨ ç±»å‹_æ¨¡å—å_é€»è¾‘åç§° dialog_loading.xml åŠ è½½å¯¹è¯æ¡† ç±»å‹_é€»è¾‘åç§° ppw_info.xml ä¿¡æ¯å¼¹çª—ï¼ˆPopupWindowï¼‰ ç±»å‹_é€»è¾‘åç§° item_main_song.xml ä¸»é¡µæ­Œæ›²åˆ—è¡¨é¡¹ ç±»å‹_æ¨¡å—å_é€»è¾‘åç§° 5.5 èœå•èµ„æºæ–‡ä»¶ï¼ˆmenu/ï¼‰èœå•ç›¸å…³çš„èµ„æºæ–‡ä»¶åº”æ”¾åœ¨è¯¥ç›®å½•ä¸‹ã€‚ å‘½åè§„åˆ™ï¼š{æ¨¡å—å_}é€»è¾‘åç§° è¯´æ˜ï¼š{} ä¸­çš„å†…å®¹ä¸ºå¯é€‰ã€‚ ä¾‹å¦‚ï¼šmain_drawer.xmlã€navigation.xmlã€‚ 5.6 values èµ„æºæ–‡ä»¶ï¼ˆvalues/ï¼‰values/ èµ„æºæ–‡ä»¶ä¸‹çš„æ–‡ä»¶éƒ½ä»¥ s ç»“å°¾ï¼Œå¦‚ attrs.xmlã€colors.xmlã€dimens.xmlï¼Œèµ·ä½œç”¨çš„ä¸æ˜¯æ–‡ä»¶åç§°ï¼Œè€Œæ˜¯ &lt;resources&gt; æ ‡ç­¾ä¸‹çš„å„ç§æ ‡ç­¾ï¼Œæ¯”å¦‚ &lt;style&gt; å†³å®šæ ·å¼ï¼Œ&lt;color&gt; å†³å®šé¢œè‰²ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥æŠŠä¸€ä¸ªå¤§çš„ xml æ–‡ä»¶åˆ†å‰²æˆå¤šä¸ªå°çš„æ–‡ä»¶ï¼Œæ¯”å¦‚å¯ä»¥æœ‰å¤šä¸ª style æ–‡ä»¶ï¼Œå¦‚ styles.xmlã€styles_home.xmlã€styles_item_details.xmlã€styles_forms.xmlã€‚ 5.6.1 colors.xml&lt;color&gt; çš„ name å‘½åä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•ï¼Œåœ¨ä½ çš„ colors.xml æ–‡ä»¶ä¸­åº”è¯¥åªæ˜¯æ˜ å°„é¢œè‰²çš„åç§°ä¸€ä¸ª ARGB å€¼ï¼Œè€Œæ²¡æœ‰å…¶å®ƒçš„ã€‚ä¸è¦ä½¿ç”¨å®ƒä¸ºä¸åŒçš„æŒ‰é’®æ¥å®šä¹‰ ARGB å€¼ã€‚ ä¾‹å¦‚ï¼Œä¸è¦åƒä¸‹é¢è¿™æ ·åšï¼š 123456789&lt;resources&gt; &lt;color name="button_foreground"&gt;#FFFFFF&lt;/color&gt; &lt;color name="button_background"&gt;#2A91BD&lt;/color&gt; &lt;color name="comment_background_inactive"&gt;#5F5F5F&lt;/color&gt; &lt;color name="comment_background_active"&gt;#939393&lt;/color&gt; &lt;color name="comment_foreground"&gt;#FFFFFF&lt;/color&gt; &lt;color name="comment_foreground_important"&gt;#FF9D2F&lt;/color&gt; ... &lt;color name="comment_shadow"&gt;#323232&lt;/color&gt; ä½¿ç”¨è¿™ç§æ ¼å¼ï¼Œä¼šéå¸¸å®¹æ˜“é‡å¤å®šä¹‰ ARGB å€¼ï¼Œè€Œä¸”å¦‚æœåº”ç”¨è¦æ”¹å˜åŸºè‰²çš„è¯ä¼šéå¸¸å›°éš¾ã€‚åŒæ—¶ï¼Œè¿™äº›å®šä¹‰æ˜¯è·Ÿä¸€äº›ç¯å¢ƒå…³è”èµ·æ¥çš„ï¼Œå¦‚ button æˆ–è€… commentï¼Œåº”è¯¥æ”¾åˆ°ä¸€ä¸ªæŒ‰é’®é£æ ¼ä¸­ï¼Œè€Œä¸æ˜¯åœ¨ colors.xml æ–‡ä»¶ä¸­ã€‚ ç›¸åï¼Œåº”è¯¥è¿™æ ·åšï¼š 12345678910111213141516&lt;resources&gt; &lt;!-- grayscale --&gt; &lt;color name="white" &gt;#FFFFFF&lt;/color&gt; &lt;color name="gray_light"&gt;#DBDBDB&lt;/color&gt; &lt;color name="gray" &gt;#939393&lt;/color&gt; &lt;color name="gray_dark" &gt;#5F5F5F&lt;/color&gt; &lt;color name="black" &gt;#323232&lt;/color&gt; &lt;!-- basic colors --&gt; &lt;color name="green"&gt;#27D34D&lt;/color&gt; &lt;color name="blue"&gt;#2A91BD&lt;/color&gt; &lt;color name="orange"&gt;#FF9D2F&lt;/color&gt; &lt;color name="red"&gt;#FF432F&lt;/color&gt;&lt;/resources&gt; å‘åº”ç”¨è®¾è®¡è€…é‚£é‡Œè¦è¿™ä¸ªè°ƒè‰²æ¿ï¼Œåç§°ä¸éœ€è¦è·Ÿ &quot;green&quot;ã€&quot;blue&quot; ç­‰ç­‰ç›¸åŒã€‚&quot;brand_primary&quot;ã€&quot;brand_secondary&quot;ã€&quot;brand_negative&quot; è¿™æ ·çš„åå­—ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥æ¥å—çš„ã€‚åƒè¿™æ ·è§„èŒƒçš„é¢œè‰²å¾ˆå®¹æ˜“ä¿®æ”¹æˆ–é‡æ„ï¼Œä¼šä½¿åº”ç”¨ä¸€å…±ä½¿ç”¨äº†å¤šå°‘ç§ä¸åŒçš„é¢œè‰²å˜å¾—éå¸¸æ¸…æ™°ã€‚é€šå¸¸ä¸€ä¸ªå…·æœ‰å®¡ç¾ä»·å€¼çš„ UI æ¥è¯´ï¼Œå‡å°‘ä½¿ç”¨é¢œè‰²çš„ç§ç±»æ˜¯éå¸¸é‡è¦çš„ã€‚ æ³¨æ„ï¼šå¦‚æœæŸäº›é¢œè‰²å’Œä¸»é¢˜æœ‰å…³ï¼Œé‚£å°±å•ç‹¬å†™ä¸€ä¸ª colors_theme.xmlã€‚ 5.6.2 dimens.xmlåƒå¯¹å¾… colors.xml ä¸€æ ·å¯¹å¾… dimens.xml æ–‡ä»¶ï¼Œä¸å®šä¹‰é¢œè‰²è°ƒè‰²æ¿ä¸€æ ·ï¼Œä½ åŒæ—¶ä¹Ÿåº”è¯¥å®šä¹‰ä¸€ä¸ªç©ºéš™é—´éš”å’Œå­—ä½“å¤§å°çš„â€œè°ƒè‰²æ¿â€ã€‚ ä¸€ä¸ªå¥½çš„ä¾‹å­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021&lt;resources&gt; &lt;!-- font sizes --&gt; &lt;dimen name="font_22"&gt;22sp&lt;/dimen&gt; &lt;dimen name="font_18"&gt;18sp&lt;/dimen&gt; &lt;dimen name="font_15"&gt;15sp&lt;/dimen&gt; &lt;dimen name="font_12"&gt;12sp&lt;/dimen&gt; &lt;!-- typical spacing between two views --&gt; &lt;dimen name="spacing_40"&gt;40dp&lt;/dimen&gt; &lt;dimen name="spacing_24"&gt;24dp&lt;/dimen&gt; &lt;dimen name="spacing_14"&gt;14dp&lt;/dimen&gt; &lt;dimen name="spacing_10"&gt;10dp&lt;/dimen&gt; &lt;dimen name="spacing_4"&gt;4dp&lt;/dimen&gt; &lt;!-- typical sizes of views --&gt; &lt;dimen name="button_height_60"&gt;60dp&lt;/dimen&gt; &lt;dimen name="button_height_40"&gt;40dp&lt;/dimen&gt; &lt;dimen name="button_height_32"&gt;32dp&lt;/dimen&gt;&lt;/resources&gt; å¸ƒå±€æ—¶åœ¨å†™ margins å’Œ paddings æ—¶ï¼Œä½ åº”è¯¥ä½¿ç”¨ spacing_xx å°ºå¯¸æ ¼å¼æ¥å¸ƒå±€ï¼Œè€Œä¸æ˜¯åƒå¯¹å¾… string å­—ç¬¦ä¸²ä¸€æ ·ç›´æ¥å†™å€¼ï¼Œåƒè¿™æ ·è§„èŒƒçš„å°ºå¯¸å¾ˆå®¹æ˜“ä¿®æ”¹æˆ–é‡æ„ï¼Œä¼šä½¿åº”ç”¨æ‰€æœ‰ç”¨åˆ°çš„å°ºå¯¸ä¸€ç›®äº†ç„¶ã€‚ è¿™æ ·å†™ä¼šéå¸¸æœ‰æ„Ÿè§‰ï¼Œä¼šä½¿ç»„ç»‡å’Œæ”¹å˜é£æ ¼æˆ–å¸ƒå±€éå¸¸å®¹æ˜“ã€‚ 5.6.3 strings.xml&lt;string&gt; çš„ name å‘½åä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•ï¼Œé‡‡ç”¨ä»¥ä¸‹è§„åˆ™ï¼š{æ¨¡å—å_}é€»è¾‘åç§°ï¼Œè¿™æ ·æ–¹ä¾¿åŒä¸€ä¸ªç•Œé¢çš„æ‰€æœ‰ string éƒ½æ”¾åˆ°ä¸€èµ·ï¼Œæ–¹ä¾¿æŸ¥æ‰¾ã€‚ åç§° è¯´æ˜ main_menu_about ä¸»èœå•æŒ‰é”®æ–‡å­— friend_title å¥½å‹æ¨¡å—æ ‡é¢˜æ  friend_dialog_del å¥½å‹åˆ é™¤æç¤º login_check_email ç™»å½•éªŒè¯ dialog_title å¼¹å‡ºæ¡†æ ‡é¢˜ button_ok ç¡®è®¤é”® loading åŠ è½½æ–‡å­— 5.6.4 styles.xml&lt;style&gt; çš„ name å‘½åä½¿ç”¨å¤§é©¼å³°å‘½åæ³•ï¼Œå‡ ä¹æ¯ä¸ªé¡¹ç›®éƒ½éœ€è¦é€‚å½“çš„ä½¿ç”¨ styles.xml æ–‡ä»¶ï¼Œå› ä¸ºå¯¹äºä¸€ä¸ªè§†å›¾æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªé‡å¤çš„å¤–è§‚æ˜¯å¾ˆå¸¸è§çš„ï¼Œå°†æ‰€æœ‰çš„å¤–è§‚ç»†èŠ‚å±æ€§ï¼ˆcolorsã€paddingã€fontï¼‰æ”¾åœ¨ styles.xml æ–‡ä»¶ä¸­ã€‚ åœ¨åº”ç”¨ä¸­å¯¹äºå¤§å¤šæ•°æ–‡æœ¬å†…å®¹ï¼Œæœ€èµ·ç ä½ åº”è¯¥æœ‰ä¸€ä¸ªé€šç”¨çš„ styles.xml æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š 1234&lt;style name=&quot;ContentText&quot;&gt; &lt;item name=&quot;android:textSize&quot;&gt;@dimen/font_normal&lt;/item&gt; &lt;item name=&quot;android:textColor&quot;&gt;@color/basic_black&lt;/item&gt;&lt;/style&gt; åº”ç”¨åˆ° TextView ä¸­ï¼š 123456&lt;TextView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;@string/price&quot; style=&quot;@style/ContentText&quot; /&gt; æˆ–è®¸ä½ éœ€è¦ä¸ºæŒ‰é’®æ§ä»¶åšåŒæ ·çš„äº‹æƒ…ï¼Œä¸è¦åœæ­¢åœ¨é‚£é‡Œï¼Œå°†ä¸€ç»„ç›¸å…³çš„å’Œé‡å¤ android:xxxx çš„å±æ€§æ”¾åˆ°ä¸€ä¸ªé€šç”¨çš„ &lt;style&gt; ä¸­ã€‚ 5.7 id å‘½åå‘½åè§„åˆ™ï¼šviewç¼©å†™{_æ¨¡å—å}_é€»è¾‘åï¼Œä¾‹å¦‚ï¼š btn_main_searchã€btn_backã€‚ å¦‚æœåœ¨é¡¹ç›®ä¸­æœ‰ç”¨é»„æ²¹åˆ€çš„è¯ï¼Œä½¿ç”¨ AS çš„æ’ä»¶ï¼šButterKnife Zeleznyï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿å¸®åŠ©ä½ ç”Ÿæˆæ³¨è§£ï¼›æ²¡ç”¨é»„æ²¹åˆ€çš„è¯å¯ä»¥ä½¿ç”¨ Android Code Generator æ’ä»¶ã€‚ 6 ç‰ˆæœ¬ç»Ÿä¸€è§„èŒƒAndroid å¼€å‘å­˜åœ¨ç€ä¼—å¤šç‰ˆæœ¬çš„ä¸åŒï¼Œæ¯”å¦‚ compileSdkVersionã€minSdkVersionã€targetSdkVersion ä»¥åŠé¡¹ç›®ä¸­ä¾èµ–ç¬¬ä¸‰æ–¹åº“çš„ç‰ˆæœ¬ï¼Œä¸åŒçš„ module åŠä¸åŒçš„å¼€å‘äººå‘˜éƒ½æœ‰ä¸åŒçš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªç»Ÿä¸€ç‰ˆæœ¬è§„èŒƒçš„æ–‡ä»¶ã€‚ å…·ä½“å¯ä»¥å‚è€ƒæˆ‘å†™çš„è¿™ç¯‡åšæ–‡ï¼šAndroid å¼€å‘ä¹‹ç‰ˆæœ¬ç»Ÿä¸€è§„èŒƒã€‚ å¦‚æœæ˜¯å¼€å‘å¤šä¸ªç³»ç»Ÿçº§åˆ«çš„åº”ç”¨ï¼Œå½“å¤šä¸ªåº”ç”¨åŒæ—¶ç”¨åˆ°ç›¸åŒçš„ so åº“æ—¶ï¼Œä¸€å®šè¦ç¡®ä¿ so åº“çš„ç‰ˆæœ¬ä¸€è‡´ï¼Œå¦åˆ™å¯èƒ½ä¼šå¼•å‘åº”ç”¨å´©æºƒã€‚ 7 ç¬¬ä¸‰æ–¹åº“è§„èŒƒåˆ«å†é—­é—¨é€ è½¦äº†ï¼Œç”¨ç”¨æœ€æ–°æœ€ç«çš„æŠ€æœ¯å§ï¼Œå®‰åˆ©ä¸€æ³¢ï¼šAndroid æµè¡Œæ¡†æ¶æŸ¥é€Ÿè¡¨ï¼Œé¡ºä¾¿å¸¦ä¸Šè‡ªå·±çš„å¹²è´§ï¼šAndroid å¼€å‘äººå‘˜ä¸å¾—ä¸æ”¶é›†çš„ä»£ç ã€‚ å¸Œæœ› Team èƒ½ç”¨æ—¶ä¸‹è¾ƒæ–°çš„æŠ€æœ¯ï¼Œå¯¹å¼€æºåº“çš„é€‰å–ï¼Œä¸€èˆ¬éƒ½éœ€è¦é€‰æ‹©æ¯”è¾ƒç¨³å®šçš„ç‰ˆæœ¬ï¼Œä½œè€…åœ¨ç»´æŠ¤çš„é¡¹ç›®ï¼Œè¦è€ƒè™‘ä½œè€…å¯¹ issue çš„è§£å†³ï¼Œä»¥åŠå¼€å‘è€…çš„çŸ¥ååº¦ç­‰å„æ–¹é¢ã€‚é€‰å–ä¹‹åï¼Œä¸€å®šçš„å°è£…æ˜¯å¿…è¦çš„ã€‚ ä¸ªäººæ¨è Team å¯ä½¿ç”¨å¦‚ä¸‹ä¼˜ç§€è½®å­ï¼š Retrofit RxAndroid OkHttp Glide/Fresco Gson/Fastjson EventBus/AndroidEventBus GreenDao Dagger2ï¼ˆé€‰ç”¨ï¼‰ Tinkerï¼ˆé€‰ç”¨ï¼‰ 8 æ³¨é‡Šè§„èŒƒä¸ºäº†å‡å°‘ä»–äººé˜…è¯»ä½ ä»£ç çš„ç—›è‹¦å€¼ï¼Œè¯·åœ¨å…³é”®åœ°æ–¹åšå¥½æ³¨é‡Šã€‚ 8.1 ç±»æ³¨é‡Šæ¯ä¸ªç±»å®Œæˆååº”è¯¥æœ‰ä½œè€…å§“åå’Œè”ç³»æ–¹å¼çš„æ³¨é‡Šï¼Œå¯¹è‡ªå·±çš„ä»£ç è´Ÿè´£ã€‚ 123456789101112/** * &lt;pre&gt; * author : Blankj * e-mail : xxx@xx * time : 2017/03/07 * desc : xxxx æè¿° * version: 1.0 * &lt;/pre&gt; */public class WelcomeActivity &#123; ...&#125; å…·ä½“å¯ä»¥åœ¨ AS ä¸­è‡ªå·±é…åˆ¶ï¼Œè¿›å…¥ Settings -&gt; Editor -&gt; File and Code Templates -&gt; Includes -&gt; File Headerï¼Œè¾“å…¥ 123456789/** * &lt;pre&gt; * author : $&#123;USER&#125; * e-mail : xxx@xx * time : $&#123;YEAR&#125;/$&#123;MONTH&#125;/$&#123;DAY&#125; * desc : * version: 1.0 * &lt;/pre&gt; */ è¿™æ ·ä¾¿å¯åœ¨æ¯æ¬¡æ–°å»ºç±»çš„æ—¶å€™è‡ªåŠ¨åŠ ä¸Šè¯¥å¤´æ³¨é‡Šã€‚ 8.2 æ–¹æ³•æ³¨é‡Šæ¯ä¸€ä¸ªæˆå‘˜æ–¹æ³•ï¼ˆåŒ…æ‹¬è‡ªå®šä¹‰æˆå‘˜æ–¹æ³•ã€è¦†ç›–æ–¹æ³•ã€å±æ€§æ–¹æ³•ï¼‰çš„æ–¹æ³•å¤´éƒ½å¿…é¡»åšæ–¹æ³•å¤´æ³¨é‡Šï¼Œåœ¨æ–¹æ³•å‰ä¸€è¡Œè¾“å…¥ /** + å›è½¦ æˆ–è€…è®¾ç½® Fix doc commentï¼ˆSettings -&gt; Keymap -&gt; Fix doc commentï¼‰å¿«æ·é”®ï¼ŒAS ä¾¿ä¼šå¸®ä½ ç”Ÿæˆæ¨¡æ¿ï¼Œæˆ‘ä»¬åªéœ€è¦è¡¥å…¨å‚æ•°å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678910111213/** * bitmap è½¬ byteArr * * @param bitmap bitmap å¯¹è±¡ * @param format æ ¼å¼ * @return å­—èŠ‚æ•°ç»„ */public static byte[] bitmap2Bytes(Bitmap bitmap, CompressFormat format) &#123; if (bitmap == null) return null; ByteArrayOutputStream baos = new ByteArrayOutputStream(); bitmap.compress(format, 100, baos); return baos.toByteArray();&#125; 8.3 å—æ³¨é‡Šå—æ³¨é‡Šä¸å…¶å‘¨å›´çš„ä»£ç åœ¨åŒä¸€ç¼©è¿›çº§åˆ«ã€‚å®ƒä»¬å¯ä»¥æ˜¯ /* ... */ é£æ ¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ // ... é£æ ¼ï¼ˆ//åæœ€å¥½å¸¦ä¸€ä¸ªç©ºæ ¼ï¼‰ã€‚å¯¹äºå¤šè¡Œçš„ /* ... */ æ³¨é‡Šï¼Œåç»­è¡Œå¿…é¡»ä» * å¼€å§‹ï¼Œ å¹¶ä¸”ä¸å‰ä¸€è¡Œçš„ * å¯¹é½ã€‚ä»¥ä¸‹ç¤ºä¾‹æ³¨é‡Šéƒ½æ˜¯ OK çš„ã€‚ 12345678910/* * This is * okay. */// And so// is this./* Or you can* even do this. */ æ³¨é‡Šä¸è¦å°é—­åœ¨ç”±æ˜Ÿå·æˆ–å…¶å®ƒå­—ç¬¦ç»˜åˆ¶çš„æ¡†æ¶é‡Œã€‚ Tipï¼šåœ¨å†™å¤šè¡Œæ³¨é‡Šæ—¶ï¼Œå¦‚æœä½ å¸Œæœ›åœ¨å¿…è¦æ—¶èƒ½é‡æ–°æ¢è¡Œï¼ˆå³æ³¨é‡Šåƒæ®µè½é£æ ¼ä¸€æ ·ï¼‰ï¼Œé‚£ä¹ˆä½¿ç”¨ /* ... */ã€‚ 8.4 å…¶ä»–ä¸€äº›æ³¨é‡ŠAS å·²å¸®ä½ é›†æˆäº†ä¸€äº›æ³¨é‡Šæ¨¡æ¿ï¼Œæˆ‘ä»¬åªéœ€è¦ç›´æ¥ä½¿ç”¨å³å¯ï¼Œåœ¨ä»£ç ä¸­è¾“å…¥ todoã€fixme ç­‰è¿™äº›æ³¨é‡Šæ¨¡æ¿ï¼Œå›è½¦åä¾¿ä¼šå‡ºç°å¦‚ä¸‹æ³¨é‡Šã€‚ 12// TODO: 17/3/14 éœ€è¦å®ç°ï¼Œä½†ç›®å‰è¿˜æœªå®ç°çš„åŠŸèƒ½çš„è¯´æ˜// FIXME: 17/3/14 éœ€è¦ä¿®æ­£ï¼Œç”šè‡³ä»£ç æ˜¯é”™è¯¯çš„ï¼Œä¸èƒ½å·¥ä½œï¼Œéœ€è¦ä¿®å¤çš„è¯´æ˜ 9 æµ‹è¯•è§„èŒƒä¸šåŠ¡å¼€å‘å®Œæˆä¹‹åï¼Œå¼€å‘äººå‘˜åšå•å…ƒæµ‹è¯•ï¼Œå•å…ƒæµ‹è¯•å®Œæˆä¹‹åï¼Œä¿è¯å•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼ŒåŒæ—¶å•å…ƒæµ‹è¯•ä»£ç è¦†ç›–ç‡è¾¾åˆ°ä¸€å®šç¨‹åº¦ï¼ˆè¿™ä¸ªéœ€è¦å¼€å‘å’Œæµ‹è¯•çº¦å®šï¼Œç†è®ºä¸Šè¶Šé«˜è¶Šå¥½ï¼‰ï¼Œå¼€å‘ææµ‹ã€‚ 9.1 å•å…ƒæµ‹è¯•æµ‹è¯•ç±»çš„åç§°åº”è¯¥æ˜¯æ‰€æµ‹è¯•ç±»çš„åç§°åŠ  Testï¼Œæˆ‘ä»¬åˆ›å»º DatabaseHelper çš„æµ‹è¯•ç±»ï¼Œå…¶ååº”è¯¥å« DatabaseHelperTestã€‚ æµ‹è¯•å‡½æ•°è¢« @Test æ‰€æ³¨è§£ï¼Œå‡½æ•°åé€šå¸¸ä»¥è¢«æµ‹è¯•çš„æ–¹æ³•ä¸ºå‰ç¼€ï¼Œç„¶åè·Ÿéšæ˜¯å‰ææ¡ä»¶å’Œé¢„æœŸçš„ç»“æœã€‚ æ¨¡æ¿ï¼švoid methodNameå‰ææ¡ä»¶å’Œé¢„æœŸç»“æœ() ä¾‹å­ï¼švoid signInWithEmptyEmailFails() æ³¨æ„ï¼šå¦‚æœå‡½æ•°è¶³å¤Ÿæ¸…æ™°ï¼Œé‚£ä¹ˆå‰ææ¡ä»¶å’Œé¢„æœŸçš„ç»“æœæ˜¯å¯ä»¥çœç•¥çš„ã€‚ æœ‰æ—¶ä¸€ä¸ªç±»å¯èƒ½åŒ…å«å¤§é‡çš„æ–¹æ³•ï¼ŒåŒæ—¶éœ€è¦å¯¹æ¯ä¸ªæ–¹æ³•è¿›è¡Œå‡ æ¬¡æµ‹è¯•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå»ºè®®å°†æµ‹è¯•ç±»åˆ†æˆå¤šä¸ªç±»ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ DataManager åŒ…å«å¾ˆå¤šæ–¹æ³•ï¼Œæˆ‘ä»¬å¯èƒ½è¦æŠŠå®ƒåˆ†æˆ DataManagerSignInTestã€DataManagerLoadUsersTest ç­‰ç­‰ã€‚ 9.2 Espresso æµ‹è¯•æ¯ä¸ª Espresso æµ‹è¯•é€šå¸¸æ˜¯é’ˆå¯¹ Activityï¼Œæ‰€ä»¥å…¶æµ‹è¯•åå°±æ˜¯å…¶è¢«æµ‹çš„ Activity çš„åç§°åŠ  Testï¼Œæ¯”å¦‚ SignInActivityTestã€‚ 10 å…¶ä»–çš„ä¸€äº›è§„èŒƒ åˆç†å¸ƒå±€ï¼Œæœ‰æ•ˆè¿ç”¨ &lt;merge&gt;ã€&lt;ViewStub&gt;ã€&lt;include&gt; æ ‡ç­¾ï¼› Activity å’Œ Fragment é‡Œé¢æœ‰è®¸å¤šé‡å¤çš„æ“ä½œä»¥åŠæ“ä½œæ­¥éª¤ï¼Œæ‰€ä»¥æˆ‘ä»¬éƒ½éœ€è¦æä¾›ä¸€ä¸ª BaseActivity å’Œ BaseFragmentï¼Œè®©æ‰€æœ‰çš„ Activity å’Œ Fragment éƒ½ç»§æ‰¿è¿™ä¸ªåŸºç±»ã€‚ æ–¹æ³•åŸºæœ¬ä¸Šéƒ½æŒ‰ç…§è°ƒç”¨çš„å…ˆåé¡ºåºåœ¨å„è‡ªåŒºå—ä¸­æ’åˆ—ï¼› ç›¸å…³åŠŸèƒ½ä½œä¸ºå°åŒºå—æ”¾åœ¨ä¸€èµ·ï¼ˆæˆ–è€…å°è£…æ‰ï¼‰ï¼› å½“ä¸€ä¸ªç±»æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œæˆ–æ˜¯å¤šä¸ªåŒåå‡½æ•°ï¼Œè¿™äº›å‡½æ•°åº”è¯¥æŒ‰é¡ºåºå‡ºç°åœ¨ä¸€èµ·ï¼Œä¸­é—´ä¸è¦æ”¾è¿›å…¶å®ƒå‡½æ•°ï¼› æ•°æ®æä¾›ç»Ÿä¸€çš„å…¥å£ã€‚æ— è®ºæ˜¯åœ¨ MVPã€MVC è¿˜æ˜¯ MVVM ä¸­ï¼Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ•°æ®å…¥å£ï¼Œéƒ½å¯ä»¥è®©ä»£ç å˜å¾—æ›´åŠ æ˜“äºç»´æŠ¤ã€‚æ¯”å¦‚å¯ä½¿ç”¨ä¸€ä¸ª DataManagerï¼ŒæŠŠ httpã€preferenceã€eventpostã€database éƒ½æ”¾åœ¨ DataManager é‡Œé¢è¿›è¡Œæ“ä½œï¼Œæˆ‘ä»¬åªéœ€è¦ä¸ DataManageræ‰“äº¤é“ï¼› å¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿ï¼› æå–æ–¹æ³•ï¼Œå»é™¤é‡å¤ä»£ç ã€‚å¯¹äºå¿…è¦çš„å·¥å…·ç±»æŠ½å–ä¹Ÿå¾ˆé‡è¦ï¼Œè¿™åœ¨ä»¥åçš„é¡¹ç›®ä¸­æ˜¯å¯ä»¥é‡ç”¨çš„ã€‚ å¯å¼•å…¥ Dagger2 å‡å°‘æ¨¡å—ä¹‹é—´çš„è€¦åˆæ€§ã€‚Dagger2 æ˜¯ä¸€ä¸ªä¾èµ–æ³¨å…¥æ¡†æ¶ï¼Œä½¿ç”¨ä»£ç è‡ªåŠ¨ç”Ÿæˆåˆ›å»ºä¾èµ–å…³ç³»éœ€è¦çš„ä»£ç ã€‚å‡å°‘å¾ˆå¤šæ¨¡æ¿åŒ–çš„ä»£ç ï¼Œæ›´æ˜“äºæµ‹è¯•ï¼Œé™ä½è€¦åˆï¼Œåˆ›å»ºå¯å¤ç”¨å¯äº’æ¢çš„æ¨¡å—ï¼› é¡¹ç›®å¼•å…¥ RxAndroid å“åº”å¼ç¼–ç¨‹ï¼Œå¯ä»¥æå¤§çš„å‡å°‘é€»è¾‘ä»£ç ï¼› é€šè¿‡å¼•å…¥äº‹ä»¶æ€»çº¿ï¼Œå¦‚ï¼šEventBusã€AndroidEventBusã€RxBusï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨ DataLayer ä¸­å‘é€äº‹ä»¶ï¼Œä»¥ä¾¿ ViewLayer ä¸­çš„å¤šä¸ªç»„ä»¶éƒ½èƒ½å¤Ÿè®¢é˜…åˆ°è¿™äº›äº‹ä»¶ï¼Œå‡å°‘å›è°ƒï¼› å°½å¯èƒ½ä½¿ç”¨å±€éƒ¨å˜é‡ï¼› åŠæ—¶å…³é—­æµï¼› å°½é‡å‡å°‘å¯¹å˜é‡çš„é‡å¤è®¡ç®—ï¼› å¦‚ä¸‹é¢çš„æ“ä½œï¼š 123for (int i = 0; i &lt; list.size(); i++) &#123; ...&#125; å»ºè®®æ›¿æ¢ä¸ºï¼š 123for (int i = 0, len = list.size(); i &lt; len; i++) &#123; ...&#125; å°½é‡é‡‡ç”¨æ‡’åŠ è½½çš„ç­–ç•¥ï¼Œå³åœ¨éœ€è¦çš„æ—¶å€™æ‰åˆ›å»ºï¼› ä¾‹å¦‚ï¼š 1234String str = "aaa";if (i == 1) &#123; list.add(str);&#125; å»ºè®®æ›¿æ¢ä¸ºï¼š 1234if (i == 1) &#123; String str = "aaa"; list.add(str);&#125; ä¸è¦åœ¨å¾ªç¯ä¸­ä½¿ç”¨ tryâ€¦catchâ€¦ï¼Œåº”è¯¥æŠŠå…¶æ”¾åœ¨æœ€å¤–å±‚ï¼› ä½¿ç”¨å¸¦ç¼“å†²çš„è¾“å…¥è¾“å‡ºæµè¿›è¡Œ IO æ“ä½œï¼› å°½é‡ä½¿ç”¨ HashMapã€ArrayListã€StringBuilderï¼Œé™¤éçº¿ç¨‹å®‰å…¨éœ€è¦ï¼Œå¦åˆ™ä¸æ¨èä½¿ç”¨ HashTableã€Vectorã€StringBufferï¼Œåä¸‰è€…ç”±äºä½¿ç”¨åŒæ­¥æœºåˆ¶è€Œå¯¼è‡´äº†æ€§èƒ½å¼€é”€ï¼› å°½é‡åœ¨åˆé€‚çš„åœºåˆä½¿ç”¨å•ä¾‹ï¼› ä½¿ç”¨å•ä¾‹å¯ä»¥å‡è½»åŠ è½½çš„è´Ÿæ‹…ã€ç¼©çŸ­åŠ è½½çš„æ—¶é—´ã€æé«˜åŠ è½½çš„æ•ˆç‡ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰åœ°æ–¹éƒ½é€‚ç”¨äºå•ä¾‹ï¼Œç®€å•æ¥è¯´ï¼Œå•ä¾‹ä¸»è¦é€‚ç”¨äºä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š æ§åˆ¶èµ„æºçš„ä½¿ç”¨ï¼Œé€šè¿‡çº¿ç¨‹åŒæ­¥æ¥æ§åˆ¶èµ„æºçš„å¹¶å‘è®¿é—®ã€‚ æ§åˆ¶å®ä¾‹çš„äº§ç”Ÿï¼Œä»¥è¾¾åˆ°èŠ‚çº¦èµ„æºçš„ç›®çš„ã€‚ æ§åˆ¶æ•°æ®çš„å…±äº«ï¼Œåœ¨ä¸å»ºç«‹ç›´æ¥å…³è”çš„æ¡ä»¶ä¸‹ï¼Œè®©å¤šä¸ªä¸ç›¸å…³çš„è¿›ç¨‹æˆ–çº¿ç¨‹ä¹‹é—´å®ç°é€šä¿¡ã€‚ æŠŠä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹è½¬ä¸ºå­—ç¬¦ä¸²ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹.toString() æ˜¯æœ€å¿«çš„æ–¹å¼ï¼ŒString.valueOf(æ•°æ®) æ¬¡ä¹‹ï¼Œæ•°æ® + &quot;&quot; æœ€æ…¢ï¼› ä½¿ç”¨ AS è‡ªå¸¦çš„ Lint æ¥ä¼˜åŒ–ä»£ç ç»“æ„ï¼ˆä»€ä¹ˆï¼Œä½ ä¸ä¼šï¼Ÿå³é”® moduleã€ç›®å½•æˆ–è€…æ–‡ä»¶ï¼Œé€‰æ‹© Analyze -&gt; Inspect Codeï¼‰ï¼› æœ€åä¸è¦å¿˜äº†å†…å­˜æ³„æ¼çš„æ£€æµ‹ï¼› æœ€åå•°å—¦å‡ å¥ï¼š å¥½çš„å‘½åè§„åˆ™èƒ½å¤Ÿæé«˜ä»£ç è´¨é‡ï¼Œä½¿å¾—æ–°äººåŠ å…¥é¡¹ç›®çš„æ—¶å€™é™ä½ç†è§£ä»£ç çš„éš¾åº¦ï¼› è§„çŸ©ç»ˆç©¶æ˜¯æ­»çš„ï¼Œé€‚åˆå›¢é˜Ÿçš„æ‰æ˜¯æœ€å¥½çš„ï¼› å‘½åè§„èŒƒéœ€è¦å›¢é˜Ÿä¸€èµ·é½å¿ƒååŠ›æ¥ç»´æŠ¤æ‰§è¡Œï¼Œåœ¨å›¢é˜Ÿç”Ÿæ´»é‡Œï¼Œè°éƒ½ä¸å¯èƒ½ç‹¬å–„å…¶èº«ï¼› ä¸€å¼€å§‹å¯èƒ½ä¼šæœ‰äº›ä¸ä¹ æƒ¯ï¼ŒæŒä¹‹ä»¥æ’ï¼Œæ€»ä¼šæˆåŠŸçš„ã€‚ é™„å½•UI æ§ä»¶ç¼©å†™è¡¨ åç§° ç¼©å†™ Button btn CheckBox cb EditText et FrameLayout fl GridView gv ImageButton ib ImageView iv LinearLayout ll ListView lv ProgressBar pb RadioButton rb RecyclerView rv RelativeLayout rl ScrollView sv SeekBar sb Spinner spn TextView tv ToggleButton tb VideoView vv WebView wv å¸¸è§çš„è‹±æ–‡å•è¯ç¼©å†™è¡¨ åç§° ç¼©å†™ average avg background bgï¼ˆä¸»è¦ç”¨äºå¸ƒå±€å’Œå­å¸ƒå±€çš„èƒŒæ™¯ï¼‰ buffer buf control ctrl current cur default def delete del document doc error err escape esc icon icï¼ˆä¸»è¦ç”¨åœ¨ App çš„å›¾æ ‡ï¼‰ increment inc information info initial init image img Internationalization I18N length len library lib message msg password pwd position pos previous pre selector selï¼ˆä¸»è¦ç”¨äºæŸä¸€ view å¤šç§çŠ¶æ€ï¼Œä¸ä»…åŒ…æ‹¬ ListView ä¸­çš„ selectorï¼Œè¿˜åŒ…æ‹¬æŒ‰é’®çš„ selectorï¼‰ server srv string str temporary tmp window win ç¨‹åºä¸­ä½¿ç”¨å•è¯ç¼©å†™åŸåˆ™ï¼šä¸è¦ç”¨ç¼©å†™ï¼Œé™¤éè¯¥ç¼©å†™æ˜¯çº¦å®šä¿—æˆçš„ã€‚ å‚è€ƒAndroid åŒ…å‘½åè§„èŒƒ Android å¼€å‘æœ€ä½³å®è·µ Android ç¼–ç è§„èŒƒ é˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œ Project and code style guidelines Google Java ç¼–ç¨‹é£æ ¼æŒ‡å— å°ç»†èŠ‚ï¼Œå¤§ç”¨é€”ï¼Œ35 ä¸ª Java ä»£ç æ€§èƒ½ä¼˜åŒ–æ€»ç»“ï¼ ç‰ˆæœ¬æ—¥å¿— 17/12/05: æ–°å¢ logoï¼› 17/12/04: å®Œå–„æŒ‰åŠŸèƒ½åˆ†åŒ…ï¼Œä¿®å¤ typoï¼Œå®šè¯¥ç‰ˆä¸ºå®Œç»“ç‰ˆï¼› 17/12/03: å®Œå–„ä»£ç æ ·å¼è§„èŒƒå’Œæµ‹è¯•è§„èŒƒï¼› 17/12/02: æ–°å¢ä»£ç æ ·å¼è§„èŒƒï¼› 17/12/01: å¯¹èµ„æºæ–‡ä»¶è§„èŒƒè¿›è¡Œé‡æ„ï¼› 17/11/29: æ ¼å¼åŒ–ä¸­è‹±æ··æ’ï¼› 17/03/14: åŒ…ååˆ’åˆ†ä¸ºæŒ‰åŠŸèƒ½åˆ’åˆ†ï¼› 17/03/13: æ–°å¢å…¶ä»–æ³¨é‡Šï¼› 17/03/08: è§„èŒƒæ’ç‰ˆï¼Œä¿®å¤ typo åŠæ–°å¢ä¸€äº›è§„èŒƒï¼› 17/03/07: ä¿®è®¢ç›®å½•æ’ç‰ˆï¼Œå®Œå–„æŸäº›ç»†èŠ‚ï¼› 17/03/06: å‘å¸ƒåˆç‰ˆï¼›]]></content>
      <categories>
        <category>Android</category>
        <category>å¼€å‘è§„èŒƒ</category>
      </categories>
      <tags>
        <tag>å¼€å‘è§„èŒƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸ºè·³æ§½çš„ä½ çŒ®è®¡çŒ®ç­–ï¼ˆAndroidï¼‰]]></title>
    <url>%2F2017%2F02%2F16%2Ffind-job%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯é¦–å…ˆå…ˆä»‹ç»ä¸‹æˆ‘çš„å¢ƒå†µå§ï¼Œä¸Šå‘¨ä¸€æäº¤çš„è¾èŒæŠ¥å‘Šï¼Œå‘¨äºŒæ­£å¼ç¦»å¼€äº†æˆ‘çš„EXå…¬å¸ï¼Œä¹Ÿå°±æ˜¯è£¸è¾å§ï¼Œæ¯•ç«Ÿæˆ‘è¿˜æ²¡æœ‰æ”¶åˆ°ä»»ä½•é¢è¯•é€šçŸ¥å’Œofferï¼Œä½†æ˜¯æˆ‘åœ¨ä¸Šå‘¨ä¸€ä¹‹å‰å·²æŠŠç®€å†å†™å¥½ï¼Œå¹¶åœ¨ç›¸å…³çš„å¹³å°æŠ•å‡ºäº†å¤šä»½ç®€å†ï¼Œåªæ¬ ä¸œé£äº†ã€‚å½“ç„¶ï¼Œè£¸è¾ä¹Ÿæœ‰è£¸è¾çš„å¥½å¤„ï¼ˆä»€ä¹ˆï¼Œè£¸è¾è¿˜æœ‰å¥½å¤„ï¼Ÿï¼‰ï¼Œè£¸è¾çŠ¶æ€ä¸‹ä½ å¯ä»¥æ›´å…¨é¢åœ°å‡†å¤‡çŸ¥è¯†ï¼Œåˆ°æ–°å…¬å¸é¢è¯•çš„æ—¶å€™å¦‚æœæ˜¯ç¦»èŒçŠ¶æ€çš„è¯ï¼Œä¸€èˆ¬æ–°å…¬å¸ä¹Ÿæ›´å–œæ¬¢ç¦»èŒçš„å‘˜å·¥ï¼Œå› ä¸ºå¯ä»¥æ›´å¿«åœ°å…¥èŒï¼Œä»è€ŒæˆåŠŸè·³æ§½ã€‚äº’è”ç½‘ç®€å†å¹³å°æˆ‘è¿˜æ˜¯æ¯”è¾ƒæ¨è æ‹‰å‹¾ç½‘ çš„ï¼Œå°±äº’è”ç½‘ç®€å†æ¨é€å¹³å°å¯¹æ¯”è€Œè¨€ï¼Œæˆ‘å¯¹æŸè”å’ŒæŸåŒåŸå°è±¡è¿˜æ˜¯ä¸æ€ä¹ˆå¥½çš„ï¼Œè®°å¾—åˆšæ‰¾å·¥ä½œé‚£ä¼šï¼Œæ”¶åˆ°æŸäº›åŸ¹è®­æœºæ„çš„é¢è¯•é€šçŸ¥ï¼Œå”‰ï¼Œæµªè´¹æ—¶é—´çœŸæ˜¯ã€‚å½“ç„¶ï¼Œä½ èº«è¾¹æœ‰å†…æ¨æ¸ é“çš„è¯ï¼Œåƒä¸‡ä¸è¦æµªè´¹äº†è¿™æœºä¼šå“ˆï¼Œä¸€å®šè¦å…¨é¢è¿ç”¨èº«è¾¹çš„èµ„æºï¼Œæ—¢ç„¶è¯´åˆ°äº†ç®€å†ï¼Œé‚£å°±è°ˆè°ˆå®ƒå§ã€‚ ç®€å†ä½œä¸ºITerï¼Œè¦æ—¶åˆ»è®°å¾— GitHub è¿™ä¸ªå¹³å°ï¼Œå®ƒä¸ä»…å¯ä»¥è§£å†³ä½ çš„æŠ€æœ¯éš¾é¢˜ï¼Œå½“ç„¶ä¹Ÿæœ‰ä½ æƒ³ä¸åˆ°çš„ç®€å†è½®å­ï¼ŒçŒ®ä¸Š ä¼ é€é—¨~ æ‹¿å¥½ï¼Œåˆ«æ‰äº†å“ˆã€‚é“¾æ¥æ˜¯Androidç‰ˆæœ¬çš„ï¼Œå½“ç„¶å…¶ä»–æ–¹å‘ç‰ˆæœ¬ä¹Ÿéƒ½æ˜¯æœ‰çš„å“ˆï¼Œè§å¦‚ä¸‹æˆªå›¾ã€‚ è¯¥è¯´çš„åŸºæœ¬éƒ½åœ¨ä¼ é€é—¨é‡Œé¢äº†ï¼Œåœ¨æ­¤å†æ¨èä¸€ä¸ªTrineaå¤§å¤§çš„ 80% ä»¥ä¸Šç®€å†éƒ½æ˜¯ä¸åˆæ ¼çš„ï¼Œæˆ‘ç”¨çš„ç®€å†æ¨¡æ¿å°±æ˜¯ä»–æä¾›çš„æ¨¡æ¿ä¸€ï¼šä¼ é€é—¨~ã€‚ æˆ‘æä¸€ä¸‹éœ€è¦ç€é‡æ³¨æ„çš„å‡ ç‚¹å§ã€‚ æ›¾ç»å…¬å¸è´Ÿè´£çš„é¡¹ç›®èŒè´£ï¼Œå¦‚æœæœ‰æˆ˜ç»©æ˜¾èµ«çš„é‚£ä¸€å®šè¦çªå‡ºå¯¹å…¬å¸å¸¦æ¥çš„æ”¶ç›Šä»€ä¹ˆçš„ï¼Œæ²¡æœ‰çš„è¯ï¼Œé‚£å°±å†™ä¸€ä¸‹å¯¹ä½ è‡ªèº«çš„æˆé•¿ã€‚ ç½—åˆ—å‡ºè‡ªå·±æ¯”è¾ƒäº†è§£çš„æŠ€æœ¯ç‚¹ï¼Œåƒä¸‡ä¸è¦å†™ä¸€äº›è‡ªå·±éƒ½ä¸æ¸…æ¥šçš„çŸ¥è¯†ï¼Œé‚£æ ·é¢è¯•å®˜ä¸€æ—¦è€ƒåˆ°ä½ ï¼Œé‚£ä½ å°±GGå§ã€‚ï¼ˆä»€ä¹ˆï¼Œä½ æ²¡æœ‰æ¯”è¾ƒäº†è§£çš„ï¼Œé‚£ä½ èµ¶ç´§å»å‡ä¸‹çº§å§ï¼Œå¯ä»¥å‚çœ‹æˆ‘ä¸‹æ–¹å†™çš„å¹²è´§ï¼‰ æœ€å¥½æœ‰è‡ªå·±è®¾è®¡çš„å¼€æºåº“æˆ–è€…æŠ€æœ¯åšå®¢ï¼Œé‚£æ ·ä½ åœ¨ä»‹ç»çš„æ—¶å€™å°±æ¸¸åˆƒæœ‰ä½™äº†ï¼Œå¯ä»¥è¯´è¯´ä½ è®¾è®¡çš„æ€æƒ³ï¼Œå¸¦æ¥çš„å¥½å¤„ç­‰ç­‰ã€‚ é¢è¯•å¹²è´§åœ¨ç®€å†é€šè¿‡ç­›é€‰ä¹‹åï¼Œæ€»ç®—æ˜¯æœ‰äº†é¢è¯•æœºä¼šï¼Œé¢è¯•ä¹‹å‰å‡†å¤‡çš„è¯ï¼Œå¯¹äºæˆ‘ä»¬è¿™ç§åˆä¸­åŠå¼€å‘è€…ï¼Œè¿™ä¸ª ä¼ é€é—¨~ ä¸­çš„å†…å®¹å·²ç»è¶³ä»¥å’ŒæŠ€æœ¯é¢è¯•å®˜æ€¼ä¸€æˆ˜äº†ã€‚ ä½ æ€»ç®—æ‰¿å—ä½äº†æŠ€æœ¯é¢è¯•å®˜çš„å‹åŠ›ï¼Œä¸‹é¢å°±æ˜¯ä½ å‘é—®çš„æ—¶åˆ»äº†ï¼Œå“ˆå“ˆï¼Œæˆ‘è¿™é‡Œä¹Ÿç»™ä½ ä»¬æä¾›ä¸€äº›é—®é¢˜æ¨¡æ¿å“ˆã€‚ æˆ‘æ‰€åº”è˜çš„è¿™ä¸ªèŒä½ä¸ºä½•ä¼šå‡ºç°ç©ºç¼ºï¼ˆä¸€èˆ¬çš„è¯ä¼šæœ‰ä¸‰ç‚¹ï¼Œ1ã€å…¬å¸æ‰©æ‹›ï¼šå¦‚æœæ˜¯è¿™ä¸ªåŸå› é‚£å°±æ˜¯å…¬å¸åœ¨è¿…é€Ÿå‘å±•ï¼Œé‡åˆ°è¿™æ ·çš„å…¬å¸è¿˜æ˜¯ä¸é”™çš„ï¼›2ã€åŸäººæ‰å‡èŒï¼šé‚£ä½ æ¥ç€ä¾¿å¯ä»¥å¥—å‡ºå¦‚ä½•å‡èŒï¼›3ã€åŸäººæ‰è·³æ§½ï¼šè¿™ä¸ªå› ç´ çš„è¯é‚£ä½ å°±å¾—å¥½å¥½è¡¡é‡äº†ï¼Œæ˜¯å¦è¦ä¸ºè¿™è™ç©´ä¹°å•ï¼‰ è¯•ç”¨æœŸå†…å¯èƒ½é‡åˆ°æœ€å¤§çš„å›°éš¾æŒ‘æˆ˜æ˜¯ä»€ä¹ˆï¼ˆè¿™ä¸ªæ˜¯å¾ˆæœ‰å¿…è¦é—®æ¸…æ¥šçš„ï¼Œæ¯•ç«Ÿå…³ç³»ç€ä½ å°†æ¥å¯èƒ½è¦é¢å¯¹çš„å›°éš¾ï¼‰ å¦‚ä½•è¯„ä¼°è¯•ç”¨æœŸå†…çš„å·¥ä½œè¡¨ç°ï¼ˆè¿™ä¸ªé—®é¢˜å¯ä»¥äº†è§£åˆ°è¯¥å®¶å…¬å¸çš„åŠå…¬åšäº‹é£æ ¼ï¼Œä¹Ÿå†³å®šäº†ä½ çš„å·¥ä½œçŠ¶æ€è¦è¾¾åˆ°ä»€ä¹ˆç¨‹åº¦ï¼‰ è´µå…¬å¸æ˜¯å¦‚ä½•ä¿è¯äººæ‰çš„ä¸æµå¤±ï¼ˆä¼˜ç§€çš„ä¼ä¸šä¸€èˆ¬éƒ½ä¸ºå‘˜å·¥æä¾›æ¸…æ™°æ˜äº†çš„èŒä¸šå‘å±•é“è·¯ï¼Œåœ¨å‘˜å·¥èƒ½åŠ›å¢é•¿çš„åŒæ—¶ï¼Œä¹Ÿä¸ºå…¬å¸å¸¦æ¥ä»·å€¼ï¼Œè¿™ä¹Ÿä¼šè®©é¢è¯•å®˜è§‰å¾—ä½ æ˜¯ä¸€ä¸ªå¯¹å…¬å¸å’Œå¯¹è‡ªå·±éƒ½è´Ÿè´£çš„é¢è¯•è€…ï¼‰ ä¹‹åçš„è¯å¯èƒ½å°±æ˜¯å’ŒHRå’Œé«˜ç®¡çš„é¢è¯•äº†ï¼Œè¿™ä¸ªçš„è¯å°±çœ‹ä½ å‘æŒ¥äº†ï¼Œè®¨è®ºè–ªèµ„çš„è¯ä¹Ÿä¸è¦ä¸å¥½æ„æ€è¯´å‡ºå£ï¼Œå¦‚æœä½ çœŸçš„å¾ˆå–œæ¬¢é‚£å®¶å…¬å¸çš„è¯ï¼Œé‚£å³ä½¿ä½äºä½ çš„æœŸæœ›ï¼Œä½ åº”è¯¥ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ï¼Œå¦‚æœçœŸçš„ä¸çŸ¥é“å¼€å¤šå°‘çš„è¯ï¼Œä½ å¯ä»¥å§”å©‰ç‚¹è¡¨è¾¾ï¼Œè¯´æƒ³è¦å¾—åˆ°è´µå…¬å¸è¯¥èŒä½çš„æ­£å¸¸è–ªæ°´å¤šç™¾åˆ†ä¹‹ååˆ°ç™¾åˆ†ä¹‹ä¸‰åï¼Œå…·ä½“åé¢çš„å€¼å°±çœ‹ä½ é¢è¯•å‘æŒ¥å’Œä¸ªäººèƒ½åŠ›äº†ï¼Œä¸€èˆ¬å…¬å¸å¯¹ä¸€ä¸ªèŒä½è–ªæ°´éƒ½æœ‰ä¸€ä¸ªå¹…åº¦çš„ï¼Œä¹Ÿå°±æ˜¯é‚£ä¸ªèŒƒå›´ä¹‹é—´ã€‚å…·ä½“å…¶ä»–çš„é‚£å°±æ˜¯ä½ è‡ªå·±é—®äº†å“ˆï¼Œæ¯”å¦‚è¯•ç”¨æœŸæ—¶é•¿ï¼Œæ˜¯å¦åŒä¼‘ï¼Œäº”é™©ä¸€é‡‘ç­‰ï¼Œä½†åƒä¸‡ä¸è¦ä»€ä¹ˆçç¢éƒ½é—®ï¼Œæ¯”å¦‚é€šè®¯è´¹ã€å…¨å‹¤å¥–é‡‘ã€ç”Ÿæ—¥æ´¥è´´ç­‰ï¼Œè¿™æ ·åè€Œä¼šæ‰£ä½ çš„å°è±¡åˆ†ã€‚ ä½ ä»¥ä¸ºåˆ°è¿™åŸºæœ¬å·²ç»å®Œç»“äº†ï¼Œé‚£ä½ å°±é”™äº†ï¼Œæ˜¯ä¸ç»å¸¸æœ‰å°ä¼™ä¼´ç¢°åˆ°â€œå›å»ç­‰æˆ‘ä»¬é€šçŸ¥å§â€ï¼Œç„¶è€Œè‹¦è‹¦ä¹…ç­‰éƒ½æ²¡æœ‰ç­”å¤ã€‚æˆ‘åœ¨ä¸´èµ°å‰éƒ½ä¼šå¯¹HRæˆ–è€…é¢è¯•å®˜è¯´ï¼Œæ— è®ºç»“æœå¦‚ä½•ï¼Œè¯·è´µå…¬å¸å°½å¿«ç»™äºˆæˆ‘ç­”å¤ã€‚ å¥½äº†ï¼Œè¯´äº†è¿™ä¹ˆå¤šï¼ŒæŸ¯åŸºå¸Œæœ›ä½ ä»¬éƒ½èƒ½æ‰¾åˆ°å¦‚æ„çš„å·¥ä½œï¼Œè·³æ§½æˆåŠŸï¼Œè¿å¨¶ç™½å¯Œç¾ï¼Œèµ°ä¸Šäººç”Ÿå·…å³°ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>è·³æ§½</category>
      </categories>
      <tags>
        <tag>è·³æ§½</tag>
        <tag>ç®€å†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¥æ³¨é‡Šå¤§å…¨ï¼ˆæ¬¢è¿è¡¥å……ï¼‰]]></title>
    <url>%2F2017%2F01%2F11%2Fawesome-comment%2F</url>
    <content type="text"><![CDATA[awesome-commentæ¬¢è¿æäº¤issueæ¥å®Œå–„è¿™ä¸ªç¥çº§æ³¨é‡Š å†™åœ¨å‰é¢çš„è¯ï¼šä¸€æ—¶å…´èµ·å°±æ”¶é›†äº†ä»¥ä¸‹ç¥æ³¨é‡Šï¼Œå¸Œæœ›èƒ½ä¸ºå¹¿å¤§ITerå¸¦æ¥å¿«ä¹ï¼Œç¼“è§£ä½ ä»¬å·¥ä½œä¸­çš„å‹åŠ›ï¼Œä¸‹é¢å¼€è½¦ï¼Œå…ˆè‡ªçˆ†å¤´åƒï¼Œä¸‹æ–‡ä¼šç»™å‡ºåˆ¶ä½œé“¾æ¥ã€‚ 123456789101112131415161718192021222324252627282930313233343536/** * ç“¦ç“¦ å * åé½±é¾ å·± äº…ç“¦è»Šå·± * ä¹™é¾é¾ æ¯‹æ—¥ä¸¶ ä¸¶ä¹™å·±æ¯‹æ¯‹ä¸¶ * åé¾ é¦¬é¬¼è»Šç“¦ å·±åç“¦æ¯‹æ¯‹ * é¬¼é¦¬é¾ é¦¬é¾ å å·±å·±æ¯‹è»Šæ¯‹ç“¦ * æ¯‹é¾ é¾ é¾é¾ é¬¼ä¹™ä¸¶ä¸¶ä¹™è»Šä¹™æ¯‹é¬¼è»Šå·± * ä¹™é¾ é¾é¾é¬¼é¾ç“¦ åç“¦æ¯‹ä¹™ç“¦é¾ ç“¦äº… * é¦¬é½±é¾é¦¬é¬¼åä¸¶æ—¥å·±å·±å·±æ¯‹è»Šä¹™ä¸¶ * å·±é½±é¦¬é¬¼è»Šååæ¯‹æ—¥ä¹™å·±å·±ä¹™ä¹™ * è»Šé¦¬é½±é½±æ—¥ä¹™æ¯‹ç“¦å·±ä¹™ç“¦æ—¥äº… * äº…è»Šé½ºé¾–ç“¦ä¹™è»Šé¾–é¾ä¹™ä¹™å * æ—¥é¾ é¾ åäº…è»Šé¾æ¯‹åå * æ—¥æ¯‹å·±äº… å·±å·±åäº…äº… * ä¸¶å·±ååä¹™ ä¸¶ä¸¶ä¸¶ä¸¶ä¸¶ * äº…å·±åé¾é¾–ç“¦ ä¸¶ ä¸¶ ä¹™å * äº…å·±åé¾ é¾–æ¯‹ ä¸¶ä¸¶ ä¸¶å·±é¬¼é¬¼ç“¦äº… * åæ—¥ååæ—¥äº…ä¸¶äº…ä¸¶ ä¸¶åæ—¥æ¯‹é¬¼é¦¬é¦¬è»Šä¹™ * åæ—¥ä¹™åäº…äº…äº…ä¸¶ åä¹™å·±æ¯‹é¬¼é¬¼é¬¼é¾é½ºé¦¬ä¹™ * ä¸¶ç“¦å·±ä¹™ååäº…ä¸¶äº…ä¹™ä¹™ä¹™å·±æ¯‹é¬¼é¬¼é¬¼é¾é½±é½ºé½ºé¬¼å * ä¹™ä¹™åååäº…ä¹™ç“¦ç“¦å·±æ—¥ç“¦æ¯‹é¬¼é¬¼é¾ é½±é½±é¾é¾é½±é½±æ¯‹ä¸¶ * äº…ååååä¹™ç“¦è»Šæ¯‹ç“¦ç“¦æ—¥è»Šé¦¬é¾ é¾é¾é¾é¾é¾é¾ é¾ é¾ é¦¬äº… * ååååå·±æ¯‹è»Šç“¦ç“¦ç“¦ç“¦é¬¼é¦¬é¾ é¾é¾ é¾ é¾é¾ é¾ é¾ é¦¬é¾ è»Š * äº…ååæ—¥æ¯‹ç“¦æ—¥æ—¥ç“¦é¬¼é¬¼é¬¼é¾ é¾ é¦¬é¦¬é¾ é¾é¾é¾ é¦¬é¦¬è»Š * äº…äº…äº…ä¹™ç“¦ç“¦æ¯‹è»Šè»Šè»Šé¦¬é¾é¾ é¬¼é¬¼é¦¬é¾ é¾é¾é¾ é¦¬é¦¬é¬¼ * ä¸¶ä¸¶ä¹™äº…äº…ä¹™è»Šé¬¼é¬¼é¬¼æ¯‹è»Šé¾é¾é¾ é¬¼é¦¬é¦¬é¾ é¾é½±é½±é¾é¦¬é¬¼ * äº…å·±ååå·±åæ—¥é¬¼é¬¼è»Šç“¦æ¯‹é¾ é¾é¾ é¦¬é¦¬é¾ é¾ é¾ é½±é½ºé½ºé½±é¾ é¬¼ * äº…ä¹™ä¹™ä¹™åè»Šé¦¬è»Šæ¯‹é¦¬é½±é½±é¾é¾ é¾ é¾ é¦¬é¾ é¾é½±é¾é¾ é¾ é¬¼ç“¦ * ä¸¶æ¯‹é¾ é¬¼è»Šç“¦è»Šé¦¬é¾ é¾é¾ é¾ é¾é½±é½±é¾ é¦¬é¦¬é¬¼æ¯‹æ—¥ * åä¹™å·±æ—¥å ä¸¶å·±é¬¼é¾é½±é½ºé½±é¾é¦¬é¦¬é¦¬è»Šæ¯‹å·± * ä¸¶åå·±ä¹™äº…ä¸¶ äº…ç“¦é¦¬é¾ é¾é¾ é¾ é¦¬æ¯‹ç“¦ä¹™ * ä¸¶ååä¹™äº…å äº…å·±ç“¦è»Šé¦¬é¾ é¬¼è»Šç“¦ä¹™ * ä¸¶åä¹™ååä¸¶ ä¸¶ä¸¶äº…åç“¦é¬¼è»Šç“¦å·± * ä¸¶äº…äº…ä¸¶ äº…æ—¥ç“¦æ—¥ * ä¸¶ */ å°±ä¸å–å…³å­äº†ï¼Œå›¾ç‰‡è½¬å­—ç¬¦å¯ä»¥ä¸Šè¿™ä¸ªä¼ é€é—¨ï¼Œç™½åº•çš„è¯ä¼šæŒ‰ç©ºæ ¼è¡¥å…¨ï¼Œå¦åˆ™éƒ½ä¸ºå­—ç¬¦ã€‚ å‰é¢çš„ä¼ é€é—¨è²Œä¼¼å‡ºäº†ç‚¹é—®é¢˜ï¼Œä¸‹é¢å†è¡¥ä¸Šä¸ªæ–°çš„ä¼ é€é—¨ï¼Œä¹Ÿæ˜¯å¾ˆå¥½ç”¨çš„ï¼Œå¯ä»¥é€‰æ‹©è´¨é‡ã€‚ è¿™ä¸ï¼Œä¸‹é¢çš„ä¸¤åªdogeå’Œä¸€å¤´æ»‘ç¨½å°±æ˜¯äº§è‡ªäºå®ƒï¼Œhave funï¼Œå¿«å»åˆ¶ä½œä¸“å±çš„å­—ç¬¦æ³¨é‡Šå§ã€‚ å†è¡¥ä¸Šä¸€ä¸ªå¥½ç©çš„ç½‘ç«™Ascii Worldï¼Œç”±äºè¿™ç½‘ç«™çš„å›¾å½¢å¤ªå¤šäº†ï¼Œæˆ‘å°±ä¸è´´ä¸Šæ¥äº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798/** * .,:,,, .::,,,::. * .::::,,;;, .,;;:,,....:i: * :i,.::::,;i:. ....,,:::::::::,.... .;i:,. ......;i. * :;..:::;::::i;,,:::;:,,,,,,,,,,..,.,,:::iri:. .,:irsr:,.;i. * ;;..,::::;;;;ri,,,. ..,,:;s1s1ssrr;,.;r, * :;. ,::;ii;:, . ................... .;iirri;;;,,;i, * ,i. .;ri:. ... ............................ .,,:;:,,,;i: * :s,.;r:... ....................................... .::;::s; * ,1r::. .............,,,.,,:,,........................,;iir; * ,s;........... ..::.,;:,,. ...............,;1s * :i,..,. .,:,,::,. .......... .......;1, * ir,....:rrssr;:, ,,.,::. .r5S9989398G95hr;. ....,.:s, * ;r,..,s9855513XHAG3i .,,,,,,,. ,S931,.,,.;s;s&amp;BHHA8s.,..,..:r: * :r;..rGGh, :SAG;;G@BS:.,,,,,,,,,.r83: hHH1sXMBHHHM3..,,,,.ir. * ,si,.1GS, sBMAAX&amp;MBMB5,,,,,,:,,.:&amp;8 3@HXHBMBHBBH#X,.,,,,,,rr * ;1:,,SH: .A@&amp;&amp;B#&amp;8H#BS,,,,,,,,,.,5XS, 3@MHABM&amp;59M#As..,,,,:,is, * .rr,,,;9&amp;1 hBHHBB&amp;8AMGr,,,,,,,,,,,:h&amp;&amp;9s; r9&amp;BMHBHMB9: . .,,,,;ri. * :1:....:5&amp;XSi;r8BMBHHA9r:,......,,,,:ii19GG88899XHHH&amp;GSr. ...,:rs. * ;s. .:sS8G8GG889hi. ....,,:;:,.:irssrriii:,. ...,,i1, * ;1, ..,....,,isssi;, .,,. ....,.i1, * ;h: i9HHBMBBHAX9: . ...,,,rs, * ,1i.. :A#MBBBBMHB##s ....,,,;si. * .r1,.. ,..;3BMBBBHBB#Bh. .. ....,,,,,i1; * :h;.. .,..;,1XBMMMMBXs,.,, .. :: ,. ....,,,,,,ss. * ih: .. .;;;, ;;:s58A3i,.. ,. ,.:,,. ...,,,,,:,s1, * .s1,.... .,;sh, ,iSAXs;. ,. ,,.i85 ...,,,,,,:i1; * .rh: ... rXG9XBBM#M#MHAX3hss13&amp;&amp;HHXr .....,,,,,,,ih; * .s5: ..... i598X&amp;&amp;A&amp;AAAAAA&amp;XG851r: ........,,,,:,,sh; * . ihr, ... . .. ........,,,,,;11:. * ,s1i. ... ..,,,..,,,.,,.,,.,.. ........,,.,,.;s5i. * .:s1r,...................... ..............;shs, * . .:shr:. .... ..............,ishs. * .,issr;,... ...........................,is1s;. * .,is1si;:,....................,:;ir1sr;, * ..:isssssrrii;::::::;;iirsssssr;:.. * .,::iiirsssssssssrri;;:. */ /** * ii. ;9ABH, * SA391, .r9GG35&amp;G * &amp;#ii13Gh; i3X31i;:,rB1 * iMs,:,i5895, .5G91:,:;:s1:8A * 33::::,,;5G5, ,58Si,,:::,sHX;iH1 * Sr.,:;rs13BBX35hh11511h5Shhh5S3GAXS:.,,::,,1AG3i,GG * .G51S511sr;;iiiishS8G89Shsrrsh59S;.,,,,,..5A85Si,h8 * :SB9s:,............................,,,.,,,SASh53h,1G. * .r18S;..,,,,,,,,,,,,,,,,,,,,,,,,,,,,,....,,.1H315199,rX, * ;S89s,..,,,,,,,,,,,,,,,,,,,,,,,....,,.......,,,;r1ShS8,;Xi * i55s:.........,,,,,,,,,,,,,,,,.,,,......,.....,,....r9&amp;5.:X1 * 59;.....,. .,,,,,,,,,,,... .............,..:1;.:&amp;s * s8,..;53S5S3s. .,,,,,,,.,.. i15S5h1:.........,,,..,,:99 * 93.:39s:rSGB@A; ..,,,,..... .SG3hhh9G&amp;BGi..,,,,,,,,,,,,.,83 * G5.G8 9#@@@@@X. .,,,,,,..... iA9,.S&amp;B###@@Mr...,,,,,,,,..,.;Xh * Gs.X8 S@@@@@@@B:..,,,,,,,,,,. rA1 ,A@@@@@@@@@H:........,,,,,,.iX: * ;9. ,8A#@@@@@@#5,.,,,,,,,,,... 9A. 8@@@@@@@@@@M; ....,,,,,,,,S8 * X3 iS8XAHH8s.,,,,,,,,,,...,..58hH@@@@@@@@@Hs ...,,,,,,,:Gs * r8, ,,,...,,,,,,,,,,..... ,h8XABMMHX3r. .,,,,,,,.rX: * :9, . .:,..,:;;;::,.,,,,,.. .,,. ..,,,,,,.59 * .Si ,:.i8HBMMMMMB&amp;5,.... . .,,,,,.sMr * SS :: h@@@@@@@@@@#; . ... . ..,,,,iM5 * 91 . ;:.,1&amp;@@@@@@MXs. . .,,:,:&amp;S * hS .... .:;,,,i3MMS1;..,..... . . ... ..,:,.99 * ,8; ..... .,:,..,8Ms:;,,,... .,::.83 * s&amp;: .... .sS553B@@HX3s;,. .,;13h. .:::&amp;1 * SXr . ...;s3G99XA&amp;X88Shss11155hi. ,;:h&amp;, * iH8: . .. ,;iiii;,::,,,,,. .;irHA * ,8X5; . ....... ,;iihS8Gi * 1831, .,;irrrrrs&amp;@ * ;5A8r. .:;iiiiirrss1H * :X@H3s....... .,:;iii;iiiiirsrh * r#h:;,...,,.. .,,:;;;;;:::,... .:;;;;;;iiiirrss1 * ,M8 ..,....,.....,,::::::,,... . .,;;;iiiiiirss11h * 8B;.,,,,,,,.,..... . .. .:;;;;iirrsss111h * i@5,:::,,,,,,,,.... . . .:::;;;;;irrrss111111 * 9Bi,:,,,,...... ..r91;;;;;iirrsss1ss1111 *//** * .,, .,:;;iiiiiiiii;;:,,. .,, * rGB##HS,.;iirrrrriiiiiiiiiirrrrri;,s&amp;##MAS, * r5s;:r3AH5iiiii;;;;;;;;;;;;;;;;iiirXHGSsiih1, * .;i;;s91;;;;;;::::::::::::;;;;iS5;;;ii: * :rsriii;;r::::::::::::::::::::::;;,;;iiirsi, * .,iri;;::::;;;;;;::,,,,,,,,,,,,,..,,;;;;;;;;iiri,,. * ,9BM&amp;, .,:;;:,,,,,,,,,,,hXA8: ..,,,. * ,;&amp;@@#r:;;;;;::::,,. ,r,,,,,,,,,,iA@@@s,,:::;;;::,,. .;. * :ih1iii;;;;;::::;;;;;;;:,,,,,,,,,,;i55r;;;;;;;;;iiirrrr,.. * .ir;;iiiiiiiiii;;;;::::::,,,,,,,:::::,,:;;;iiiiiiiiiiiiri * iriiiiiiiiiiiiiiii;;;::::::::::::::::;;;iiiiiiiiiiiiiiiir; * ,riii;;;;;;;;;;;;;:::::::::::::::::::::::;;;;;;;;;;;;;;iiir. * iri;;;::::,,,,,,,,,,:::::::::::::::::::::::::,::,,::::;;iir: * .rii;;::::,,,,,,,,,,,,:::::::::::::::::,,,,,,,,,,,,,::::;;iri * ,rii;;;::,,,,,,,,,,,,,:::::::::::,:::::,,,,,,,,,,,,,:::;;;iir. * ,rii;;i::,,,,,,,,,,,,,:::::::::::::::::,,,,,,,,,,,,,,::i;;iir. * ,rii;;r::,,,,,,,,,,,,,:,:::::,:,:::::::,,,,,,,,,,,,,::;r;;iir. * .rii;;rr,:,,,,,,,,,,,,,,:::::::::::::::,,,,,,,,,,,,,:,si;;iri * ;rii;:1i,,,,,,,,,,,,,,,,,,:::::::::,,,,,,,,,,,,,,,:,ss:;iir: * .rii;;;5r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,sh:;;iri * ;rii;:;51,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,.:hh:;;iir, * irii;::hSr,.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,.,sSs:;;iir: * irii;;:iSSs:.,,,,,,,,,,,,,,,,,,,,,,,,,,,..:135;:;;iir: * ;rii;;:,r535r:...,,,,,,,,,,,,,,,,,,..,;sS35i,;;iirr: * :rrii;;:,;1S3Shs;:,............,:is533Ss:,;;;iiri, * .;rrii;;;:,;rhS393S55hh11hh5S3393Shr:,:;;;iirr: * .;rriii;;;::,:;is1h555555h1si;:,::;;;iirri:. * .:irrrii;;;;;:::,,,,,,,,:::;;;;iiirrr;, * .:irrrriiiiii;;;;;;;;iiiiiirrrr;,. * .,:;iirrrrrrrrrrrrrrrrri;:. * ..,:::;;;;:::,,. */ /** * â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” * â”‚Escâ”‚ â”‚ F1â”‚ F2â”‚ F3â”‚ F4â”‚ â”‚ F5â”‚ F6â”‚ F7â”‚ F8â”‚ â”‚ F9â”‚F10â”‚F11â”‚F12â”‚ â”‚P/Sâ”‚S Lâ”‚P/Bâ”‚ â”Œâ” â”Œâ” â”Œâ” * â””â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”˜ â””â”˜ â””â”˜ * â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” * â”‚~ `â”‚! 1â”‚@ 2â”‚# 3â”‚$ 4â”‚% 5â”‚^ 6â”‚&amp; 7â”‚* 8â”‚( 9â”‚) 0â”‚_ -â”‚+ =â”‚ BacSp â”‚ â”‚Insâ”‚Homâ”‚PUpâ”‚ â”‚N Lâ”‚ / â”‚ * â”‚ - â”‚ * â”œâ”€â”€â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤ * â”‚ Tab â”‚ Q â”‚ W â”‚ E â”‚ R â”‚ T â”‚ Y â”‚ U â”‚ I â”‚ O â”‚ P â”‚&#123; [â”‚&#125; ]â”‚ | \ â”‚ â”‚Delâ”‚Endâ”‚PDnâ”‚ â”‚ 7 â”‚ 8 â”‚ 9 â”‚ â”‚ * â”œâ”€â”€â”€â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”€â”€â”€â”€â”€â”¤ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤ + â”‚ * â”‚ Caps â”‚ A â”‚ S â”‚ D â”‚ F â”‚ G â”‚ H â”‚ J â”‚ K â”‚ L â”‚: ;â”‚&quot; &apos;â”‚ Enter â”‚ â”‚ 4 â”‚ 5 â”‚ 6 â”‚ â”‚ * â”œâ”€â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”Œâ”€â”€â”€â” â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤ * â”‚ Shift â”‚ Z â”‚ X â”‚ C â”‚ V â”‚ B â”‚ N â”‚ M â”‚&lt; ,â”‚&gt; .â”‚? /â”‚ Shift â”‚ â”‚ â†‘ â”‚ â”‚ 1 â”‚ 2 â”‚ 3 â”‚ â”‚ * â”œâ”€â”€â”€â”€â”€â”¬â”€â”€â”´â”€â”¬â”€â”´â”€â”€â”¬â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”¬â”´â”€â”€â”€â”¼â”€â”€â”€â”´â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¤ â”Œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â” â”œâ”€â”€â”€â”´â”€â”€â”€â”¼â”€â”€â”€â”¤ Eâ”‚â”‚ * â”‚ Ctrlâ”‚ â”‚Alt â”‚ Space â”‚ Altâ”‚ â”‚ â”‚Ctrlâ”‚ â”‚ â† â”‚ â†“ â”‚ â†’ â”‚ â”‚ 0 â”‚ . â”‚â†â”€â”˜â”‚ * â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ *//** * _ooOoo_ * o8888888o * 88&quot; . &quot;88 * (| -_- |) * O\ = /O * ____/`---&apos;\____ * . &apos; \\| |// `. * / \\||| : |||// \ * / _||||| -:- |||||- \ * | | \\\ - /// | | * | \_| &apos;&apos;\---/&apos;&apos; | | * \ .-\__ `-` ___/-. / * ___`. .&apos; /--.--\ `. . __ * .&quot;&quot; &apos;&lt; `.___\_&lt;|&gt;_/___.&apos; &gt;&apos;&quot;&quot;. * | | : `- \`.;`\ _ /`;.`/ - ` : | | * \ \ `-. \_ __\ /__ _/ .-` / / * ======`-.____`-.___\_____/___.-`____.-&apos;====== * `=---=&apos; * * ............................................. * ä½›ç¥–ä¿ä½‘ æ°¸æ— BUG *//** * ä½›æ›°: * å†™å­—æ¥¼é‡Œå†™å­—é—´ï¼Œå†™å­—é—´é‡Œç¨‹åºå‘˜ï¼› * ç¨‹åºäººå‘˜å†™ç¨‹åºï¼Œåˆæ‹¿ç¨‹åºæ¢é…’é’±ã€‚ * é…’é†’åªåœ¨ç½‘ä¸Šåï¼Œé…’é†‰è¿˜æ¥ç½‘ä¸‹çœ ï¼› * é…’é†‰é…’é†’æ—¥å¤æ—¥ï¼Œç½‘ä¸Šç½‘ä¸‹å¹´å¤å¹´ã€‚ * ä½†æ„¿è€æ­»ç”µè„‘é—´ï¼Œä¸æ„¿é èº¬è€æ¿å‰ï¼› * å¥”é©°å®é©¬è´µè€…è¶£ï¼Œå…¬äº¤è‡ªè¡Œç¨‹åºå‘˜ã€‚ * åˆ«äººç¬‘æˆ‘å¿’ç–¯ç™«ï¼Œæˆ‘ç¬‘è‡ªå·±å‘½å¤ªè´±ï¼› * ä¸è§æ»¡è¡—æ¼‚äº®å¦¹ï¼Œå“ªä¸ªå½’å¾—ç¨‹åºå‘˜ï¼Ÿ *//** * _ooOoo_ * o8888888o * 88&quot; . &quot;88 * (| -_- |) * O\ = /O * ___/`---&apos;\____ * . &apos; \\| |// `. * / \\||| : |||// \ * / _||||| -:- |||||- \ * | | \\\ - /// | | * | \_| &apos;&apos;\---/&apos;&apos; | | * \ .-\__ `-` ___/-. / * ___`. .&apos; /--.--\ `. . __ * .&quot;&quot; &apos;&lt; `.___\_&lt;|&gt;_/___.&apos; &gt;&apos;&quot;&quot;. * | | : `- \`.;`\ _ /`;.`/ - ` : | | * \ \ `-. \_ __\ /__ _/ .-` / / * ======`-.____`-.___\_____/___.-`____.-&apos;====== * `=---=&apos; * ............................................. * ä½›æ›°ï¼šbugæ³›æ»¥ï¼Œæˆ‘å·²ç˜«ç—ªï¼ *//** * * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–ˆ â–ˆâ–ˆ â–„â–ˆâ–ˆâ–ˆâ–ˆâ–„ â–ˆâ–ˆ â–„â–ˆâ–€ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•— â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— * â–“â–ˆâ–ˆ â–’ â–ˆâ–ˆ â–“â–ˆâ–ˆâ–’â–’â–ˆâ–ˆâ–€ â–€â–ˆ â–ˆâ–ˆâ–„â–ˆâ–’ â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â• * â–’â–ˆâ–ˆâ–ˆâ–ˆ â–‘â–“â–ˆâ–ˆ â–’â–ˆâ–ˆâ–‘â–’â–“â–ˆ â–„ â–“â–ˆâ–ˆâ–ˆâ–„â–‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ•— * â–‘â–“â–ˆâ–’ â–‘â–“â–“â–ˆ â–‘â–ˆâ–ˆâ–‘â–’â–“â–“â–„ â–„â–ˆâ–ˆâ–’â–“â–ˆâ–ˆ â–ˆâ–„ â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•‘ * â–‘â–’â–ˆâ–‘ â–’â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“ â–’ â–“â–ˆâ–ˆâ–ˆâ–€ â–‘â–’â–ˆâ–ˆâ–’ â–ˆâ–„ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• * â–’ â–‘ â–‘â–’â–“â–’ â–’ â–’ â–‘ â–‘â–’ â–’ â–‘â–’ â–’â–’ â–“â–’ â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• * â–‘ â–‘â–‘â–’â–‘ â–‘ â–‘ â–‘ â–’ â–‘ â–‘â–’ â–’â–‘ * â–‘ â–‘ â–‘â–‘â–‘ â–‘ â–‘ â–‘ â–‘ â–‘â–‘ â–‘ * â–‘ â–‘ â–‘ â–‘ â–‘ *//** * .::::. * .::::::::. * ::::::::::: FUCK YOU * ..:::::::::::&apos; * &apos;::::::::::::&apos; * .:::::::::: * &apos;::::::::::::::.. * ..::::::::::::. * ``:::::::::::::::: * ::::``:::::::::&apos; .:::. * ::::&apos; &apos;:::::&apos; .::::::::. * .::::&apos; :::: .:::::::&apos;::::. * .:::&apos; ::::: .:::::::::&apos; &apos;:::::. * .::&apos; :::::.:::::::::&apos; &apos;:::::. * .::&apos; ::::::::::::::&apos; ``::::. * ...::: ::::::::::::&apos; ``::. * ```` &apos;:. &apos;:::::::::&apos; ::::.. * &apos;.:::::&apos; &apos;:&apos;````.. *//** * â”Œâ”€â” â”Œâ”€â” * â”Œâ”€â”€â”˜ â”´â”€â”€â”€â”€â”€â”€â”€â”˜ â”´â”€â”€â” * â”‚ â”‚ * â”‚ â”€â”€â”€ â”‚ * â”‚ â”€â”¬â”˜ â””â”¬â”€ â”‚ * â”‚ â”‚ * â”‚ â”€â”´â”€ â”‚ * â”‚ â”‚ * â””â”€â”€â”€â” â”Œâ”€â”€â”€â”˜ * â”‚ â”‚ * â”‚ â”‚ * â”‚ â”‚ * â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” * â”‚ â”‚ * â”‚ â”œâ”€â” * â”‚ â”Œâ”€â”˜ * â”‚ â”‚ * â””â”€â” â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â” â”Œâ”€â”€â”˜ * â”‚ â”€â”¤ â”€â”¤ â”‚ â”€â”¤ â”€â”¤ * â””â”€â”€â”´â”€â”€â”˜ â””â”€â”€â”´â”€â”€â”˜ * ç¥å…½ä¿ä½‘ * ä»£ç æ— BUG! *//** * â”Œâ”€â” â”Œâ”€â” * â”Œâ”€â”€â”˜ â”´â”€â”€â”€â”€â”€â”€â”€â”˜ â”´â”€â”€â” * â”‚ â”‚ * â”‚ â”€â”€â”€ â”‚ * â”‚ &gt; &lt; â”‚ * â”‚ â”‚ * â”‚ ... âŒ’ ... â”‚ * â”‚ â”‚ * â””â”€â”€â”€â” â”Œâ”€â”€â”€â”˜ * â”‚ â”‚ * â”‚ â”‚ * â”‚ â”‚ * â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” * â”‚ â”‚ * â”‚ â”œâ”€â” * â”‚ â”Œâ”€â”˜ * â”‚ â”‚ * â””â”€â” â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â” â”Œâ”€â”€â”˜ * â”‚ â”€â”¤ â”€â”¤ â”‚ â”€â”¤ â”€â”¤ * â””â”€â”€â”´â”€â”€â”˜ â””â”€â”€â”´â”€â”€â”˜ * ç¥å…½ä¿ä½‘ * ä»£ç æ— BUG! *//** * â”Œâ”€â” â”Œâ”€â” + + * â”Œâ”€â”€â”˜ â”´â”€â”€â”€â”€â”€â”€â”€â”˜ â”´â”€â”€â”++ * â”‚ â”‚ * â”‚ â”€â”€â”€ â”‚++ + + + * â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚+ * â”‚ â”‚+ * â”‚ â”€â”´â”€ â”‚ * â”‚ â”‚ * â””â”€â”€â”€â” â”Œâ”€â”€â”€â”˜ * â”‚ â”‚ * â”‚ â”‚ + + * â”‚ â”‚ * â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” * â”‚ â”‚ * â”‚ â”œâ”€â” * â”‚ â”Œâ”€â”˜ * â”‚ â”‚ * â””â”€â” â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â” â”Œâ”€â”€â”˜ + + + + * â”‚ â”€â”¤ â”€â”¤ â”‚ â”€â”¤ â”€â”¤ * â””â”€â”€â”´â”€â”€â”˜ â””â”€â”€â”´â”€â”€â”˜ + + + + * ç¥å…½ä¿ä½‘ * ä»£ç æ— BUG! *//** * ___====-_ _-====___ * _--^^^#####// \\#####^^^--_ * _-^##########// ( ) \\##########^-_ * -############// |\^^/| \\############- * _/############// (@::@) \\############\_ * /#############(( \\// ))#############\ * -###############\\ (oo) //###############- * -#################\\ / VV \ //#################- * -###################\\/ \//###################- * _#/|##########/\######( /\ )######/\##########|\#_ * |/ |#/\#/\#/\/ \#/\##\ | | /##/\#/ \/\#/\#/\#| \| * ` |/ V V ` V \#\| | | |/#/ V &apos; V V \| &apos; * ` ` ` ` / | | | | \ &apos; &apos; &apos; &apos; * ( | | | | ) * __\ | | | | /__ * (vvv(VVV)(VVV)vvv) * ç¥å…½ä¿ä½‘ * ä»£ç æ— BUG! *//** * * * __----~~~~~~~~~~~------___ * . . ~~//====...... __--~ ~~ * -. \_|// |||\\ ~~~~~~::::... /~ * ___-==_ _-~o~ \/ ||| \\ _/~~- * __---~~~.==~||\=_ -_--~/_-~|- |\\ \\ _/~ * _-~~ .=~ | \\-_ &apos;-~7 /- / || \ / * .~ .~ | \\ -_ / /- / || \ / * / ____ / | \\ ~-_/ /|- _/ .|| \ / * |~~ ~~|--~~~~--_ \ ~==-/ | \~--===~~ .\ * &apos; ~-| /| |-~\~~ __--~~ * |-~~-_/ | | ~\_ _-~ /\ * / \ \__ \/~ \__ * _--~ _/ | .-~~____--~-/ ~~==. * ((-&gt;/~ &apos;.|||&apos; -_| ~~-/ , . _|| * -_ ~\ ~~---l__i__i__i--~~_/ * _-~-__ ~) \--______________--~~ * //.-~~~-~_--~- |-------~~~~~~~~ * //.-~~~--\ * ç¥å…½ä¿ä½‘ * ä»£ç æ— BUG! *//** _ * _._ _..._ .-&apos;, _.._(`)) * &apos;-. ` &apos; /-._.-&apos; &apos;,/ * ) \ &apos;. * / _ _ | \ * | a a / | * \ .-. ; * &apos;-(&apos;&apos; ).-&apos; ,&apos; ; * &apos;-; | .&apos; * \ \ / * | 7 .__ _.-\ \ * | | | ``/ /` / * /,_| | /,_/ / * /,_/ &apos;`-&apos; *//** ************************************************************** * * * .=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-. * * | ______ | * * | .-&quot; &quot;-. | * * | / \ | * * | _ | | _ | * * | ( \ |, .-. .-. ,| / ) | * * | &gt; &quot;=._ | )(__/ \__)( | _.=&quot; &lt; | * * | (_/&quot;=._&quot;=._ |/ /\ \| _.=&quot;_.=&quot;\_) | * * | &quot;=._&quot;(_ ^^ _)&quot;_.=&quot; | * * | &quot;=\__|IIIIII|__/=&quot; | * * | _.=&quot;| \IIIIII/ |&quot;=._ | * * | _ _.=&quot;_.=&quot;\ /&quot;=._&quot;=._ _ | * * | ( \_.=&quot;_.=&quot; `--------` &quot;=._&quot;=._/ ) | * * | &gt; _.=&quot; &quot;=._ &lt; | * * | (_/ \_) | * * | | * * &apos;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&apos; * * * * LASCIATE OGNI SPERANZA, VOI CH&apos;ENTRATE * ************************************************************** *//** * ,s555SB@@&amp; * :9H####@@@@@Xi * 1@@@@@@@@@@@@@@8 * ,8@@@@@@@@@B@@@@@@8 * :B@@@@X3hi8Bs;B@@@@@Ah, * ,8i r@@@B: 1S ,M@@@@@@#8; * 1AB35.i: X@@8 . SGhr ,A@@@@@@@@S * 1@h31MX8 18Hhh3i .i3r ,A@@@@@@@@@5 * ;@&amp;i,58r5 rGSS: :B@@@@@@@@@@A * 1#i . 9i hX. .: .5@@@@@@@@@@@1 * sG1, ,G53s. 9#Xi;hS5 3B@@@@@@@B1 * .h8h.,A@@@MXSs, #@H1: 3ssSSX@1 * s ,@@@@@@@@@@@@Xhi, r#@@X1s9M8 .GA981 * ,. rS8H#@@@@@@@@@@#HG51;. .h31i;9@r .8@@@@BS;i; * .19AXXXAB@@@@@@@@@@@@@@#MHXG893hrX#XGGXM@@@@@@@@@@MS * s@@MM@@@hsX#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&amp;, * :GB@#3G@@Brs ,1GM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@B, * .hM@@@#@@#MX 51 r;iSGAM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@8 * :3B@@@@@@@@@@@&amp;9@h :Gs .;sSXH@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@: * s&amp;HA#@@@@@@@@@@@@@@M89A;.8S. ,r3@@@@@@@@@@@@@@@@@@@@@@@@@@@r * ,13B@@@@@@@@@@@@@@@@@@@5 5B3 ;. ;@@@@@@@@@@@@@@@@@@@@@@@@@@@i * 5#@@#&amp;@@@@@@@@@@@@@@@@@@9 .39: ;@@@@@@@@@@@@@@@@@@@@@@@@@@@; * 9@@@X:MM@@@@@@@@@@@@@@@#; ;31. H@@@@@@@@@@@@@@@@@@@@@@@@@@: * SH#@B9.rM@@@@@@@@@@@@@B :. 3@@@@@@@@@@@@@@@@@@@@@@@@@@5 * ,:. 9@@@@@@@@@@@#HB5 .M@@@@@@@@@@@@@@@@@@@@@@@@@B * ,ssirhSM@&amp;1;i19911i,. s@@@@@@@@@@@@@@@@@@@@@@@@@@S * ,,,rHAri1h1rh&amp;@#353Sh: 8@@@@@@@@@@@@@@@@@@@@@@@@@#: * .A3hH@#5S553&amp;@@#h i:i9S #@@@@@@@@@@@@@@@@@@@@@@@@@A. * * * åˆçœ‹æºç ï¼Œçœ‹ä½ å¦¹å¦¹å‘€ï¼ *//** *_______________#########_______________________ *______________############_____________________ *______________#############____________________ *_____________##__###########___________________ *____________###__######_#####__________________ *____________###_#######___####_________________ *___________###__##########_####________________ *__________####__###########_####_______________ *________#####___###########__#####_____________ *_______######___###_########___#####___________ *_______#####___###___########___######_________ *______######___###__###########___######_______ *_____######___####_##############__######______ *____#######__#####################_#######_____ *____#######__##############################____ *___#######__######_#################_#######___ *___#######__######_######_#########___######___ *___#######____##__######___######_____######___ *___#######________######____#####_____#####____ *____######________#####_____#####_____####_____ *_____#####________####______#####_____###______ *______#####______;###________###______#________ *________##_______####________####______________ *//** * ,%%%%%%%%, * ,%%/\%%%%/\%% * ,%%%\c &quot;&quot; J/%%% * %. %%%%/ o o \%%% * `%%. %%%% _ |%%% * `%% `%%%%(__Y__)%%&apos; * // ;%%%%`\-/%%%&apos; * (( / `%%%%%%%&apos; * \\ .&apos; | * \\ / \ | | * \\/ ) | | * \ /_ | |__ * (___________))))))) æ”»åŸæ¹¿ * * _ _ * __ _(_)_ _(_) __ _ _ __ * \ \ / / \ \ / / |/ _` |&apos;_ \ * \ V /| |\ V /| | (_| | | | | * \_/ |_| \_/ |_|\__,_|_| |_| *//** * https://gold.xitu.io/ * ï¼‘ï¼‘ï¼‘ ï¼‘ * ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ * ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ * ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ * ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ï¼‘ *//** * https://www.zhihu.com/ * _____ _____ _____ _____ * /\ \ /\ \ /\ \ /\ \ * /::\____\ /::\ \ /::\ \ /::\ \ * /:::/ / \:::\ \ /::::\ \ /::::\ \ * /:::/ / \:::\ \ /::::::\ \ /::::::\ \ * /:::/ / \:::\ \ /:::/\:::\ \ /:::/\:::\ \ * /:::/____/ \:::\ \ /:::/__\:::\ \ /:::/__\:::\ \ * /::::\ \ /::::\ \ /::::\ \:::\ \ /::::\ \:::\ \ * /::::::\ \ _____ ____ /::::::\ \ /::::::\ \:::\ \ /::::::\ \:::\ \ * /:::/\:::\ \ /\ \ /\ \ /:::/\:::\ \ /:::/\:::\ \:::\____\ /:::/\:::\ \:::\ \ * /:::/ \:::\ /::\____\/::\ \/:::/ \:::\____\/:::/ \:::\ \:::| |/:::/__\:::\ \:::\____\ * \::/ \:::\ /:::/ /\:::\ /:::/ \::/ /\::/ |::::\ /:::|____|\:::\ \:::\ \::/ / * \/____/ \:::\/:::/ / \:::\/:::/ / \/____/ \/____|:::::\/:::/ / \:::\ \:::\ \/____/ * \::::::/ / \::::::/ / |:::::::::/ / \:::\ \:::\ \ * \::::/ / \::::/____/ |::|\::::/ / \:::\ \:::\____\ * /:::/ / \:::\ \ |::| \::/____/ \:::\ \::/ / * /:::/ / \:::\ \ |::| ~| \:::\ \/____/ * /:::/ / \:::\ \ |::| | \:::\ \ * /:::/ / \:::\____\ \::| | \:::\____\ * \::/ / \::/ / \:| | \::/ / * \/____/ \/____/ \|___| \/____/ *//** * http://www.freebuf.com/ * _.._ ,------------. * ,&apos; `. ( We want you! ) * / __) __` \ `-,----------&apos; * ( (`-`(-&apos;) ) _.-&apos; * /) \ = / ( * /&apos; |--&apos; . \ * ( ,---| `-.)__` * )( `-.,--&apos; _`-. * &apos;/,&apos; ( Uu&quot;, * (_ , `/,-&apos; ) * `.__, : `-&apos;/ /`--&apos; * | `--&apos; | * ` `-._ / * \ ( * /\ . \. freebuf * / |` \ ,-\ * / \| .) / \ * ( ,&apos;|\ ,&apos; : * | \,`.`--&quot;/ &#125; * `,&apos; \ |,&apos; / * / &quot;-._ `-/ | * &quot;-. &quot;-.,&apos;| ; * / _/[&quot;---&apos;&quot;&quot;] * : / |&quot;- &apos; * &apos; | / * ` | *//** * https://campus.alibaba.com/ * `:::::::::::, * `::;:::::::;:::::::, ` * `::;;:::::::@@@@;:::::::` * ,:::::::::::::@ #@&apos;:::::` * :::::::::::::::&apos;@@ @;:::: * ::::::::::::&apos;@@@@&apos;``` .+:::` * ::::::::::;@@@#. ,:::, * .::::::::+@#@` :::: * :::::::+@@&apos; :::: * `:::::&apos;@@: `:::. * ,::::@@: ` :::: * ;::::::@ .:::; * :;:::::;@` ` :::; * :::::::::@` @ ;:::: * :::::::::#` @` ,:::: * :::::::::@` +@ @ .::::` * .::::::&apos;@@` `@@&apos; @ ::::, * :::::::++@@@@@@@@@@. ::::; * ;:::::::+, `..` ::::: * ,::::::::&apos;, ::::: * :::::::::+, :::::` * :::::::::+@. ,::::.` `, * ::::::;;@+ .::;:: `; * :::::::@@ `:::;: `::`` * ::::::#@ ;:::: .::` * :::::;@ :::::` .;::` * :::::@ `:;::: `::::; * :::::# :::::. `,;::::: * :::::: ` ::::::,.,::::::::::. * ,::::::` .:: ::::::::::::::::;` * ;::::::::,````.,:::::, ::::::::::::::. * :::::::::::::::::: ` `::::::::::` * `::::::::::::, .:::. * `..` *//** * http://www.flvcd.com/ * .--, .--, * ( ( \.---./ ) ) * &apos;.__/o o\__.&apos; * &#123;= ^ =&#125; * &gt; - &lt; * / \ * // \\ * //| . |\\ * &quot;&apos;\ /&apos;&quot;_.-~^`&apos;-. * \ _ /--&apos; ` * ___)( )(___ * (((__) (__))) é«˜å±±ä»°æ­¢,æ™¯è¡Œè¡Œæ­¢.è™½ä¸èƒ½è‡³,å¿ƒå‘å¾€ä¹‹ã€‚ *//** * é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚ é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚ * é ‚é ‚é ‚é ‚é ‚é ‚é ‚ é ‚é ‚ * é ‚é ‚ é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚ * é ‚é ‚ é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚é ‚ * é ‚é ‚ é ‚é ‚ é ‚é ‚ * é ‚é ‚ é ‚é ‚ é ‚é ‚é ‚ é ‚é ‚ * é ‚é ‚ é ‚é ‚ é ‚é ‚é ‚ é ‚é ‚ * é ‚é ‚ é ‚é ‚ é ‚é ‚é ‚ é ‚é ‚ * é ‚é ‚ é ‚é ‚ é ‚é ‚é ‚ é ‚é ‚ * é ‚é ‚ é ‚é ‚é ‚ * é ‚é ‚ é ‚é ‚ é ‚é ‚ é ‚é ‚ * é ‚é ‚é ‚é ‚ é ‚é ‚é ‚é ‚é ‚ é ‚é ‚é ‚é ‚é ‚ * é ‚é ‚é ‚é ‚ é ‚é ‚é ‚é ‚ é ‚é ‚é ‚é ‚ *//** * â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–„â–‘â–‘ * â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–„â–€â–’â–Œâ–‘ * â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–â–€â–’â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–„â–€â–’â–’â–’â– * â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–â–„â–€â–’â–’â–€â–€â–€â–€â–„â–„â–„â–€â–’â–’â–’â–’â–’â– * â–‘â–‘â–‘â–‘â–‘â–„â–„â–€â–’â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â–’â–„â–ˆâ–’â– * â–‘â–‘â–‘â–„â–€â–’â–’â–’â–‘â–‘â–‘â–’â–’â–’â–‘â–‘â–‘â–’â–’â–’â–€â–ˆâ–ˆâ–€â–’â–Œ * â–‘â–‘â–â–’â–’â–’â–„â–„â–’â–’â–’â–’â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–€â–„â–’â–’ * â–‘â–‘â–Œâ–‘â–‘â–Œâ–ˆâ–€â–’â–’â–’â–’â–’â–„â–€â–ˆâ–„â–’â–’â–’â–’â–’â–’â–’â–ˆâ–’â– * â–‘â–â–‘â–‘â–‘â–’â–’â–’â–’â–’â–’â–’â–’â–Œâ–ˆâ–ˆâ–€â–’â–’â–‘â–‘â–‘â–’â–’â–’â–€â–„ * â–‘â–Œâ–‘â–’â–„â–ˆâ–ˆâ–„â–’â–’â–’â–’â–’â–’â–’â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’â–’ * â–€â–’â–€â–â–„â–ˆâ–„â–ˆâ–Œâ–„â–‘â–€â–’â–’â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’ * å•èº«ç‹—å°±è¿™æ ·é»˜é»˜åœ°çœ‹ç€ä½ ï¼Œä¸€å¥è¯ä¹Ÿä¸è¯´ã€‚ *//** * /88888888888888888888888888\ * |88888888888888888888888888/ * |~~____~~~~~~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;| * / \_________/&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\ * / | \ \ * / | 88 88 \ \ * / | 88 88 \ \ * / / \ | * / | ________ \ | * \ | \______/ / | * /&quot;\ \ \____________ / | * | |__________\_ | | / / * /&quot;&quot;&quot;&quot;\ \_------&apos; &apos;-------/ -- * \____/,___________\ -------/ * ------* | \ * || | \ * || | ^ \ * || | | \ \ * || | | \ \ * || | | \ \ * \| / /&quot;&quot;&quot;\/ / * ------------- | | / * |\--_ \____/___/ * | |\-_ | * | | \_ | * | | \ | * | | \_ | * | | ----___ | * | | \----------| * / | | ----------&quot;&quot;\ * /&quot;\--&quot;--_| | | \ * |_______/ \______________/ ) * \___/ *//** * d*##$. * zP&quot;&quot;&quot;&quot;&quot;$e. $&quot; $o * 4$ &apos;$ $&quot; $ * &apos;$ &apos;$ J$ $F * &apos;b $k $&gt; $ * $k $r J$ d$ * &apos;$ $ $&quot; $~ * &apos;$ &quot;$ &apos;$E $ * $ $L $&quot; $F ... * $. 4B $ $$$*&quot;&quot;&quot;*b * &apos;$ $. $$ $$ $F * &quot;$ R$ $F $&quot; $ * $k ?$ u* dF .$ * ^$. $$&quot; z$ u$$$$e * #$b $E.dW@e$&quot; ?$ * #$ .o$$# d$$$$c ?F * $ .d$$#&quot; . zo$&gt; #$r .uF * $L .u$*&quot; $&amp;$$$k .$$d$$F * $$&quot; &quot;&quot;^&quot;$$$P&quot;$P9$ * JP .o$$$$u:$P $$ * $ ..ue$&quot; &quot;&quot; $&quot; * d$ $F $ * $$ ....udE 4B * #$ &quot;&quot;&quot;&quot;` $r @$ * ^$L &apos;$ $F * RN 4N $ * *$b d$ * $$k $F * $$b $F * $&quot;&quot; $F * &apos;$ $ * $L $ * &apos;$ $ * $ $ *//** * ,----------------, ,---------, * ,-----------------------, ,&quot; ,&quot;| * ,&quot; ,&quot;| ,&quot; ,&quot; | * +-----------------------+ | ,&quot; ,&quot; | * | .-----------------. | | +---------+ | * | | | | | | -==----&apos;| | * | | I LOVE DOS! | | | | | | * | | Bad command or | | |/----|`---= | | * | | C:\&gt;_ | | | ,/|==== ooo | ; * | | | | | // |(((( [33]| ,&quot; * | `-----------------&apos; |,&quot; .;&apos;| |(((( | ,&quot; * +-----------------------+ ;; | | |,&quot; * /_)______________(_/ //&apos; | +---------+ * ___________________________/___ `, * / oooooooooooooooo .o. oooo /, \,&quot;----------- * / ==ooooooooooooooo==.o. ooo= // ,`\--&#123;)B ,&quot; * /_==__==========__==_ooo__ooo=_/&apos; /___________,&quot; * *//** * .-~~~~~~~~~-._ _.-~~~~~~~~~-. * __.&apos; ~. .~ `.__ * .&apos;// \./ \\`. * .&apos;// | \\`. * .&apos;// .-~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~~~~-._ | _,-~~~~&quot;&quot;&quot;&quot;&quot;&quot;&quot;~-. \\`. * .&apos;//.-&quot; `-. | .-&apos; &quot;-.\\`. * .&apos;//______.============-.. \ | / ..-============.______\\`. * .&apos;______________________________\|/______________________________`. * *//** æ— å¯å¥‰å‘Š ä¸€é¢—èµ›è‰‡ * uJjYJYYLLv7r7vJJ5kqSFFFUUjJ7rrr7LLYLJLJ7 * JuJujuYLrvuEM@@@B@@@B@B@B@@@MG5Y7vLjYjJL * JYjYJvr7XM@BB8GOOE8ZEEO8GqM8OBBBMu77LLJ7 * LJLY7ru@@@BOZ8O8NXFFuSkSu25X0OFZ8MZJ;vLv * YvL7i5@BM8OGGqk22uvriiriii;r7LuSZXEMXrvr * vv7iU@BMNkF1uY7v7rr;iiii:i:i:ii7JEPNBPir * L7iL@BM8Xjuujvv77rr;ri;i;:iiiii:iLXFOBJ: * 7ri@B@MOFuUS2Y7L7777rii;:::::i:iirjPG@O: * 7:1B@BBOPjXXSJvrL7rr7iiii:i::::i;iv5MBB, * r:0@BBM8SFPX2Y77rri::iirri:::::iii75O@G. * 7:SB@BBGqXPk0122UJL::i::r:::i:i;i:v2@Bk. * ri:MB@BBEqEMGq2JLLL1u7.iX51u77LF27iSB@r, * ri,v@B@MB8@qqNEqN1u:5B8BOFE0S7ii7qMB@F:: * ii,J80Eq1MZkqPPX5YkPE@B@iXPE52j7:vBjE7:: * ii:7MSqkS0PvLv7rrii0@L.Z1iLr::ir:rO,vi:: * ii::EZXPSkquLvii:iF@N:.,BUi7ri,::UY;r::: * i::.2ONXqkPXS5FUUEOPP;..iSPXkjLYLLrr:::, * :::,iMXNP0NPLriiLGZ@BB1P87;JuL7r:7ri:::, * :::,.UGqNX0EZF2uUjUuULr:::,:7uuvv77::::. * ::::..5OXqXNJ50NSY;i:.,,,:i77Yvr;v;,,::. * :::,:.jOEPqPJiqBMMMO8NqP0SYLJriirv:.:,:. * ,:,,,.,Zq0P0X7vPFqF1ujLv7r:irrr7j7.,,::. * ,,,....0qk0080v75ujLLv7ri:i:rvj2J...,,,. * ......8@UXqZEMNvJjr;ii::,:::7uuv...,.,,. * .....B@BOvX88GMGk52vririiirJS1i.......,. * .JEMB@B@BMvL0MOMMMO8PE8GPqSk2L:......... * @B@@@B@M@B@L:7PGBOO8MOMOEP0Xri@B@Mk7,... * B@B@BBMBB@B@0::rJP8MO0uvvu7..,B@B@B@B@Z7 * MMBM@BBB@B@B@Br:i,..:Lur:....7@OMMBM@B@@ * 8OOMMMOMMMMBB@B:....,PZENNi..JBOZ8GMOOOO */ ä»¥ä¸Šä¸ºé­”æ€§å›¾ ä»¥ä¸‹ä¸ºç¥æ³¨é‡Š 1234/** * è¿™ä¸ªå…¬å¸æ²¡æœ‰å¹´ç»ˆå¥–çš„,å…„å¼Ÿåˆ«æŒ‡æœ›äº†,ä¹Ÿåˆ«æ¥äº†,æˆ‘å‡†å¤‡è¾èŒäº† * å¦å¤–è¿™ä¸ªé¡¹ç›®æœ‰å¾ˆå¤š*Bug* ä½ åšæŒä¸äº†å¤šä¹…çš„,æ‹œæ‹œ! */ 123456789101112131415161718192021222324252627282930313233/** * 1åªç¾Š == one sheep * 2åªç¾Š == two sheeps * 3åªç¾Š == three sheeps * 4åªç¾Š == four sheeps * 5åªç¾Š == five sheeps * 6åªç¾Š == six sheeps * 7åªç¾Š == seven sheeps * 8åªç¾Š == eight sheeps * 9åªç¾Š == nine sheeps * 10åªç¾Š == ten sheeps * 11åªç¾Š == eleven sheeps * 12åªç¾Š == twelve sheeps * 13åªç¾Š == thirteen sheeps * 14åªç¾Š == fourteen sheeps * 15åªç¾Š == fifteen sheeps * 16åªç¾Š == sixteen sheeps * 17åªç¾Š == seventeen sheeps * 18åªç¾Š == eighteen sheeps * 19åªç¾Š == nineteen sheeps * 20åªç¾Š == twenty sheeps * 21åªç¾Š == twenty one sheeps * 22åªç¾Š == twenty two sheeps * 23åªç¾Š == twenty three sheeps * 24åªç¾Š == twenty four sheeps * 25åªç¾Š == twenty five sheeps * 26åªç¾Š == twenty six sheeps * 27åªç¾Š == twenty seven sheeps * 28åªç¾Š == twenty eight sheeps * 29åªç¾Š == twenty nine sheeps * 30åªç¾Š == thirty sheeps * ç°åœ¨çŒç¡äº†å§ï¼Œå¥½äº†ï¼Œä¸è¦å†æ”¹ä¸‹é¢çš„ä»£ç äº†ï¼Œç¡è§‰å’¯~~ */ 12345678910111213/** * You may think you know what the following code does. * But you dont. Trust me. * Fiddle with it, and youll spend many a sleepless * night cursing the moment you thought youd be clever * enough to &quot;optimize&quot; the code below. * Now close this file and go play with something else. *//** * ä½ å¯èƒ½ä¼šè®¤ä¸ºä½ è¯»å¾—æ‡‚ä»¥ä¸‹çš„ä»£ç ã€‚ä½†æ˜¯ä½ ä¸ä¼šæ‡‚çš„ï¼Œç›¸ä¿¡æˆ‘å§ã€‚ * è¦æ˜¯ä½ å°è¯•ç©å¼„è¿™æ®µä»£ç çš„è¯ï¼Œä½ å°†ä¼šåœ¨æ— å°½çš„é€šå®µä¸­ä¸æ–­åœ°å’’éª‚è‡ªå·±ä¸ºä»€ä¹ˆä¼šè®¤ä¸ºè‡ªå·±èªæ˜åˆ°å¯ä»¥ä¼˜åŒ–è¿™æ®µä»£ç ã€‚ * ç°åœ¨è¯·å…³é—­è¿™ä¸ªæ–‡ä»¶å»ç©ç‚¹åˆ«çš„å§ã€‚ */ 12345678/** * somedev1 - 6/7/02 Adding temporary tracking of Login screen * somedev2 - 5/22/07 Temporary my ass *//** * ä¸€äº›ä¿®æ”¹1 - 2002/6/7 å¢åŠ ä¸´æ—¶çš„è·Ÿè¸ªç™»å½•ç•Œé¢ * ä¸€äº›ä¿®æ”¹2 - 2007/5/22 æˆ‘ä¸´æ—¶çš„çŠ¯å‚» */ 1234567/** * ç¨‹åºå‘˜1ï¼ˆäº2010å¹´6æœˆ7æ—¥ï¼‰ï¼šåœ¨è¿™ä¸ªå‘ä¸´æ—¶åŠ å…¥ä¸€äº›è°ƒæ–™ * ç¨‹åºå‘˜2ï¼ˆäº2011å¹´5æœˆ22æ—¥ï¼‰ï¼šä¸´ä½ ä¸ªå±å•Š * ç¨‹åºå‘˜3ï¼ˆäº2012å¹´7æœˆ23æ—¥ï¼‰ï¼šæ¥¼ä¸Šéƒ½æ˜¯ç‹—å±ï¼Œé‰´å®šå®Œæ¯• * ç¨‹åºå‘˜4ï¼ˆäº2013å¹´8æœˆ2æ—¥ï¼‰ï¼šfuck æ¥¼ä¸Šï¼Œä¸‰å¹´äº†ï¼Œè¿™å‘è¿˜åœ¨ï¼ï¼ï¼ * ç¨‹åºå‘˜5ï¼ˆäº2014å¹´8æœˆ21æ—¥ï¼‰ï¼šå“ˆå“ˆå“ˆï¼Œè¿™å‘å±…ç„¶å‘äº†è¿™ä¹ˆå¤šäººï¼Œå¹¸å¥½æˆ‘ä¹Ÿä¸ç”¨å¡«äº†ï¼Œç³»ç»Ÿç»ˆæ­¢è¿è¡Œäº†ï¼Œyou&apos;re died */ 1234567891011121314/** * For the brave souls who get this far: You are the chosen ones, * the valiant knights of programming who toil away, without rest, * fixing our most awful code. To you, true saviors, kings of men, * I say this: never gonna give you up, never gonna let you down, * never gonna run around and desert you. Never gonna make you cry, * never gonna say goodbye. Never gonna tell a lie and hurt you. *//** * è‡´ç»ˆäºæ¥åˆ°è¿™é‡Œçš„å‹‡æ•¢çš„äººï¼š * ä½ æ˜¯è¢«ä¸Šå¸é€‰ä¸­çš„äººï¼Œæ˜¯è‹±å‹‡çš„ã€ä¸æ•Œè¾›è‹¦çš„ã€ä¸çœ ä¸ä¼‘çš„æ¥ä¿®æ”¹æˆ‘ä»¬è¿™æœ€æ£˜æ‰‹çš„ä»£ç çš„ç¼–ç¨‹éª‘å£«ã€‚ * ä½ ï¼Œæˆ‘ä»¬çš„æ•‘ä¸–ä¸»ï¼Œäººä¸­ä¹‹é¾™ï¼Œæˆ‘è¦å¯¹ä½ è¯´ï¼šæ°¸è¿œä¸è¦æ”¾å¼ƒï¼Œæ°¸è¿œä¸è¦å¯¹è‡ªå·±å¤±æœ›ï¼Œæ°¸è¿œä¸è¦é€ƒèµ°ï¼Œè¾œè´Ÿäº†è‡ªå·±ï¼Œ * æ°¸è¿œä¸è¦å“­å•¼ï¼Œæ°¸è¿œä¸è¦è¯´å†è§ï¼Œæ°¸è¿œä¸è¦è¯´è°æ¥ä¼¤å®³è‡ªå·±ã€‚ */ 123456789101112131415161718/** * Dear maintainer: * * Once you are done trying to &apos;optimize&apos; this routine, * and have realized what a terrible mistake that was, * please increment the following counter as a warning * to the next guy: * * total_hours_wasted_here = 42 *//** * äº²çˆ±çš„ç»´æŠ¤è€…ï¼š * * å¦‚æœä½ å°è¯•äº†å¯¹è¿™æ®µç¨‹åºè¿›è¡Œ&apos;ä¼˜åŒ–&apos; * ä¸‹é¢è¿™ä¸ªè®¡æ•°å™¨çš„ä¸ªæ•°ç”¨æ¥å¯¹åæ¥äººè¿›è¡Œè­¦å‘Š * * æµªè´¹åœ¨è¿™é‡Œçš„æ€»æ—¶é—´ = 42h */ 12Exception up = new Exception(&quot;Something is really wrong.&quot;);throw up; //ha ha 12345678/** * When I wrote this, only God and I understood what I was doing * Now, God only knows *//*** å†™è¿™æ®µä»£ç çš„æ—¶å€™ï¼Œåªæœ‰ä¸Šå¸å’Œæˆ‘çŸ¥é“å®ƒæ˜¯å¹²å˜›çš„* ç°åœ¨ï¼Œåªæœ‰ä¸Šå¸çŸ¥é“*/ 1stop(); // Hammertime! 1// Autogenerated, do not edit. All changes will be undone. 12// sometimes I believe compiler ignores all my comments// æœ‰æ—¶å€™æˆ‘ç›¸ä¿¡ç¼–è¯‘å™¨å¿½ç•¥äº†æˆ‘æ‰€æœ‰çš„æ³¨é‡Š 12345/** * I dedicate all this code, all my work, to my wife, Darlene, who will * have to support me and our three children and the dog once it gets * released into the public. */ 12// drunk, fix later// æœ‰ç‚¹æ™•äº†ï¼Œä»¥åå†ä¿®æ”¹ 12// Magic. Do not touch.// éº»é¸¡ã€‚å‹¿åŠ¨ã€‚ 1#define TRUE FALSE// Happy debugging suckers 1// I&apos;m sorry. 1return 1; # returns 1 123456/** * Always returns true. */public boolean isAvailable() &#123; return false;&#125; 12&lt;!-- Here be dragons --&gt;&lt;!-- å‰æ–¹é«˜èƒ½ --&gt; 12double penetration; // ouch// è‡ªè¡Œäº†è§£ï¼Œä¸æ–¹ä¾¿è§£é‡Š 1/////////////////////////////////////// this is a well commented line 123456// To understand recursion, see the bottom of this fileAt the bottom of the file:// To understand recursion, see the top of this file// æƒ³è¦æ˜ç™½é€’å½’é¡»çœ‹æ–‡ä»¶æœ«å°¾åˆ°äº†æ–‡æœ«// æƒ³è¦æ˜ç™½é€’å½’é¡»çœ‹æ–‡ä»¶é¡¶éƒ¨ 1/* Please work */ 12long long ago; /* in a galaxy far far away */// å¾ˆä¹…å¾ˆä¹…ä»¥å‰ åœ¨ä¸€ä¸ªé¥è¿œçš„é“¶æ²³ä¸­ï¼ˆå‡ºè‡ªæ˜Ÿçƒå¤§æˆ˜ï¼‰ 1234// This code sucks, you know it and I know it. // Move on and call me an idiot later.// ä½ æˆ‘éƒ½çŸ¥é“è¿™ä»£ç å¾ˆçƒ‚// å…ˆä¸è¦éª‚æˆ‘2Bäº†ï¼Œè¯·å…ˆç»§ç»­å¾€ä¸‹çœ‹ 12// I am not sure why this works but it fixes the problem.// è™½ç„¶æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™æ ·ç®¡ç”¨ï¼Œä½†å®ƒå´æ˜¯ä¿®å¤äº†é—®é¢˜ 12// If this comment is removed the program will blow up// å¦‚æœåˆ äº†æ­¤å¤„æ³¨é‡Šç¨‹åºå°±ç‚¸äº† 12// This function has been here since 1987. DON&apos;T FXXKING TOUCH IT// è¿™å‡½æ•°1987å¹´å°±è¿™åœ¨äº†ï¼Œåˆ«ä»–å¨˜åŠ¨å®ƒ 12// if i ever see this again i&apos;m going to start bringing guns to work// å¦‚æœè¦æ˜¯å†è®©æˆ‘çœ‹è§è¿™æ ·çš„ä»£ç ï¼Œä¹Ÿè®¸æˆ‘ä¼šå¸¦ç€ä¸€æŠŠæªæ¥ä¸Šç­ 1234// no comments for you// it was hard to write// so it should be hard to read// éš¾å†™çš„ä»£ç ï¼Œè‚¯å®šå¾ˆéš¾è¯»ã€‚å› æ­¤ï¼Œæˆ‘æ²¡æœ‰æ³¨é‡Šç•™ç»™ä½ ã€‚ 12// I will give you two of my seventy-two virgins if you can fix this.// è¦æ˜¯ä½ èƒ½ä¿®æ­£è¿™ä¸ªé—®é¢˜çš„è¯ï¼Œæˆ‘ä¼šåœ¨æˆ‘çš„ä¸ƒåäºŒä¸ªå¤„å¥³ä¸­æŒ‘ä¸¤ä¸ªé€ä½  123// I am not responsible of this code.// They made me write it, against my will.// ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä¸è´Ÿè´£ã€‚å› ä¸ºæ˜¯ä»–ä»¬é€¼æˆ‘å†™çš„ï¼Œè¿èƒŒäº†æˆ‘çš„æ„æ„¿ã€‚ 12/* You are not expected to understand this *//* ä½ ç»ä¸ä¼šæ˜ç™½çš„ */ 12// I have to find a better job// çœ‹æ¥æˆ‘éœ€è¦æ‰¾ä»½æ›´å¥½çš„å·¥ä½œäº† 123/** * è¿™ä¸ªç±»æ˜¯Objectçš„å­ç±» */ å¦‚æœæœ‰æ›´å¥½åœ°å¯ä»¥ç•™è¨€æˆ–è€…åˆ°ä¼ é€é—¨æissueï¼Œå¦‚æœçœ‹åˆ°è¿™èƒ½å¸¦ç»™ä½ å¿«ä¹çš„è¯ï¼Œé‚£å°±ç‚¹ä¸ªç¨€é¥­å§ï¼Œè°¢è°¢å¤§ä½¬ä»¬èµè„¸ï¼Œæ„¿æ‰€æœ‰çš„ç¨‹åºéƒ½æ°¸æ— Bugã€‚]]></content>
      <categories>
        <category>Joke</category>
      </categories>
      <tags>
        <tag>comment</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ ä¸å¾—ä¸äº†è§£çš„HTMLçŸ¥è¯†]]></title>
    <url>%2F2016%2F12%2F27%2Fhave-to-konw-the-html-knowledge%2F</url>
    <content type="text"><![CDATA[è¿™æ¬¡è¦ç»†è¯´çš„åªæ˜¯å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ çš„å†…å®¹ï¼Œå¦‚æœ‰ä¸å¯¹ï¼Œè¯·è½»å–·ã€‚ å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ é»˜è®¤æƒ…å†µä¸‹å—çº§å…ƒç´ ä¼šå§‹ç»ˆå å±…ä¸€è¡Œï¼Œè€Œè¡Œå†…å…ƒç´ å¹¶ä¸ä¼šã€‚é™¤äº† table å…ƒç´ çš„ display å±æ€§æ¯”è¾ƒç‰¹æ®Šä»¥å¤–ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰çš„ HTML å…ƒç´ çš„ display çš„å±æ€§å€¼è¦ä¹ˆæ˜¯ blockï¼Œè¦ä¹ˆæ˜¯ inlineã€‚æ— è®ºä½ æƒ³äº†è§£å“ªä¸ª HTML å…ƒç´ ï¼Œç¬¬ä¸€ä¸ªè¦é—®çš„é—®é¢˜å°±æ˜¯ï¼šå®ƒæ˜¯å—çº§å…ƒç´ è¿˜æ˜¯è¡Œå†…å…ƒç´ ï¼Œç„¶ååœ¨ç¼–å†™æ ‡è®°çš„æ—¶å€™é¢„æƒ³åˆ°è¿™ä¸ªå…ƒç´ åœ¨åˆå§‹çŠ¶æ€ä¸‹æ˜¯å¦‚ä½•å®šä½çš„ï¼Œè¿™æ ·æ‰èƒ½è¿›ä¸€æ­¥æƒ³å¥½å°†æ¥æ€ä¹ˆç”¨ CSS é‡æ–°å®šä½å®ƒï¼Œå› ä¸ºå—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ åœ¨å®šä½ä¸Šæœ‰å¾ˆå¤§çš„åŒºåˆ«ï¼Œåé¢ä¼šè¯¦ç»†è¯´æ˜ã€‚ å—çº§å…ƒç´ ç›’å­ï¼ˆä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µâ€”â€”â€”â€”ç›’æ¨¡å‹ï¼‰ä¼šæ‰©å±•åˆ°ä¸çˆ¶å…ƒç´ åŒå®½ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå—çº§å…ƒç´ ä¼šå å±…ä¸€è¡Œçš„åŸå› äº†ï¼Œå› ä¸ºæ‰€æœ‰å—çº§å…ƒç´ çš„çˆ¶å…ƒç´ éƒ½æ˜¯ bodyï¼Œè€Œå®ƒçš„é»˜è®¤å®½åº¦å°±æ˜¯æµè§ˆå™¨çš„è§†å£å¤§å°ï¼Œæ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹å—çº§å…ƒç´ çš„å®½åº¦ä¹Ÿå’Œæµè§ˆå™¨çš„è§†å£ä¸€æ ·å®½ï¼Œè¿™æ ·ä»¥æ¥ï¼Œä¸€ä¸ªå—çº§å…ƒç´ æ—è¾¹ä¹Ÿå°±æ²¡æœ‰ç©ºé—´æ¥å®¹çº³å¦ä¸€ä¸ªå—çº§å…ƒç´ äº†ã€‚ ç›¸æ¯”äºå—çº§å…ƒç´ ä¼šæ‰©å±•åˆ°ä¸çˆ¶å…ƒç´ åŒå®½ï¼Œç„¶è€Œè¡Œå†…å…ƒç´ çš„è¡Œä¸ºå´æ˜¯æ°æ°ç›¸åï¼Œå®ƒä¼šå°½é‡çš„æ”¶ç¼©åŒ…è£¹å…¶å†…å®¹ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå‡ ä¸ªè¡Œå†…å…ƒç´ ä¼šå¹¶æ’æ˜¾ç¤ºåœ¨ä¸€è¡Œç›´åˆ°å®ƒä»¬æ’æ»¡ä¸€è¡Œæ‰ä¼šå¦èµ·ä¸€è¡Œï¼Œè€Œæ¯ä¸ªå—çº§å…ƒç´ ä¼šç›´æ¥å¦èµ·ä¸€è¡Œçš„åŸå› äº†ã€‚ ä¸‹è¡¨åˆ—å‡ºäº†ä¸€äº›å¸¸è§çš„å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ ï¼š å—çº§å…ƒç´  è¡Œå†…å…ƒç´  div span form a table img header label aside input section select article textarea figure br figcaption i h1~h6 em nav strong p small pre button blockqoute sub canvas sup ol, ul, dl code ä¹‹å‰æåˆ°è¿‡æ— è®ºä½ æƒ³äº†è§£å“ªä¸ª HTML å…ƒç´ ï¼Œç¬¬ä¸€ä¸ªè¦é—®çš„é—®é¢˜å°±æ˜¯ï¼šå®ƒæ˜¯å—çº§å…ƒç´ è¿˜æ˜¯è¡Œå†…å…ƒç´ ï¼Œå› ä¸ºå®ƒä»¬åœ¨ç›’æ¨¡å‹ä¸Šçš„è¡¨ç°æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œä¸è¿‡åœ¨äº†è§£å®ƒä»¬çš„ä¸åŒä¹‹å‰æˆ‘ä»¬è¿˜å¾—å…ˆçŸ¥é“å¦å¤–ä¸€ä¸ªæ¦‚å¿µâ€”â€”â€”â€”æ›¿æ¢å…ƒç´ å’Œéæ›¿æ¢å…ƒç´ ï¼Œå…¶ä¸­æ›¿æ¢å…ƒç´ å°±æ˜¯æŒ‡æµè§ˆå™¨æ˜¯æ ¹æ®å…ƒç´ çš„å±æ€§æ¥åˆ¤æ–­å…·ä½“è¦æ˜¾ç¤ºçš„å†…å®¹çš„å…ƒç´ ï¼Œæ¯”å¦‚ img æ ‡ç­¾ï¼Œæµè§ˆå™¨æ˜¯æ ¹æ®å…¶ src çš„å±æ€§å€¼æ¥è¯»å–è¿™ä¸ªå…ƒç´ æ‰€åŒ…å«çš„å†…å®¹çš„ï¼Œå¸¸è§çš„æ›¿æ¢å…ƒç´ è¿˜æœ‰ input ã€textareaã€ selectã€ objectã€ iframe å’Œ video ç­‰ç­‰ï¼Œè¿™äº›å…ƒç´ éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹ç‚¹ï¼Œå°±æ˜¯æµè§ˆå™¨å¹¶ä¸ç›´æ¥æ˜¾ç¤ºå…¶å†…å®¹ï¼Œè€Œæ˜¯é€šè¿‡å…¶æŸä¸ªå±æ€§çš„å€¼æ¥æ˜¾ç¤ºå…·ä½“çš„å†…å®¹ï¼Œæ¯”å¦‚æµè§ˆå™¨ä¼šæ ¹æ® input ä¸­çš„ type çš„å±æ€§å€¼æ¥åˆ¤æ–­åˆ°åº•åº”è¯¥æ˜¾ç¤ºå•é€‰æŒ‰é’®è¿˜æ˜¯å¤šé€‰æŒ‰é’®äº¦æˆ–æ˜¯æ–‡æœ¬è¾“å…¥æ¡†ã€‚è€Œå¯¹äºéæ›¿æ¢å…ƒç´ ï¼Œæ¯”å¦‚ pã€label å…ƒç´ ç­‰ç­‰ï¼Œæµè§ˆå™¨è¿™æ˜¯ç›´æ¥æ˜¾ç¤ºå…ƒç´ æ‰€åŒ…å«çš„å†…å®¹ã€‚çœ‹åˆ°è¿™é‡Œä½ åº”è¯¥å¤§æ¦‚çš„çŸ¥é“äº†ä»€ä¹ˆæ˜¯æ›¿æ¢å…ƒç´ å’Œéæ›¿æ¢å…ƒç´ äº†ã€‚ å¯¹ç€ä¸¤ä¸ªæ¦‚å¿µæœ‰äº†å¤§æ¦‚çš„äº†è§£åå°±å¯ä»¥å¯¹ block å’Œ inline åœ¨ç›’æ¨¡å‹ä¸Šçš„è¡¨ç°å·®å¼‚è¿›è¡Œäº†è§£äº†ï¼Œé¦–å…ˆæ˜¯ margin ï¼ŒW3C å¯¹å…¶æ‰€æ”¯æŒäº†å…ƒç´ å¯¹è±¡æ˜¯è¿™ä¹ˆå®šä¹‰çš„ï¼š Applies to: all elements except elements with table display types other than table-caption, table and inline-table æˆ‘çš„ç†è§£å°±æ˜¯æ‰€æœ‰å…ƒç´ éƒ½æ”¯æŒ margin é™¤äº† display å±æ€§å€¼ä¸º table-caption å’Œ table-inline ä»¥å¤–çš„æ‰€æœ‰è¡¨æ ¼æ˜¾ç¤ºç±»å‹æ¯”å¦‚table-row-groupã€ table-cellã€ table-row å’Œ table-header-groupç­‰ç­‰,ä½†æ˜¯ä¸ºäº†éªŒè¯æˆ‘çš„ç†è§£ï¼Œæˆ‘å‘ç° display å±æ€§å€¼ä¸º table çš„å…ƒç´ ä¹Ÿæ”¯æŒï¼Œå¯èƒ½æ˜¯æˆ‘å¯¹åŸæ–‡æ ‡å‡†çš„ç†è§£æœ‰è¯¯ã€‚ä½†è¿˜æœ‰ä¸€ä¸ªè¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ margin-top å’Œ margin-bottom ä¸¤ä¸ªå±æ€§æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒä»¬å¯¹éæ›¿æ¢è¡Œå†…å…ƒç´ æ²¡æœ‰æ•ˆæœï¼Œä¸‹é¢æ˜¯ W3C ä¸Šå¯¹äº margin-top å’Œmargin-bottom æ”¯æŒå¯¹è±¡çš„ä»‹ç»ï¼š Applies to: all elements except elements with table display types other than table-caption, table and inline-tableThese properties have no effect on non-replaced inline elements. å‰é¢ä¸€å¥å’Œä¹‹å‰å¯¹ margin çš„æè¿°æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ¯«æ— ç–‘é—®ï¼Œä¸‹é¢è¿™å¥è¯çš„æ„æ€æ˜¯è¿™äº›ï¼ˆ margin-top å’Œ margin-bottom ï¼‰å±æ€§å¯¹éæ›¿æ¢è¡Œå†…å…ƒç´ æ²¡æœ‰æ•ˆæœæ¯”å¦‚ a å’Œspanï¼Œæ³¨æ„è¿™é‡Œæ˜¯éæ›¿æ¢è¡Œå†…å…ƒç´ è€Œä¸å•å•æ˜¯éæ›¿æ¢å…ƒç´ æˆ–è€…æ˜¯è¡Œå†…å…ƒç´ ã€‚æ¯”å¦‚ img å°±æ˜¯ä¸€ä¸ªè¡Œå†…å…ƒç´ ï¼Œ margin-top å’Œ margin-bottom å¯¹å®ƒæ˜¯æœ‰æ•ˆæœçš„ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ›¿æ¢å…ƒç´ è€Œä¸æ˜¯éæ›¿æ¢å…ƒç´ ï¼Œæ‰€ä»¥å¯¹äºã€Œ margin-top å’Œ margin-bottom å¯¹è¡Œå†…å…ƒç´ æ²¡æœ‰æ•ˆæœã€è¿™ç§è¯´æ³•æ˜¯ä¸å¯¹çš„ã€‚ è€Œå¯¹äº padding çš„æ”¯æŒå¯¹è±¡ï¼ŒW3C æ˜¯è¿™ä¹ˆæè¿°çš„ï¼š all elements except table-row-group, table-header-group, table-footer-group, table-row, table-column-group and table-column ä¸Šé¢è¿™å¥è¯çš„æ„æ€æ˜¯é™¤äº†è¡¨æ ¼æ˜¾ç¤ºç±»å‹ä¸º table-row-groupã€ table-header-groupã€ table-footer-groupã€ table-row,table-column-group å’Œ table-column çš„å…ƒç´ ä¸æ”¯æŒï¼Œå…¶ä»–æ‰€æœ‰çš„å…ƒç´ éƒ½æ”¯æŒã€‚ ä½†è¿™é‡Œæœ‰äº›ç‰¹æ®Šæƒ…å†µéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹è¡Œå†…å…ƒç´ æ¯”å¦‚ span å’Œ img è®¾ç½®å·¦å³å†…è¾¹è·çš„æ•ˆæœæ˜¯å¯è§å¯ï¼Œä½†æ˜¯å¯¹è¡Œå†…å…ƒç´ è®¾ç½®ä¸Šä¸‹å†…è¾¹è·åœ¨æœ‰äº›æƒ…å†µä¸‹æ˜¯ä¸å¯è§çš„ï¼Œè¿™äº›æƒ…å†µåˆè¦åˆ†ä¸ºæ˜¯å¦ä¸ºæ›¿æ¢å…ƒç´ å’Œæ˜¯å¦è®¾ç½®äº†èƒŒæ™¯è‰²ï¼Œä¸ºäº†èƒ½æ›´ç›´è§‚çš„äº†è§£è¿™äº›æ¦‚å¿µï¼Œæˆ‘åœ¨è¿™é‡Œåšäº†ä¸ªè¡¨æ ¼ï¼š padding-topå’Œpadding-bottom å¯¹äºè¡Œå†…å…ƒç´ æ˜¯å¦å¯è§ æ›¿æ¢å…ƒç´ ï¼ˆe.g: inputï¼‰ éæ›¿æ¢å…ƒç´ ï¼ˆe.g: spanï¼‰ è®¾ç½®èƒŒæ™¯è‰² å¯è§å½±å“è¡Œé«˜ä¼šæ’‘å¼€çˆ¶å…ƒç´  å¯è§ä¸å½±å“è¡Œé«˜ä¸ä¼šæ’‘å¼€çˆ¶å…ƒç´  æ²¡æœ‰è®¾ç½®èƒŒæ™¯è‰² å¯è§å½±å“è¡Œé«˜ä¼šæ’‘å¼€çˆ¶å…ƒç´  ä¸å¯è§ä¸å½±å“è¡Œé«˜ä¸ä¼šæ’‘å¼€çˆ¶å…ƒç´  æ‰€ä»¥å¯¹äºã€Œ padding-top å’Œ padding-bottom å¯¹è¡Œå†…å…ƒç´ æ²¡æœ‰æ•ˆæœã€è¿™ç§è¯´æ³•ä¹Ÿæ˜¯ä¸å¯¹çš„ï¼Œå› ä¸ºå®ƒä»¬åªæ˜¯å¯¹äºæ²¡æœ‰è®¾ç½®èƒŒæ™¯è‰²çš„è¡Œå†…éæ›¿æ¢å…ƒç´ æ•ˆæœä¸å¯è§è€Œå·²ï¼Œè€Œå¯¹äºè¡Œå†…æ›¿æ¢å…ƒç´ æ¥è¯´ï¼Œä¸ç®¡æ˜¯å¦è®¾ç½®äº†èƒŒæ™¯è‰²éƒ½æ˜¯æœ‰æ•ˆæœäº†ï¼Œå¹¶ä¸”ä¼šæŠŠçˆ¶å…ƒç´ æ’‘å¼€ã€‚ è¯´äº†è¿™ä¹ˆå¤š block å’Œ inline çš„åŒºåˆ«ï¼Œå…¶å®é™¤äº†è¿™ä¸¤ä¸ªå¸¸è§çš„ display å±æ€§ä»¥å¤–è¿˜æœ‰ä¸€ä¸ªå±æ€§ä¹Ÿæ˜¯éå¸¸å¸¸è§çš„ï¼Œé‚£å°±æ˜¯ inline-block ï¼Œæ²¡é”™ï¼Œè¿™å°±æ˜¯å‰é¢ä¸¤ç§æƒ…å†µçš„ç»“åˆä½“ï¼Œå®ƒæ—¢æœ‰ block çš„ç‰¹æ€§åˆæœ‰ inline çš„ç‰¹æ€§ï¼Œæ¯”å¦‚æŠŠä¸€ä¸ª display å±æ€§å€¼ä¸º block æˆ–è€… inline çš„å…ƒç´ å±æ€§å€¼è®¾ç½®æˆ inline-block åï¼Œæ—¢å¯ä»¥ç”¨åªå¯¹è¡Œå†…å…ƒç´ æœ‰æ•ˆçš„ text-align: center; å£°æ˜å¯¹å…¶è¿›è¡Œå±…ä¸­ä»¥å¤–ï¼Œè¿˜å¯ä»¥ç”¨ padding-top å’Œ padding-bottom å¯¹å…ƒç´ è®¾ç½®ä¸Šä¸‹å†…è¾¹è·è€Œæ— éœ€å¯¹å…¶è®¾ç½®èƒŒæ™¯è‰²ï¼Œå¹¶ä¸”èƒ½æŠŠçˆ¶å…ƒç´ æ’‘å¼€ã€‚ ä¸è¦é—®æˆ‘ä¸ºä½•çŸ¥é“è¿™ä¹ˆå¤šï¼Œæˆ‘åªçŒ®ä¸Šä¼ é€é—¨]]></content>
      <categories>
        <category>JS</category>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯æ—‹è½¬çš„ImageView]]></title>
    <url>%2F2016%2F11%2F10%2Frotatable-imageView%2F</url>
    <content type="text"><![CDATA[è¯ä¸å¤šå°‘ï¼Œå…ˆä¸Šæ•ˆæœå›¾è¿‡ä¸€ä¸‹ç˜¾ã€‚ ç»æˆ‘ç½‘ä¸Šä¸€æœï¼Œæ²¡æœ‰å¾ˆå¥½çš„å®ä¾‹æ¥å•ç‹¬å®ç°ä»¥ä¸Šæ•ˆæœï¼Œæ‰€ä»¥åªèƒ½è€å¸æœºè‡ªå·±å‡ºé©¬äº†ã€‚ä¸ºäº†å®ç°ä»¥ä¸Šæ•ˆæœï¼Œå½“ç„¶ç¦»ä¸å¼€æˆ‘ä»¬å¯¹onTouchEventäº‹ä»¶çš„å¤„ç†äº†ï¼Œè€å¸æœºä»¬åº”è¯¥éƒ½æ‡‚çš„ï¼Œå¼€å§‹å¼€è½¦ï¼Œå˜Ÿå˜Ÿ~ ä¸‹é¢æ¥è¯´ä¸€ä¸‹æ€è·¯ï¼Œé¦–å…ˆä¸Šä¸€å¼ å›¾ï¼Œè®©æˆ‘æ›´æ–¹ä¾¿åœ°æ¥ä¸ºä¹˜å®¢ä»¬è®²è§£ã€‚ å¥½äº†ï¼Œé‡è¦çš„éƒ½å·²ç»åœ¨å›¾ä¸­è¯´äº†ï¼Œä¸‹é¢åªéœ€è¦ä¸€ä¸ªå›è°ƒä¾¿å¯åœ¨å¤–éƒ¨è·å–åˆ°æ—‹è½¬çš„è§’åº¦ï¼ŒçŒ®ä¸Šç›¸å…³é‡è¦ä»£ç ï¼Œç›¸ä¿¡æ ¹æ®æˆ‘çš„æ³¨é‡Šï¼Œå¤§å®¶ä¹Ÿéƒ½åº”è¯¥æ˜ç™½äº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154import android.content.Context;import android.graphics.Bitmap;import android.graphics.Canvas;import android.graphics.Matrix;import android.graphics.drawable.BitmapDrawable;import android.util.AttributeSet;import android.util.Log;import android.view.MotionEvent;import android.widget.ImageView;/** * &lt;pre&gt; * author: Blankj * blog : http://blankj.com * time : 2016/11/8 * desc : * &lt;/pre&gt; */public class RotateImageView extends ImageView &#123; // ç‚¹å‡»åœ¨viewä¸­æ‰€åœ¨åæ ‡ private float x, y; // viewçš„ä¸­å¿ƒç‚¹åæ ‡ private float ox, oy; // viewçš„å®½ã€é«˜ private int w, h; private Matrix matrix; // ImageViewçš„èµ„æºå›¾ç‰‡ Bitmap mBitmap; // æ—‹è½¬è¿‡çš„è§’åº¦ public float totalDegree = 0; // æ˜¯å¦åˆå§‹åŒ–è¿‡ private boolean isInit = false; // æ—‹è½¬è§’åº¦æ”¹å˜çš„ç›‘å¬å™¨ private OnRotationChangeListener mListener; public void setOnRotationChangeListener(OnRotationChangeListener listener) &#123; mListener = listener; &#125; public RotateImageView(Context context) &#123; this(context, null); &#125; public RotateImageView(Context context, AttributeSet attrs) &#123; this(context, attrs, 0); &#125; public RotateImageView(Context context, AttributeSet attrs, int defStyleAttr) &#123; super(context, attrs, defStyleAttr); &#125; @Override protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123; super.onMeasure(widthMeasureSpec, heightMeasureSpec); // å·²åˆå§‹åŒ–å®Œæ¯•çš„è¯é‚£å°±ç›´æ¥æ»šå›è€å®¶å»å§ if (isInit) return; int measureWidth = getWidth(); int measureHeight = getHeight(); Log.d("blankj", "onMeasure: w: " + measureWidth + ", h: " + measureHeight); // å¦‚æœæ²¡æœ‰åˆå§‹åŒ–è¿‡ï¼Œå°±åˆå§‹åŒ– if (measureWidth != 0 &amp;&amp; measureHeight != 0 &amp;&amp; !isInit) &#123; isInit = true; mBitmap = ((BitmapDrawable) this.getDrawable()).getBitmap(); w = measureWidth; h = measureHeight; ox = w &gt;&gt; 1; oy = h &gt;&gt; 1; matrix = new Matrix(); // è·å–é€‚é…äºImageViewçš„bitmap mBitmap = Bitmap.createScaledBitmap(mBitmap, w, h, true); &#125; &#125; @Override protected void onDraw(Canvas canvas) &#123; Log.d("blankj", "onDraw"); // åˆ¤ç©ºä»¥é˜²å´©æºƒ if (mBitmap == null) return; canvas.save(); canvas.drawBitmap(mBitmap, matrix, null); canvas.restore(); &#125; @Override public boolean onTouchEvent(MotionEvent event) &#123; switch (event.getAction()) &#123; case MotionEvent.ACTION_DOWN: x = event.getX(); y = event.getY(); break; case MotionEvent.ACTION_MOVE: float nowX = event.getX(); float nowY = event.getY(); // è®¡ç®—ä¸‰è¾¹çš„å¹³æ–¹ float ab2 = (x - nowX) * (x - nowX) + (y - nowY) * (y - nowY); float oa2 = (x - ox) * (x - ox) + (y - oy) * (y - oy); float ob2 = (nowX - ox) * (nowX - ox) + (nowY - oy) * (nowY - oy); // æ ¹æ®ä¸¤å‘é‡çš„å‰ä¹˜æ¥åˆ¤æ–­é¡ºé€†æ—¶é’ˆ boolean isClockwise = ((x - ox) * (nowY - oy) - (y - oy) * (nowX - ox)) &gt; 0; // æ ¹æ®ä½™å¼¦å®šç†è®¡ç®—æ—‹è½¬è§’çš„ä½™å¼¦å€¼ double cosDegree = (oa2 + ob2 - ab2) / (2 * Math.sqrt(oa2) * Math.sqrt(ob2)); // å¼‚å¸¸å¤„ç†ï¼Œå› ä¸ºç®—å‡ºæ¥ä¼šæœ‰è¯¯å·®ç»å¯¹å€¼å¯èƒ½ä¼šè¶…è¿‡ä¸€ï¼Œæ‰€ä»¥éœ€è¦å¤„ç†ä¸€ä¸‹ if (cosDegree &gt; 1) &#123; cosDegree = 1; &#125; else if (cosDegree &lt; -1) &#123; cosDegree = -1; &#125; // è®¡ç®—å¼§åº¦ double radian = Math.acos(cosDegree); // è®¡ç®—æ—‹è½¬è¿‡çš„è§’åº¦ï¼Œé¡ºæ—¶é’ˆä¸ºæ­£ï¼Œé€†æ—¶é’ˆä¸ºè´Ÿ float degree = (float) (isClockwise ? Math.toDegrees(radian) : -Math.toDegrees(radian)); // ç´¯åŠ è§’åº¦ totalDegree += degree; matrix.setRotate(totalDegree, ox, oy); // æ›´æ–°è§¦æ‘¸ç‚¹ x = nowX; y = nowY; // å›è°ƒæŠŠè§’åº¦æŠ›å‡º if (mListener != null) &#123; mListener.getRotation((int) totalDegree); &#125; invalidate(); break; case MotionEvent.ACTION_UP: // å¦‚æœå›¾ç‰‡éœ€è¦å¤åŸåŸæ¥è§’åº¦ï¼Œè°ƒç”¨ä¸‹æ–¹ä»£ç // matrix.setRotate(totalDegree, ox, oy);// invalidate(); break; &#125; return true; &#125; public void reset() &#123; totalDegree = 0; matrix.setRotate(totalDegree, ox, oy); invalidate(); &#125; public interface OnRotationChangeListener &#123; void getRotation(int degree); &#125;&#125; å¥½äº†ï¼Œä¹˜å®¢ä»¬ï¼Œç»ˆç‚¹ç«™å·²åˆ°ï¼Œè°¢è°¢ä½ ä»¬æ—…é€”ä¸­çš„é™ªä¼´ï¼Œè€å¸æœºé©¬ä¸Šè¦ä¸‹ç­äº†ï¼Œå•Šå“ˆå“ˆå“ˆï¼Œè¿˜æ˜¯é‚£å¥è¯ï¼šâ€œä½ ä¸ä¹°ä¸œè¥¿ä¹Ÿæ˜¯æ²¡é’±ï¼Œä¹°äº†ä¸œè¥¿ä¹Ÿæ˜¯æ²¡é’±ï¼Œé‚£å°±è¯´æ˜ä¹°ä¸œè¥¿å®ƒä¸è¦é’±å•Šâ€ï¼Œç¥å¤§å®¶åŒåä¸€è´­ç‰©æ„‰å¿«ã€‚ æœ€åçŒ®ä¸Šæºç åœ°å€ï¼šGetRotateDegreeï¼Œæ¬¢è¿å¤§å®¶starå’Œforkã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>è‡ªå®šä¹‰View</category>
      </categories>
      <tags>
        <tag>è‡ªå®šä¹‰View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android å¼€å‘ä¹‹ç‰ˆæœ¬ç»Ÿä¸€è§„èŒƒ]]></title>
    <url>%2F2016%2F09%2F21%2Fandroid-keep-version-unity%2F</url>
    <content type="text"><![CDATA[Android å¼€å‘å­˜åœ¨ç€ä¼—å¤šç‰ˆæœ¬çš„ä¸åŒï¼Œæ¯”å¦‚ compileSdkVersionã€minSdkVersionã€targetSdkVersion ä»¥åŠé¡¹ç›®ä¸­ä¾èµ–ç¬¬ä¸‰æ–¹åº“çš„ç‰ˆæœ¬ï¼Œä¸åŒçš„ module åŠä¸åŒçš„å¼€å‘äººå‘˜éƒ½æœ‰ä¸åŒçš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªç»Ÿä¸€ç‰ˆæœ¬è§„èŒƒçš„æ–‡ä»¶ï¼Œç°åœ¨æˆ‘å°±æ¥ä»‹ç»ä¸€ç§æ–¹å¼ã€‚ åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œä¹Ÿå°±æ˜¯è·Ÿ app åŒä¸€ç›®å½•ä¸‹çš„ build.gradle æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º åœ¨å…¶æœ€åæ·»åŠ å¦‚ä¸‹ groovy ä»£ç ã€‚ 123456789101112131415161718ext &#123; // Sdk and tools compile_sdk_version = 26 build_tools_version = '26.0.0' min_sdk_version = 14 target_sdk_version = 22 version_code = 100900900 version_name = '1.9.9' // App dependencies support_version = '26.1.0' leakcanary_version = '1.5.4' junit_version = '4.12' robolectric_version = '3.1.2'&#125; æœ‰äº†è¿™ä¸ªè§„èŒƒï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨appä¸‹çš„build.gradleæ–‡ä»¶å°±å¯ä»¥è¿™æ ·æ¥å¼•ç”¨äº† 1234567891011121314151617android &#123; compileSdkVersion compile_sdk_version defaultConfig &#123; minSdkVersion min_sdk_version versionCode version_code versionName version_name &#125;&#125;dependencies &#123; compileOnly "com.android.support:appcompat-v7:$support_version" compileOnly "com.android.support:design:$support_version" testImplementation "junit:junit:$junit_version" testImplementation "org.robolectric:robolectric:$robolectric_version" testImplementation "com.android.support:support-v4:$support_version"&#125; æ˜¯ä¸æ˜¯ä¸€åŠ³æ°¸é€¸äº†ï¼Œä»Šåä¿®æ”¹ç‰ˆæœ¬åªéœ€è¦ä¿®æ ¹ç›®å½•ä¸‹çš„ build.gradle æ–‡ä»¶å³å¯æŠŠæ‰€æœ‰ä¾èµ–ç‰ˆæœ¬éƒ½ä¿®æ”¹ï¼Œå¸Œæœ›å¯ä»¥å¯¹ä½ ä»¬çš„ Android å¼€å‘è§„èŒƒæœ‰æ‰€å¸®åŠ©ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>Android Tips</category>
      </categories>
      <tags>
        <tag>Android Tips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Studio ä¸‹å¯¹èµ„æºè¿›è¡Œåˆ†åŒ…]]></title>
    <url>%2F2016%2F09%2F21%2Fandroid-studio-classify-src-package%2F</url>
    <content type="text"><![CDATA[ä¹Ÿè®¸ä½ æ›¾ç»ç”¨è¿‡è¿™ä¸ªæ’ä»¶æ¥å¯¹èµ„æºæ–‡ä»¶ layout è¿›è¡Œåˆ†ç±»https://github.com/dmytrodanylyk/folding-pluginï¼Œä½†å¦‚ä»Šéšç€ AS ç‰ˆæœ¬çš„å‡é«˜ï¼Œè¯¥æ’ä»¶å·²ç»ä¸å†æ”¯æŒã€‚ nowï¼Œæˆ‘æ¥åˆ†äº«ä¸€ç§æ¯”è¿™ä¸ªæ’ä»¶æ›´åŠ ä¼˜ç§€åˆç†åœ°å¯¹èµ„æºè¿›è¡Œåˆ†åŒ…ï¼Œè®©ä½ çš„èµ„æºæ–‡ä»¶çœ‹èµ·æ¥ç®€æ˜æœ‰åºã€‚å…ˆä¸Šæ•ˆæœå›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºæ–°å¢äº† res_core å’Œ res_sub ä¸¤ä¸ªèµ„æºåŒ…ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥å¯¹æ¯ä¸ªæ¨¡å—çš„èµ„æºéƒ½è¿›è¡Œå…·ä½“åˆ†ç±»ï¼Œæ˜¯ä¸æ˜¯å¿ƒåŠ¨äº†ï¼Œèµ¶ç´§ç…§ç€å¦‚ä¸‹é…ç½®è¯•ä¸€è¯•å§ï¼Œåˆ«å†è®©èµ„æºæ–‡ä»¶ä»¬â€œæ··ä¸ºä¸€æ½­â€äº†ã€‚ æ–¹æ³•å¾ˆç®€å•ï¼Œé…ç½®æˆ‘ä»¬çš„appæ–‡ä»¶å¤¹ä¸‹çš„ build.gradle æ–‡ä»¶ï¼Œæ¯”å¦‚æˆ‘çš„ 12345678android &#123; ... sourceSets &#123; main &#123; res.srcDirs(&apos;src/main/res&apos;, &apos;src/main/res_core&apos;, &apos;src/main/res_sub&apos;) &#125; &#125;&#125; é…ç½®å®Œä¹‹åï¼Œsync project ä¸€ä¸‹å°±æˆåŠŸäº†ã€‚ è¡¥å……ï¼šå‘ç°æœ‰å°ä¼™ä¼´è¯•éªŒä¸æˆåŠŸï¼Œå¥½ä¼ï¼Œæ˜¯æˆ‘ç–æ¼äº†ï¼Œæ–‡ä»¶å¤¹æ˜¯è¦è‡ªå·±åˆ›å»ºçš„ï¼Œå› ä¸ºè‡ªå·±åˆ›å»ºçš„æ–‡ä»¶å¤¹ gradle ä¸èƒ½è§£æä¸ºèµ„æºæ–‡ä»¶æ¥ä½¿ç”¨ï¼Œæ‰€ä»¥éœ€è¦åœ¨ build.gradle ä¸­è¿›è¡Œé…ç½®ï¼Œè¿™æ ·ä½ ä»¬å°±æ‡‚äº†å§ã€‚ å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œå¯ä»¥å‚ç…§AndroidUtilCodeçš„ä½¿ç”¨]]></content>
      <categories>
        <category>Android</category>
        <category>Android Tips</category>
      </categories>
      <tags>
        <tag>Android Tips</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®ç°æ»‘åŠ¨çš„ä¸ƒç§æ–¹æ³•(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F08%2F01%2Fachieve-srcoll-seven-ways-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ å½“äº†è§£äº†Androidåæ ‡ç³»å’Œè§¦æ§äº‹ä»¶åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ç³»ç»Ÿæä¾›çš„APIæ¥å®ç°åŠ¨æ€åœ°ä¿®æ”¹ä¸€ä¸ªViewçš„åæ ‡ï¼Œå³å®ç°æ»‘åŠ¨æ•ˆæœã€‚è€Œä¸ç®¡é‡‡ç”¨å“ªä¸€ç§æ–¹å¼ï¼Œå…¶å®ç°çš„æ€æƒ³åŸºæœ¬æ˜¯ä¸€è‡´çš„ï¼Œå½“è§¦æ‘¸Viewæ—¶ï¼Œç³»ç»Ÿè®°ä¸‹å½“å‰è§¦æ‘¸ç‚¹åæ ‡ï¼›å½“æ‰‹æŒ‡ç§»åŠ¨æ—¶ï¼Œç³»ç»Ÿè®°ä¸‹ç§»åŠ¨åçš„è§¦æ‘¸ç‚¹åæ ‡ï¼Œä»è€Œè·å–åˆ°ç›¸å¯¹äºå‰ä¸€æ¬¡åæ ‡ç‚¹çš„åç§»é‡ï¼Œå¹¶é€šè¿‡åç§»é‡æ¥ä¿®æ”¹Viewçš„åæ ‡ï¼Œè¿™æ ·ä¸æ–­é‡å¤ï¼Œä»è€Œå®ç°æ»‘åŠ¨è¿‡ç¨‹ã€‚ ä¸‹é¢æˆ‘ä»¬å°±é€šè¿‡ä¸€ä¸ªå®ä¾‹ï¼Œæ¥çœ‹çœ‹åœ¨Androidä¸­è¯¥å¦‚ä½•å®ç°æ»‘åŠ¨æ•ˆæœã€‚å®šä¹‰ä¸€ä¸ªViewï¼Œå¹¶ç½®äºä¸€ä¸ªLinearLayoutä¸­ï¼Œå®ç°ä¸€ä¸ªç®€å•çš„å¸ƒå±€ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="match_parent" android:orientation="vertical"&gt; &lt;com.blankj.achievescroll.DragView android:layout_width="100dp" android:layout_height="100dp" android:background="#ff09cfb1"/&gt;&lt;/LinearLayout&gt; æˆ‘ä»¬çš„ç›®çš„å°±æ˜¯è®©è¿™ä¸ªè‡ªå®šä¹‰Viewéšç€æ‰‹æŒ‡åœ¨å±å¹•ä¸Šçš„æ»‘åŠ¨è€Œæ»‘åŠ¨ã€‚åˆå§‹åŒ–æ—¶æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ layoutæ–¹æ³• æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨Viewè¿›è¡Œç»˜åˆ¶æ—¶ï¼Œä¼šè°ƒç”¨onLayout()æ–¹æ³•æ¥è®¾ç½®æ˜¾ç¤ºçš„ä½ç½®ã€‚åŒæ ·ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹Viewçš„leftï¼Œtopï¼Œrightï¼Œbottomå››ä¸ªå±æ€§æ¥æ§åˆ¶Viewçš„åæ ‡ã€‚ä¸å‰é¢æä¾›çš„æ¨¡æ¿ä»£ç ä¸€æ ·ï¼Œåœ¨æ¯æ¬¡å›è°ƒonTouchEventçš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½æ¥è·å–ä¸€ä¸‹è§¦æ‘¸ç‚¹çš„åæ ‡ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚12int x = (int) event.getX();int y = (int) event.getY(); æ¥ç€ï¼Œåœ¨ACTION_DOWNäº‹ä»¶ä¸­è®°å½•è§¦æ‘¸ç‚¹çš„åæ ‡ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345case MotionEvent.ACTION_DOWN: // è®°å½•è§¦æ‘¸ç‚¹åæ ‡ lastX = x; lastY = y; break; æœ€åï¼Œå¯ä»¥åœ¨ACTION_MOVEäº‹ä»¶ä¸­è®¡ç®—åç§»é‡ï¼Œå¹¶å°†åç§»é‡ä½œç”¨åˆ°Layoutçš„leftï¼Œtopï¼Œrightï¼ŒbottomåŸºç¡€ä¸Šï¼Œå¢åŠ è®¡ç®—å‡ºæ¥çš„åç§»é‡ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678910case MotionEvent.ACTION_MOVE: // è®¡ç®—åç§»é‡ int offsetX = x - lastX; int offsetY = y - lastY; // åœ¨å½“å‰leftã€topã€rightã€bottomçš„åŸºç¡€ä¸ŠåŠ ä¸Šåç§»é‡ layout(getLeft() + offsetX, getTop() + offsetY, getRight() + offsetX, getBottom() + offsetY); break; è¿™æ ·æ¯æ¬¡ç§»åŠ¨åï¼ŒViewéƒ½ä¼šè°ƒç”¨Layoutæ–¹æ³•æ¥å¯¹è‡ªå·±é‡æ–°å¸ƒå±€ï¼Œä»è€Œè¾¾åˆ°ç§»åŠ¨Viewçš„æ•ˆæœã€‚ åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä½¿ç”¨çš„æ˜¯getX()ã€getY()æ–¹æ³•æ¥è·å–åæ ‡å€¼ï¼Œå³é€šè¿‡è§†å›¾åæ ‡æ¥è·å–åç§»é‡ã€‚å½“ç„¶ï¼ŒåŒæ ·å¯ä»¥ä½¿ç”¨getRawX()ã€getRawY()æ¥è·å–åæ ‡ï¼Œå¹¶ä½¿ç”¨ç»å¯¹åæ ‡æ¥è®¡ç®—åç§»é‡ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314151617181920212223242526@Overridepublic boolean onTouchEvent(MotionEvent event) &#123; int rawX = (int) event.getRawX(); int rawY = (int) event.getRawY(); switch (event.getAction()) &#123; case MotionEvent.ACTION_DOWN: // è®°å½•è§¦æ‘¸ç‚¹åæ ‡ lastX = rawX; lastY = rawY; break; case MotionEvent.ACTION_MOVE: // è®¡ç®—åç§»é‡ int offsetX = rawX - lastX; int offsetY = rawY - lastY; // åœ¨å½“å‰leftã€topã€rightã€bottomçš„åŸºç¡€ä¸ŠåŠ ä¸Šåç§»é‡ layout(getLeft() + offsetX, getTop() + offsetY, getRight() + offsetX, getBottom() + offsetY); // é‡æ–°è®¾ç½®åˆå§‹åæ ‡ lastX = rawX; lastY = rawY; break; &#125; return true;&#125; ä½¿ç”¨ç»å¯¹åæ ‡ç³»ï¼Œæœ‰ä¸€ç‚¹éå¸¸éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå°±æ˜¯åœ¨æ¯æ¬¡æ‰§è¡Œå®ŒACTION_MOVEçš„é€»è¾‘åï¼Œä¸€å®šè¦é‡æ–°è®¾ç½®åˆå§‹åæ ‡ï¼Œè¿™æ ·æ‰èƒ½å‡†ç¡®åœ°è·å–åç§»é‡ï¼Œä¸¤ç§æ–¹å¼çš„ä¸åŒç‚¹ä¸€å®šè¦è‡ªå·±æƒ³æ¸…æ¥šåŸå› å“¦ã€‚ offsetLeftAndRight()ä¸offsetTopAndBottom() è¿™ä¸ªæ–¹æ³•ç›¸å½“äºç³»ç»Ÿæä¾›çš„ä¸€ä¸ªå¯¹å·¦å³ã€ä¸Šä¸‹ç§»åŠ¨çš„APIçš„å°è£…ã€‚å½“è®¡ç®—å‡ºåç§»é‡åï¼Œåªéœ€è¦ä½¿ç”¨å¦‚ä¸‹ä»£ç å°±å¯ä»¥å®ŒæˆViewçš„é‡æ–°å¸ƒå±€ï¼Œæ•ˆæœä¸ä½¿ç”¨Layoutæ–¹æ³•ä¸€æ ·ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234// åŒæ—¶å¯¹leftå’Œrightè¿›è¡Œåç§»offsetLeftAndRight(offsetX);// åŒæ—¶å¯¹topå’Œbottomè¿›è¡Œåç§»offsetTopAndBottom(offsetY); è¿™é‡Œçš„offsetXã€offSetYä¸åœ¨Layoutæ–¹æ³•ä¸­è®¡ç®—offsetæ–¹æ³•ä¸€æ ·ï¼Œè¿™é‡Œå°±ä¸é‡å¤äº†ã€‚ LayoutParams LayoutParamsä¿å­˜äº†ä¸€ä¸ªViewçš„å¸ƒå±€å‚æ•°ã€‚å› æ­¤å¯ä»¥åœ¨ç¨‹åºä¸­ï¼Œé€šè¿‡æ”¹å˜LayoutParamsæ¥åŠ¨æ€åœ°ä¿®æ”¹ä¸€ä¸ªå¸ƒå±€çš„ä½ç½®å‚æ•°ï¼Œä»è€Œè¾¾åˆ°æ”¹å˜Viewä½ç½®çš„æ•ˆæœã€‚æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨ç¨‹åºä¸­ä½¿ç”¨getLayoutParams()æ¥è·å–ä¸€ä¸ªViewçš„LayouParamsã€‚å½“ç„¶ï¼Œè®¡ç®—åç§»é‡çš„æ–¹æ³•ä¸åœ¨Layoutæ–¹æ³•ä¸­è®¡ç®—offsetä¹Ÿæ˜¯ä¸€æ ·ã€‚å½“è·å–åˆ°åç§»é‡ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡setLayoutParamsæ¥æ”¹å˜å…¶LayoutParamsï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234LinearLayout.LayoutParams layoutParams = (LinearLayout.LayoutParams) getLayoutParams();layoutParams.leftMargin = getLeft() + offsetX;layoutParams.topMargin = getTop() + offsetY;setLayoutParams(layoutParams); ä¸è¿‡è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡getLayoutParams()è·å–LayoutParamsæ—¶ï¼Œéœ€è¦æ ¹æ®Viewæ‰€åœ¨çˆ¶å¸ƒå±€çš„ç±»å‹æ¥è®¾ç½®ä¸åŒçš„ç±»å‹ï¼Œæ¯”å¦‚è¿™é‡Œå°†Viewæ”¾åœ¨LinearLayoutä¸­ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨LinearLayout.LayoutParamsã€‚ç±»ä¼¼åœ°ï¼Œå¦‚æœåœ¨RelativeLayoutä¸­ï¼Œå°±è¦ä½¿ç”¨RelativeLayout.LayoutParamsã€‚å½“ç„¶ï¼Œè¿™ä¸€åˆ‡çš„å‰ææ˜¯ä½ å¿…é¡»è¦æœ‰ä¸€ä¸ªçˆ¶å¸ƒå±€ï¼Œä¸ç„¶ç³»ç»Ÿä¸æ³•è·å–LayoutParamsã€‚ åœ¨é€šè¿‡æ”¹å˜LayoutParamsæ¥æ”¹å˜ä¸€ä¸ªViewçš„ä½ç½®æ—¶ï¼Œé€šå¸¸æ”¹å˜çš„æ˜¯è¿™ä¸ªViewçš„Marginå±æ€§ï¼Œæ‰€ä»¥é™¤äº†ä½¿ç”¨å¸ƒå±€çš„LayoutParamsä¹‹åï¼Œè¿˜å¯ä»¥ä½¿ç”¨ViewGroup.MarginLayoutParamsæ¥å®ç°è¿™æ ·ä¸€ä¸ªåŠŸèƒ½ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234ViewGroup.MarginLayoutParams layoutParams = (ViewGroup.MarginLayoutParams) getLayoutParams();layoutParams.leftMargin = getLeft() + offsetX;layoutParams.topMargin = getTop() + offsetY;setLayoutParams(layoutParams); æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œä½¿ç”¨ViewGroup.MarginLayoutParamsæ›´åŠ çš„æ–¹ä¾¿ï¼Œä¸éœ€è¦è€ƒè™‘çˆ¶å¸ƒå±€çš„ç±»å‹ï¼Œå½“ç„¶ä»–ä»¬çš„æœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„ã€‚ scrollToä¸scrollBy åœ¨ä¸€ä¸ªViewä¸­ï¼Œç³»ç»Ÿæä¾›äº†scrollToã€scrollByä¸¤ç§æ–¹å¼æ¥æ”¹å˜ä¸€ä¸ªViewçš„ä½ç½®ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•çš„åŒºåˆ«éå¸¸å¥½ç†è§£ï¼Œä¸è‹±æ–‡çš„Toä¸Byçš„åŒºåˆ«ç±»ä¼¼ï¼ŒscrollTo(x, y)è¡¨ç¤ºç§»åŠ¨åˆ°ä¸€ä¸ªå…·ä½“çš„åæ ‡ç‚¹(x, y)ï¼Œè€ŒscrollBy(dx, dy) è¡¨ç¤ºç§»åŠ¨çš„å¢é‡ä¸ºdxã€dyã€‚ ä¸å‰é¢å‡ ç§æ–¹å¼ä¸åŒï¼Œåœ¨è·å–åç§»é‡åä½¿ç”¨scrollByæ¥ç§»åŠ¨Viewï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123int offsetX = x - lastX;int offsetY = y - lastY;scrollBy(offsetX, offsetY); ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬æ‹–åŠ¨Viewçš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°Viewå¹¶æ²¡æœ‰ç§»åŠ¨ï¼éš¾é“æ˜¯æˆ‘ä»¬æ–¹æ³•å†™é”™äº†å—ï¼Ÿå…¶å®ï¼Œæ–¹æ³•æ²¡æœ‰å†™é”™ï¼ŒViewä¹Ÿç¡®å®ç§»åŠ¨äº†ï¼Œåªæ˜¯å®ƒç§»åŠ¨çš„å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦ç§»åŠ¨çš„ä¸œè¥¿ã€‚scrollToã€scrollByæ–¹æ³•ç§»åŠ¨çš„éƒ½Viewçš„contentï¼Œå³è®©Viewçš„å†…å®¹ç§»åŠ¨ï¼Œå¦‚æœåœ¨ViewGroupä¸­ä½¿ç”¨scrollToã€scrollByæ–¹æ³•ï¼Œé‚£ä¹ˆç§»åŠ¨çš„å°†æ˜¯æ‰€æœ‰å­Viewï¼Œä½†å¦‚æœåœ¨Viewä¸­ä½¿ç”¨ï¼Œé‚£ä¹ˆç§»åŠ¨çš„å°†æ˜¯Viewçš„å†…å®¹ï¼Œä¾‹å¦‚TextViewï¼Œcontentå°±æ˜¯å®ƒçš„æ–‡æœ¬ï¼›ImageViewï¼Œcontentå°±æ˜¯å®ƒçš„drawableå¯¹è±¡ã€‚ ç›¸ä¿¡é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œè¯»è€…æœ‹å‹åº”è¯¥çŸ¥é“ä¸ºä»€ä¹ˆä¸èƒ½åœ¨Viewä¸­ä½¿ç”¨è¿™ä¸ªä¸¤ä¸ªæ–¹æ³•æ¥æ‹–åŠ¨è¿™ä¸ªViewäº†ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±è¯¥Viewæ‰€åœ¨çš„ViewGroupä¸­æ¥è§†åŒscrollByæ–¹æ³•ï¼Œç§»åŠ¨å®ƒçš„å­Viewï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1((View) getParent()).scrollBy(offsetX, offsetY); ä½†æ˜¯ï¼Œå½“å†æ¬¡æ‹–åŠ¨Viewçš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°Viewè™½ç„¶ç§»åŠ¨äº†ï¼Œä½†å´åœ¨ä¹±åŠ¨ï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„è·Ÿéšè§¦æ‘¸ç‚¹çš„ç§»åŠ¨è€Œç§»åŠ¨ã€‚è¿™é‡Œéœ€è¦å…ˆäº†è§£ä¸€ä¸‹è§†å›¾ç§»åŠ¨çš„ä¸€äº›çŸ¥è¯†ã€‚å¤§å®¶åœ¨ç†è§£è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œä¸å¦¨è¿™æ ·æƒ³è±¡æ‰‹æœºå±å¹•æ˜¯ä¸€ä¸ªä¸­ç©ºçš„ç›–æ¿ï¼Œç›–æ¿ä¸‹é¢æ˜¯ä¸€ä¸ªå·¨å¤§çš„ç”»å¸ƒï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æƒ³è¦æ˜¾ç¤ºçš„è§†å›¾ã€‚å½“æŠŠè¿™ä¸ªç›–æ¿ç›–åœ¨ç”»å¸ƒä¸Šçš„æŸä¸€å¤„æ—¶ï¼Œé€è¿‡ä¸­é—´ç©ºçš„çŸ©å½¢ï¼Œæˆ‘ä»¬çœ‹è§äº†æ‰‹æœºå±å¹•ä¸Šçš„è§†å›¾ï¼Œè€Œç”»å¸ƒåœ¨å…¶ä»–åœ°æ–¹çš„è§†å›¾ï¼Œåˆ™è¢«ç›–æ¿ç›–ä½äº†æ— æ³•çœ‹è§ã€‚æˆ‘ä»¬çš„è§†å›¾ä¸è¿™ä¸ªä¾‹å­éå¸¸ç±»ä¼¼ï¼Œæˆ‘ä»¬æ²¡æœ‰çœ‹è§è§†å›¾ï¼Œå¹¶ä¸ä»£è¡¨å®ƒå°±ä¸å­˜åœ¨ï¼Œæœ‰å¯èƒ½åªæ˜¯åœ¨å±å¹•å¤–é¢è€Œå·²ã€‚å½“è°ƒç”¨scrollByæ–¹æ³•æ—¶ï¼Œå¯ä»¥æƒ³è±¡ä¸ºå¤–é¢çš„ç›–æ¿åœ¨ç§»åŠ¨ï¼Œè¿™ä¹ˆè¯´æ¯”è¾ƒæŠ½è±¡ï¼Œæ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ åœ¨ä¸Šå›¾ä¸­ï¼Œä¸­é—´çš„çŸ©å½¢ç›¸å½“äºå±å¹•ï¼Œå³å¯è§†åŒºåŸŸã€‚åé¢çš„contentå°±ç›¸å½“äºç”»å¸ƒï¼Œä»£è¡¨è§†å›¾ã€‚å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œåªæœ‰è§†å›¾çš„ä¸­é—´éƒ¨åˆ†ç›®å‰æ˜¯å¯è§†çš„ï¼Œå…¶ä»–éƒ¨åˆ†éƒ½ä¸å¯è§ã€‚åœ¨å¯è§åŒºåŸŸä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº†ä¸€ä¸ªButtonï¼Œå®ƒçš„åæ ‡æ˜¯(20,10)ã€‚ ä¸‹é¢ä½¿ç”¨scrollByæ–¹æ³•ï¼Œå°†ç›–æ¿(å±å¹•ã€å¯è§†åŒºåŸŸ)ï¼Œåœ¨æ°´å¹³æ–¹å‘ä¸Šå‘Xè½´æ­£æ–¹å‘(å³æ–¹)å¹³ç§»20ï¼Œåœ¨ç«–ç›´æ–¹å‘ä¸Šå‘Yè½´æ­£æ–¹å‘(ä¸‹æ–¹)å¹³ç§»10ï¼Œé‚£ä¹ˆå¹³ç§»åçš„å¯è§†åŒºåŸŸå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè™½ç„¶è®¾ç½®scrollBy(20, 10)ï¼Œåç§»é‡å‡ä¸ºXè½´ã€Yè½´æ­£æ–¹å‘ä¸Šçš„æ­£æ•°ï¼Œä½†æ˜¯åœ¨å±å¹•çš„å¯è§†åŒºåŸŸå†…ï¼ŒButtonå´å‘Xè½´ã€Yè½´è´Ÿæ–¹å‘ä¸Šç§»åŠ¨äº†ã€‚è¿™å°±æ˜¯å› ä¸ºå‚è€ƒç³»é€‰æ‹©çš„ä¸åŒï¼Œè€Œäº§ç”Ÿçš„ä¸åŒæ•ˆæœã€‚ é€šè¿‡ä¸Šé¢çš„åˆ†æå¯ä»¥å‘ç°ï¼Œå¦‚æœå°†scrollByä¸­çš„å‚æ•°dxå’Œdyè®¾ç½®ä¸ºæ­£æ•°ï¼Œé‚£ä¹ˆcontentå°†å‘åæ ‡è½´è´Ÿæ–¹å‘ç§»åŠ¨ï¼›å¦‚æœå°†scrollByä¸­çš„å‚æ•°dxå’Œdyè®¾ç½®ä¸ºè´Ÿæ•°ï¼Œé‚£ä¹ˆcontentå°†å‘åæ ‡è½´æ­£æ–¹å‘ç§»åŠ¨ã€‚å› æ­¤å›åˆ°å‰é¢çš„ä¾‹å­ï¼Œè¦å®ç°è·Ÿéšæ‰‹æŒ‡ç§»åŠ¨è€Œæ»‘åŠ¨çš„æ•ˆæœï¼Œå°±å¿…é¡»å°†åç§»é‡æ”¹ä¸ºè´Ÿå€¼ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123int offsetX = x - lastX;int offsetY = y - lastY;((View) getParent()).scrollBy(-offsetX, -offsetY); å†å»è¯•éªŒä¸€ä¸‹ï¼Œå¤§å®¶å°±å¯ä»¥å‘ç°ï¼Œæ•ˆæœä¸å‰é¢å‡ ç§æ–¹å¼çš„æ•ˆæœç›¸åŒäº†ã€‚ç±»ä¼¼åœ°ï¼Œåœ¨ä½¿ç”¨ç»å¯¹åæ ‡æ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡scrollToæ–¹æ³•æ¥å®ç°è¿™ä¸€æ•ˆæœã€‚ Scroller æ—¢ç„¶æåˆ°äº†scrollToã€scrollByæ–¹æ³•ï¼Œå°±ä¸å¾—ä¸å†æ¥è¯´ä¸€è¯´Scrollerç±»ã€‚Scrollerç±»ä¸scrollToã€scrollByæ–¹æ³•ååˆ†ç›¸ä¼¼ï¼Œæœ‰ç€åƒä¸ä¸‡ç¼•çš„è”ç³»ã€‚é‚£ä¹ˆå®ƒä»¬ä¹‹é—´å…·ä½“æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿè¦è§£ç­”è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆæ¥çœ‹ä¸€ä¸ªå°ä¾‹å­ã€‚å‡å¦‚è¦å®Œæˆè¿™æ ·ä¸€ä¸ªæ•ˆæœï¼šé€šè¿‡ç‚¹å‡»æŒ‰é’®ï¼Œè®©ä¸€ä¸ªViewGroupçš„å­Viewå‘å³ç§»åŠ¨100ä¸ªåƒç´ ã€‚é—®é¢˜çœ‹ä¼¼éå¸¸ç®€å•ï¼Œåªè¦åœ¨æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ä¸­ä½¿ç”¨å‰é¢è®²çš„scrollByæ–¹æ³•è®¾ç½®ä¸‹åç§»é‡ä¸å°±å¯ä»¥äº†å—ï¼Ÿçš„ç¡®ï¼Œé€šè¿‡è¿™æ ·ä¸€ä¸ªæ–¹æ³•å¯ä»¥è®©ViewGroupä¸­çš„å­Viewå¹³ç§»ã€‚ä½†æ˜¯è¯»è€…æœ‹å‹å¯ä»¥å‘ç°ï¼Œä¸ç®¡ä½¿ç”¨scrollToè¿˜æ˜¯scrollByæ–¹æ³•ï¼Œå­Viewçš„å¹³ç§»éƒ½æ˜¯ç¬é—´å‘ç”Ÿçš„ï¼Œåœ¨äº‹ä»¶æ‰§è¡Œçš„æ—¶å€™å¹³ç§»å°±å·²ç»å®Œæˆäº†ï¼Œè¿™æ ·çš„æ•ˆæœä¼šè®©äººæ„Ÿè§‰éå¸¸çªå…€ã€‚Googleå»ºè®®ä½¿ç”¨è‡ªç„¶çš„è¿‡åº¦åŠ¨ç”»æ¥å®ç°ç§»åŠ¨æ•ˆæœï¼Œå½“ç„¶ä¹Ÿè¦éµå¾ªè¿™ä¸€åŸåˆ™ã€‚å› æ­¤ï¼ŒScrollerç±»å°±è¿™æ ·åº”è¿è€Œç”Ÿäº†ï¼Œé€šè¿‡Scrollerç±»å¯ä»¥å®ç°å¹³æ»‘ç§»åŠ¨çš„æ•ˆæœï¼Œè€Œä¸å†æ˜¯ç¬é—´å®Œæˆçš„ç§»åŠ¨ã€‚ è¯´åˆ°Scrollerç±»çš„å®ç°åŸç†ï¼Œå…¶å®å®ƒä¸å‰é¢ä½¿ç”¨scrollToå’ŒscrollByæ–¹æ³•æ¥å®ç°å­Viewè·Ÿéšæ‰‹æŒ‡ç§»åŠ¨çš„åŸç†åŸºæœ¬ç±»ä¼¼ã€‚è™½ç„¶scrollByæ–¹æ³•æ˜¯è®©å­Viewç¬é—´ä»æŸç‚¹ç§»åŠ¨åˆ°å¦ä¸€ä¸ªç‚¹ï¼Œä½†æ˜¯ç”±äºåœ¨ACTION_MOVEäº‹ä»¶ä¸­ä¸æ–­è·å–æ‰‹æŒ‡ç§»åŠ¨çš„å¾®å°çš„åç§»é‡ï¼Œè¿™æ ·å°±å°†ä¸€æ®µè·ç¦»åˆ’åˆ†æˆäº†Nä¸ªéå¸¸å°çš„åç§»é‡ã€‚è™½ç„¶åœ¨æ¯ä¸ªåç§»é‡é‡Œé¢ï¼Œé€šè¿‡scrollByæ–¹æ³•è¿›è¡Œäº†ç¬é—´ç§»åŠ¨ï¼Œä½†æ˜¯åœ¨æ•´ä½“ä¸Šå´å¯ä»¥è·å¾—ä¸€ä¸ªå¹³æ»‘ç§»åŠ¨çš„æ•ˆæœã€‚è¿™ä¸ªåŸç†ä¸åŠ¨ç”»çš„å®ç°åŸç†åŸºæœ¬ç±»ä¼¼ï¼Œä»–ä»¬éƒ½æ˜¯åˆ©ç”¨äº†äººçœ¼çš„è§†è§‰æš‚ç•™ç‰¹æ€§ã€‚ ä¸‹é¢æˆ‘ä»¬å°±æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•ä½¿ç”¨Scrollerç±»å®ç°å¹³æ»‘ç§»åŠ¨ã€‚åœ¨è¿™ä¸ªå®ä¾‹ä¸­ï¼ŒåŒæ ·è®©å­Viewè·Ÿéšæ‰‹æŒ‡çš„æ»‘åŠ¨è€Œæ»‘åŠ¨ï¼Œä½†æ˜¯åœ¨æ‰‹æŒ‡ç¦»å¼€å±å¹•æ—¶ï¼Œè®©å­Viewå¹³æ»‘åœ°ç§»åŠ¨åˆ°åˆå§‹ä½ç½®ï¼Œå³å±å¹•å·¦ä¸Šè§’ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½¿ç”¨Scrollerç±»éœ€è¦å¦‚ä¸‹ä¸‰ä¸ªæ­¥éª¤ã€‚ åˆå§‹åŒ–Scroller é¦–å…ˆï¼Œé€šè¿‡å®ƒçš„æ„é€ æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªScrollerå¯¹è±¡ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚12// åˆå§‹åŒ–ScrollermScroller = new Scroller(context); é‡å†™computeScroll()æ–¹æ³•ï¼Œå®ç°æ¨¡æ‹Ÿæ»šåŠ¨ ä¸‹é¢æˆ‘ä»¬éœ€è¦é‡å†™computeScroll()æ–¹æ³•ï¼Œå®ƒæ˜¯ä½¿ç”¨Scrollerç±»çš„æ ¸å¿ƒï¼Œç³»ç»Ÿåœ¨ç»˜åˆ¶Viewçš„æ—¶å€™ä¼šåœ¨draw()æ–¹æ³•ä¸­è°ƒç”¨è¯¥æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å®é™…ä¸Šå°±æ˜¯ä½¿ç”¨scrollToæ–¹æ³•ã€‚å†ç»“åˆScrollerå¯¹è±¡ï¼Œå¸®åŠ©è·å–åˆ°å½“å‰çš„æ»šåŠ¨å€¼ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸æ–­åœ°ç¬é—´ç§»åŠ¨ä¸€ä¸ªå°çš„è·ç¦»æ¥å®ç°æ•´ä½“ä¸Šçš„å¹³æ»‘ç§»åŠ¨æ•ˆæœã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒcomputeScrollçš„ä»£ç å¯ä»¥åˆ©ç”¨å¦‚ä¸‹æ¨¡æ¿ä»£ç æ¥å®ç°ã€‚ 123456789101112@Overridepublic void computeScroll() &#123; super.computeScroll(); // åˆ¤æ–­Scrolleræ˜¯å¦æ‰§è¡Œå®Œæ¯• if (mScroller.computeScrollOffset()) &#123; ((View) getParent()).scrollTo( mScroller.getCurrX(), mScroller.getCurrY()); // é€šè¿‡é‡ç»˜æ¥ä¸æ–­è°ƒç”¨computeScroll invalidate(); &#125;&#125; Scrollerç±»æä¾›äº†computeScrollOffset()æ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦å®Œæˆäº†æ•´ä¸ªæ»‘åŠ¨ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†getCurrX()ã€getCurrY()æ–¹æ³•æ¥è·å–å½“å‰æ»‘åŠ¨åæ ‡ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯invalidate()æ–¹æ³•ï¼Œå› ä¸ºåªèƒ½åœ¨computeScroll()æ–¹æ³•ä¸­è·å–æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­çš„scrollXå’ŒscrollYåæ ‡ã€‚ä½†computeScroll()æ–¹æ³•æ˜¯ä¸ä¼šè‡ªåŠ¨è°ƒç”¨çš„ï¼Œåªèƒ½é€šè¿‡invalidate()â†’draw()â†’computeScroll()æ¥é—´æ¥è°ƒç”¨computeScroll()æ–¹æ³•ï¼Œæ‰€ä»¥éœ€è¦åœ¨æ¨¡æ¿ä»£ç ä¸­è°ƒç”¨invalidate()æ–¹æ³•ï¼Œå®ç°å¾ªç¯è·å–scrollXå’ŒscrollYçš„ç›®çš„ã€‚è€Œå½“æ¨¡æ‹Ÿè¿‡ç¨‹ç»“æŸåï¼Œscroller.computeScrollOffset()æ–¹æ³•ä¼šè¿”å›falseï¼Œä»è€Œä¸­æ–­å¾ªç¯ï¼Œå®Œæˆæ•´ä¸ªå¹³æ»‘ç§»åŠ¨è¿‡ç¨‹ã€‚ startScrollå¼€å¯æ¨¡æ‹Ÿè¿‡ç¨‹ æœ€åï¼Œä¸‡äº‹ä¿±å¤‡åªæ¬ ä¸œé£ã€‚æˆ‘ä»¬åœ¨éœ€è¦ä½¿ç”¨å¹³æ»‘ç§»åŠ¨äº‹ä»¶ä¸­ï¼Œä½¿ç”¨Scrollerç±»çš„startScroll()æ–¹æ³•æ¥å¼€å¯å¹³æ»‘ç§»åŠ¨è¿‡ç¨‹ã€‚startScroll()æ–¹æ³•å…·æœ‰ä¸¤ä¸ªé‡è½½æ–¹æ³•ã€‚ public void startScroll(int startX, int startY, int dx, int dy, int duration) public void startScroll(int startX, int startY, int dx, int dy) å¯ä»¥çœ‹åˆ°ä»–ä»¬çš„åŒºåˆ«å°±æ˜¯ä¸€ä¸ªå…·æœ‰æŒ‡å®šçš„æŒç»­æ—¶é•¿ï¼Œè€Œå¦ä¸€ä¸ªæ²¡æœ‰ã€‚è¿™ä¸ªéå¸¸å¥½ç†è§£ï¼Œä¸åœ¨åŠ¨ç”»ä¸­è®¾ç½®durarionå’Œä½¿ç”¨é»˜è®¤çš„æ˜¾ç¤ºæ—¶é•¿æ˜¯ä¸€ä¸ªé“ç†ã€‚è€Œå…¶ä»–å››ä¸ªåæ ‡ï¼Œåˆ™ä¸å®ƒä»¬çš„å‘½åå«ä¹‰ç›¸åŒï¼Œå°±æ˜¯èµ·å§‹åæ ‡ä¸åç§»é‡ã€‚åœ¨è·å–åæ ‡æ—¶ï¼Œé€šå¸¸å¯ä»¥ä½¿ç”¨getScrollX()å’ŒgetScrollerY()æ–¹æ³•æ¥è·å–çˆ¶è§†å›¾ä¸­contentæ‰€æ»‘åŠ¨åˆ°çš„ç”µçš„åæ ‡ï¼Œä¸è¿‡è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªå€¼çš„æ­£è´Ÿï¼Œå®ƒä¸åœ¨scrollByå’ŒscrollToä¸­è®²è§£çš„æƒ…å†µæ˜¯ä¸€æ ·çš„ã€‚ é€šè¿‡ä¸Šé¢ä¸‰ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Scrollerç±»æ¥å®ç°å¹³æ»‘ç§»åŠ¨äº†ï¼Œä¸‹é¢å›åˆ°å®ä¾‹ä¸­ï¼Œåœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–Scrollerå¯¹è±¡ï¼Œå¹¶é‡å†™Viewçš„computeScroll()æ–¹æ³•ã€‚æœ€åï¼Œéœ€è¦ç›‘å¬æ‰‹æŒ‡ç¦»å¼€å±å¹•çš„äº‹ä»¶ï¼Œå¹¶åœ¨è¯¥äº‹ä»¶ä¸­é€šè¿‡è°ƒç”¨startScroll()æ–¹æ³•å®Œæˆå¹³æ»‘ç§»åŠ¨ã€‚é‚£ä¹ˆè¦ç›‘å¬æ‰‹æŒ‡ç¦»å¼€å±å¹•çš„äº‹ä»¶ï¼Œåªéœ€è¦åœ¨onTouchEventä¸­å¢åŠ ä¸€ä¸ªACTION_UPç›‘å¬é€‰é¡¹å³å¯ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789case MotionEvent.ACTION_UP: // æ‰‹æŒ‡ç¦»å¼€æ—¶ï¼Œæ‰§è¡Œæ»‘åŠ¨è¿‡ç¨‹ View viewGroup = ((View) getParent()); mScroller.startScroll( viewGroup.getScrollX(), viewGroup.getScrollY(), -viewGroup.getScrollX(), -viewGroup.getScrollY()); invalidate(); åœ¨startScroll()æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬è·å–å­Viewç§»åŠ¨çš„è·ç¦»â€”â€”getScrollX()ã€getScrollY()ï¼Œå¹¶å°†åç§»é‡è®¾ç½®ä¸ºå…¶ç›¸åæ•°ï¼Œä»è€Œå°†å­Viewæ»‘åŠ¨åˆ°åŸæ¥ä½ç½®ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„è¿˜æ˜¯invalidate()æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥é€šçŸ¥Viewè¿›è¡Œé‡ç»˜ï¼Œä»è€Œæ¥è°ƒç”¨conputeScroll()çš„æ¨¡æ‹Ÿè¿‡ç¨‹ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç»™startScroll()æ–¹æ³•å¢åŠ ä¸€ä¸ªdurationçš„å‚æ•°æ¥è®¾ç½®æ»‘åŠ¨çš„æŒç»­æ—¶é•¿ã€‚ å±æ€§åŠ¨ç”» ä¸ºè§†å›¾å¢åŠ ä½ç§»åŠ¨ç”»ï¼Œè§†å›¾è¿›è¡Œä½ç§»åç§»åï¼Œåˆ©ç”¨è§†å›¾åŠ¨ç”»åœ¨æ¾æ‰‹åè§†å›¾å›åˆ°åŸå¤„ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314151617181920212223242526272829@Overridepublic boolean onTouchEvent(MotionEvent event) &#123; int x = (int) event.getX(); int y = (int) event.getY(); switch (event.getAction()) &#123; case MotionEvent.ACTION_DOWN: // è®°å½•è§¦æ‘¸ç‚¹åæ ‡ lastX = x; lastY = y; break; case MotionEvent.ACTION_MOVE: // è®¡ç®—åç§»é‡ int offsetX = x - lastX; int offsetY = y - lastY;// åŒæ—¶å¯¹leftå’Œrightè¿›è¡Œåç§» offsetLeftAndRight(offsetX); // åŒæ—¶å¯¹topå’Œbottomè¿›è¡Œåç§» offsetTopAndBottom(offsetY); break; case MotionEvent.ACTION_UP: // æ‰‹æŒ‡ç¦»å¼€æ—¶ï¼Œæ‰§è¡Œæ»‘åŠ¨è¿‡ç¨‹ ObjectAnimator animator1 = ObjectAnimator.ofFloat(this, "translationX", -getLeft()); ObjectAnimator animator2 = ObjectAnimator.ofFloat(this, "translationY", -getTop()); AnimatorSet set = new AnimatorSet(); set.playTogether(animator1, animator2); set.start(); break; &#125; return true;&#125; ViewDragHelper Googleåœ¨å…¶supportåº“ä¸­ä¸ºæˆ‘ä»¬æä¾›äº†DrawerLayoutå’ŒSlidingPaneLayoutä¸¤ä¸ªå¸ƒå±€æ¥å¸®åŠ©å¼€å‘è€…å®ç°ä¾§è¾¹æ æ»‘åŠ¨çš„æ•ˆæœã€‚è¿™ä¸¤ä¸ªæ–°çš„å¸ƒå±€ï¼Œå¤§å¤§æ–¹ä¾¿äº†æˆ‘ä»¬åˆ›å»ºè‡ªå·±çš„æ»‘åŠ¨å¸ƒå±€ç•Œé¢ã€‚ç„¶è€Œï¼Œè¿™ä¸¤ä¸ªåŠŸèƒ½å¼ºå¤§çš„å¸ƒå±€èƒŒåï¼Œå´éšè—ç€ä¸€ä¸ªé²œä¸ºäººçŸ¥å´åŠŸèƒ½å¼ºå¤§çš„ç±»â€”â€”ViewDragHelperã€‚é€šè¿‡ViewDragHelperï¼ŒåŸºæœ¬å¯ä»¥å®ç°å„ç§ä¸åŒçš„æ»‘åŠ¨ã€æ‹–æ”¾éœ€æ±‚ï¼Œå› æ­¤è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯å„ç§æ»‘åŠ¨æ–¹æ¡ˆä¸­çš„ç»ˆæç»æ‹›ã€‚ ViewDragHelperè™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†å…¶ä½¿ç”¨æ–¹æ³•ä¹Ÿæ˜¯è¿™æ¬¡æœ€å¤æ‚çš„ã€‚è¯»è€…æœ‹å‹éœ€è¦åœ¨ç†è§£ViewDragHelperåŸºæœ¬ä½¿ç”¨æ–¹æ³•çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡ä¸æ–­ç»ƒä¹ æ¥æŒæ¡å®ƒçš„æŠ€å·§ã€‚ä¸‹é¢é€šè¿‡ä¸€ä¸ªå®ä¾‹ï¼Œæ¥æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ViewDragHelperåˆ›å»ºä¸€ä¸ªæ»‘åŠ¨å¸ƒå±€ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‡†å¤‡å®ç°ç±»ä¼¼QQæ»‘åŠ¨ä¾§è¾¹æ çš„å¸ƒå±€ï¼Œåˆå§‹æ—¶æ˜¾ç¤ºå†…å®¹ç•Œé¢ï¼Œå½“ç”¨æˆ·æ‰‹æŒ‡æ»‘åŠ¨è¶…è¿‡ä¸€æ®µè·ç¦»æ—¶ï¼Œå†…å®¹ç•Œé¢ä¾§æ»‘æ˜¾ç¤ºèœå•ç•Œé¢ï¼Œæ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ä¸‹é¢æ¥çœ‹å…·ä½“çš„ä»£ç æ˜¯å¦‚ä½•å®ç°çš„ã€‚ åˆå§‹åŒ–ViewDragHelper é¦–å…ˆï¼Œè‡ªç„¶æ˜¯éœ€è¦åˆå§‹åŒ–ViewDragHelperã€‚ViewDragHelperé€šå¸¸å®šä¹‰åœ¨ä¸€ä¸ªViewGroupçš„å†…éƒ¨ï¼Œå¹¶é€šè¿‡å…¶é™æ€å·¥å‚æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1mViewDragHelper = ViewDragHelper.create(this, callback); å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦ç›‘å¬çš„Viewï¼Œé€šå¸¸éœ€è¦æ˜¯ä¸€ä¸ªViewGroupï¼Œå³parentViewï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªCallbackå›è°ƒï¼Œè¿™ä¸ªå›è°ƒå°±æ˜¯æ•´ä¸ªViewDragHelperçš„é€»è¾‘æ ¸å¿ƒï¼Œåé¢å†æ¥è¯¦ç»†è®²è§£ã€‚ æ‹¦æˆªäº‹ä»¶ æ¥ä¸‹æ¥ï¼Œè¦é‡å†™äº‹ä»¶æ‹¦æˆªæ–¹æ³•ï¼Œå°†äº‹ä»¶ä¼ é€’ç»™ViewDragHelperè¿›è¡Œå¤„ç†ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678910@Overridepublic boolean onInterceptTouchEvent(MotionEvent ev) &#123; return super.onInterceptTouchEvent(ev);&#125;@Overridepublic boolean onTouchEvent(MotionEvent event) &#123; // å°†è§¦æ‘¸äº‹ä»¶ä¼ é€’ç»™ViewDragHelperï¼Œæ­¤æ“ä½œå¿…ä¸å¯å°‘ mViewDragHelper.processTouchEvent(event); return true;&#125; è¿™ä¸€ç‚¹æˆ‘ä»¬åœ¨è®²Androidäº‹ä»¶æœºåˆ¶çš„æ—¶å€™å·²ç»è¿›è¡Œäº†è¯¦ç»†è®²è§£ï¼Œè¿™é‡Œå°±ä¸å†é‡å¤äº†ã€‚ å¤„ç†computeScroll æ²¡é”™ï¼Œä½¿ç”¨ViewDragHelperåŒæ ·éœ€è¦é‡å†™ä¸‹computeScroll()æ–¹æ³•ï¼Œå› ä¸ºViewDragHelperå†…éƒ¨ä¹Ÿæ˜¯é€šè¿‡Scrolleræ¥å®ç°å¹³æ»‘ç§»åŠ¨çš„ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„æ¨¡æ¿ä»£ç ã€‚ 123456@Overridepublic void computeScroll() &#123; if (mViewDragHelper.continueSettling(true)) &#123; ViewCompat.postInvalidateOnAnimation(this); &#125;&#125; å¤„ç†å›è°ƒCallback ä¸‹é¢å°±æ˜¯æœ€å…³é”®çš„Callbackå®ç°ï¼Œé€šè¿‡å¦‚ä¸‹æ‰€ç¤ºä»£ç æ¥åˆ›å»ºä¸€ä¸ªViewDragHelper.Callbackã€‚ 123456private ViewDragHelper.Callback callback = new ViewDragHelper.Callback() &#123; @Override public boolean tryCaptureView(View child, int pointerId) &#123; return false; &#125;&#125;; IDEè‡ªåŠ¨å¸®æˆ‘ä»¬é‡å†™äº†ä¸€ä¸ªæ–¹æ³•â€”â€”tryCaptureView()ã€‚é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šåœ¨åˆ›å»ºViewDragHelperæ—¶ï¼Œå‚æ•°parentViewä¸­å“ªä¸€ä¸ªå­Viewå¯ä»¥è¢«ç§»åŠ¨ï¼Œä¾‹å¦‚åœ¨è¿™ä¸ªå®ä¾‹ä¸­è‡ªå®šä¹‰äº†ä¸€ä¸ªViewGroupï¼Œé‡Œé¢å®šä¹‰äº†ä¸¤ä¸ªå­Viewâ€”â€”MenuViewå’ŒMainViewï¼Œå½“æŒ‡å®šå¦‚ä¸‹ä»£ç æ—¶ï¼Œåˆ™åªæœ‰MainViewæ˜¯å¯ä»¥è¢«æ‹–åŠ¨çš„ã€‚ 123456// ä½•æ—¶å¼€å§‹æ£€æµ‹è§¦æ‘¸äº‹ä»¶@Overridepublic boolean tryCaptureView(View child, int pointerId) &#123; // å¦‚æœå½“å‰è§¦æ‘¸çš„childæ˜¯mMainViewæ—¶å¼€å§‹æ£€æµ‹ return mMainView == child;&#125; ä¸‹é¢æ¥çœ‹å…·ä½“çš„æ»‘åŠ¨æ–¹æ³•â€”â€”clampViewPositionVertical()å’ŒclampViewPositionHorizontal()ï¼Œåˆ†åˆ«å¯¹åº”å‚ç›´å’Œæ°´å¹³æ–¹å‘ä¸Šçš„æ»‘åŠ¨ã€‚å¦‚æœè¦å®ç°æ»‘åŠ¨æ•ˆæœï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯å¿…é¡»è¦é‡å†™çš„ã€‚å› ä¸ºå®ƒé»˜è®¤çš„è¿”å›å€¼æ˜¯0ï¼Œå³ä¸å‘ç”Ÿæ»‘åŠ¨ã€‚å½“ç„¶ï¼Œå¦‚æœåªé‡å†™clampViewPositionVertical()æˆ–clampViewPositionHorizontal()ä¸­çš„ä¸€ä¸ªï¼Œé‚£ä¹ˆå°±åªä¼šå®ç°è¯¥æ–¹å‘ä¸Šçš„æ»‘åŠ¨æ•ˆæœäº†ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678@Overridepublic int clampViewPositionVertical(View child, int top, int dy) &#123; return top;&#125;@Overridepublic int clampViewPositionHorizontal(View child, int left, int dx) &#123; return left;&#125; clampViewPositionVertical(View child, int top, int dy)ä¸­çš„å‚æ•°topï¼Œä»£è¡¨åœ¨å‚ç›´æ–¹å‘ä¸Šchildç§»åŠ¨çš„è·ç¦»ï¼Œè€Œdyåˆ™è¡¨ç¤ºæ¯”è¾ƒå‰ä¸€æ¬¡çš„å¢é‡ã€‚åŒç†ï¼ŒclampViewPositionHorizontal(View child, int left, int dx)ä¹Ÿæ˜¯ç±»ä¼¼çš„å«ä¹‰ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œåªéœ€è¦è¿”å›topå’Œleftå³å¯ï¼Œä½†å½“éœ€è¦æ›´åŠ ç²¾ç¡®åœ°è®¡ç®—paddingç­‰å±æ€§çš„æ—¶å€™ï¼Œå°±éœ€è¦å¯¹leftè¿›è¡Œä¸€äº›å¤„ç†ï¼Œå¹¶è¿”å›åˆé€‚å¤§å°çš„å€¼ã€‚ ä»…ä»…æ˜¯é€šè¿‡é‡å†™ä¸Šé¢çš„è¿™ä¸‰ä¸ªæ–¹æ³•ï¼Œå°±å¯ä»¥å®ç°ä¸€ä¸ªæœ€åŸºæœ¬çš„æ»‘åŠ¨æ•ˆæœäº†ã€‚å½“ç”¨æ‰‹æ‹–åŠ¨MainViewçš„æ—¶å€™ï¼Œå®ƒå°±å¯ä»¥è·Ÿéšæ‰‹æŒ‡çš„æ»‘åŠ¨è€Œæ»‘åŠ¨äº†ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678910111213141516private ViewDragHelper.Callback callback = new ViewDragHelper.Callback() &#123; // ä½•æ—¶å¼€å§‹æ£€æµ‹è§¦æ‘¸äº‹ä»¶ @Override public boolean tryCaptureView(View child, int pointerId) &#123; // å¦‚æœå½“å‰è§¦æ‘¸çš„childæ˜¯mMainViewæ—¶å¼€å§‹æ£€æµ‹ return mMainView == child; &#125; @Override public int clampViewPositionVertical(View child, int top, int dy) &#123; return 0; &#125; @Override public int clampViewPositionHorizontal(View child, int left, int dx) &#123; return left; &#125;&#125;; ä¸‹é¢ç»§ç»­æ¥ä¼˜åŒ–è¿™ä¸ªå®ä¾‹ã€‚åœ¨è®²è§£Scrollerç±»æ—¶ï¼Œæ›¾å®ç°äº†è¿™æ ·ä¸€ä¸ªæ•ˆæœâ€”â€”åœ¨æ‰‹æŒ‡ç¦»å¼€å±å¹•åï¼Œå­Viewæ»‘åŠ¨å›åˆå§‹ä½ç½®ã€‚å½“æ—¶æˆ‘ä»¬æ˜¯é€šè¿‡ç›‘å¬ACTION_UPäº‹ä»¶ï¼Œå¹¶é€šè¿‡è°ƒç”¨Scrollerç±»æ¥å®ç°çš„ï¼Œè¿™é‡Œä½¿ç”¨ViewDragHelperæ¥å®ç°è¿™æ ·çš„æ•ˆæœã€‚åœ¨ViewDragHelper.Callbackä¸­ï¼Œç³»ç»Ÿæä¾›äº†è¿™æ ·çš„æ–¹æ³•â€”â€”onViewReleased()ï¼Œé€šè¿‡é‡å†™è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥éå¸¸ç®€å•åœ°å®ç°å½“æ‰‹æŒ‡ç¦»å¼€å±å¹•åå®ç°çš„æ“ä½œã€‚å½“ç„¶ï¼Œè¿™ä¸ªæ–¹æ³•å†…éƒ¨æ˜¯é€šè¿‡Scrollerç±»æ¥å®ç°çš„ï¼Œè¿™ä¹Ÿæ˜¯å‰é¢é‡å†™computeScroll()æ–¹æ³•çš„åŸå› ï¼Œè¿™éƒ¨åˆ†ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112131415// æ‹–åŠ¨ç»“æŸåè°ƒç”¨@Overridepublic void onViewReleased(View releasedChild, float xvel, float yvel) &#123; super.onViewReleased(releasedChild, xvel, yvel); // æ‰‹æŒ‡æŠ¬èµ·åç¼“æ…¢ç§»åŠ¨åˆ°æŒ‡å®šä½ç½® if (mMainView.getLeft() &lt; 500) &#123; // å…³é—­èœå• // ç›¸å½“äºScrollerçš„startScrollæ–¹æ³• mViewDragHelper.smoothSlideViewTo(mMainView, 0, 0); &#125; else &#123; // æ‰“å¼€èœå• mViewDragHelper.smoothSlideViewTo(mMainView, 300, 0); &#125; ViewCompat.postInvalidateOnAnimation(DragViewGroup.this);&#125; è®¾ç½®è®©MainViewç§»åŠ¨åå·¦è¾¹è·å°äº500åƒç´ çš„æ—¶å€™ï¼Œå°±æ˜¯ç”¨smoothSlideViewTo()æ–¹æ³•æ¥å°†MainViewè¿˜åŸåˆ°åˆå§‹çŠ¶æ€ï¼Œå³åæ ‡ä¸º(0, 0)çš„ç‚¹ã€‚è€Œå½“å…¶å·¦è¾¹è·å¤§äº500çš„æ—¶å€™ï¼Œåˆ™å°†MainViewç§»åŠ¨åˆ°(300, 0)åæ ‡ï¼Œå³æ˜¾ç¤ºMenuViewã€‚è¯»è€…æœ‹å‹å¯ä»¥å‘ç°å¦‚ä¸‹æ‰€ç¤ºçš„è¿™ä¸¤è¡Œä»£ç ï¼Œä¸åœ¨ä½¿ç”¨Scrollerç±»çš„æ—¶å€™ä½¿ç”¨çš„startScroll()æ–¹æ³•æ˜¯ä¸æ˜¯éå¸¸åƒå‘¢ï¼Ÿ 1234567// ViewDragHelpermViewDragHelper.smoothSlideViewTo(mMainView, 0, 0);ViewCompat.postInvalidateOnAnimation(DragViewGroup.this);// ScrollmScroller.startScroll(x, y, dx, dy);invalidate(); é€šè¿‡å‰é¢ä¸€æ­¥æ­¥çš„åˆ†æï¼Œç°åœ¨è¦å®ç°ç±»ä¼¼QQä¾§æ»‘èœå•çš„æ•ˆæœï¼Œæ˜¯ä¸æ˜¯å°±éå¸¸ç®€å•äº†å‘¢ï¼Ÿä¸‹é¢è‡ªå®šä¹‰ä¸€ä¸ªViewGroupæ¥å®Œæˆæ•´ä¸ªå®ä¾‹çš„ç¼–å†™ã€‚æ»‘åŠ¨çš„å¤„ç†éƒ¨åˆ†å‰é¢å·²ç»è®²è§£è¿‡äº†ï¼Œåœ¨è‡ªå®šä¹‰ViewGroupçš„onFInishInflate()æ–¹æ³•ä¸­ï¼ŒæŒ‰é¡ºåºå°†å­Viewåˆ†åˆ«å®šä¹‰æˆMenuViewå’ŒMainViewï¼Œå¹¶åœ¨onSizeChanged()æ–¹æ³•ä¸­è·å¾—Viewçš„å®½åº¦ã€‚å¦‚æœä½ éœ€è¦æ ¹æ®Viewçš„å®½åº¦æ¥å¤„ç†æ»‘åŠ¨åçš„æ•ˆæœï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå€¼æ¥è¿›è¡Œåˆ¤æ–­ã€‚è¿™éƒ¨åˆ†ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011@Overrideprotected void onFinishInflate() &#123; super.onFinishInflate(); mMenuView = getChildAt(0); mMainView = getChildAt(1);&#125;@Overrideprotected void onSizeChanged(int w, int h, int oldw, int oldh) &#123; super.onSizeChanged(w, h, oldw, oldh); mWidth = mMenuView.getMeasuredWidth();&#125; æœ€åï¼Œæ•´ä¸ªé€šè¿‡ViewDragHelperå®ç°QQä¾§æ»‘åŠŸèƒ½çš„å®Œæ•´ä»£ç å‚è€ƒé¡¹ç›®åœ°å€å³å¯ã€‚ å½“ç„¶ï¼Œè¿™é‡Œåªæ˜¯éå¸¸ç®€å•åœ°æ¨¡æ‹Ÿäº†QQä¾§æ»‘èœå•è¿™ä¸ªåŠŸèƒ½ã€‚ViewDragHelperçš„å¾ˆå¤šå¼ºå¤§åŠŸèƒ½è¿˜æ²¡èƒ½å¤Ÿå¾—åˆ°å±•ç¤ºã€‚åœ¨ViewDragHelper.Callbackä¸­ï¼Œç³»ç»Ÿå®šä¹‰äº†å¤§é‡çš„ç›‘å¬äº‹ä»¶æ¥å¸®åŠ©æˆ‘ä»¬å¹å„ç§äº‹ä»¶ï¼Œä¸‹é¢å°±åˆ—ä¸¾ä¸€äº›äº‹ä»¶ã€‚ onViewCaptured() è¿™ä¸ªäº‹ä»¶åœ¨ç”¨æˆ·è§¦æ‘¸åˆ°Viewåè°ƒç”¨ã€‚ onViewDragStateChanged() è¿™ä¸ªäº‹ä»¶åœ¨æ‹–æ‹½çŠ¶æ€æ”¹å˜æ—¶å›è°ƒï¼Œæ¯”å¦‚idleï¼Œdraggingç­‰çŠ¶æ€ã€‚ onViewPositionChanged() è¿™ä¸ªäº‹ä»¶åœ¨ä½ç½®æ”¹å˜æ—¶å›è°ƒï¼Œå¸¸ç”¨äºæ»‘åŠ¨æ—¶æ›´æ”¹scaleè¿›è¡Œç¼©æ”¾ç­‰æ•ˆæœã€‚ ä½¿ç”¨ViewDragHelperå¯ä»¥å¸®åŠ©æˆ‘ä»¬éå¸¸å¥½åœ°å¤„ç†ç¨‹åºä¸­çš„æ»‘åŠ¨æ•ˆæœã€‚ä½†åŒæ—¶ViewDragHelperçš„ä½¿ç”¨ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦å¼€å‘è€…å¯¹äº‹ä»¶æ‹¦æˆªã€æ»‘åŠ¨å¤„ç†éƒ½æœ‰æ¯”è¾ƒæ¸…æ¥šçš„è®¤è¯†ã€‚æ‰€ä»¥å»ºè®®åˆå­¦è€…å¾ªåºæ¸è¿›ï¼Œåœ¨æŒæ¡å‰é¢å‡ ç§è§£å†³æ–¹æ¡ˆçš„åŸºç¡€ä¸Šï¼Œå†æ¥å­¦ä¹ ViewDragHelperï¼Œä»¥å®ç°æ›´åŠ ä¸°å¯Œçš„æ»‘åŠ¨æ•ˆæœã€‚ é¡¹ç›®åœ°å€â†’AchieveScroll åŸæ–‡åœ°å€å®ç°æ»‘åŠ¨çš„ä¸ƒç§æ–¹æ³•(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>5.Android Scrollåˆ†æ</category>
      </categories>
      <tags>
        <tag>5.Android Scrollåˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidå¼€å‘äººå‘˜ä¸å¾—ä¸æ”¶é›†çš„ä»£ç (æŒç»­æ›´æ–°ä¸­)]]></title>
    <url>%2F2016%2F07%2F31%2Fandroid-utils-code%2F</url>
    <content type="text"><![CDATA[DownloadGradle:1234implementation 'com.blankj:utilcode:1.28.0'// if u use AndroidX, use the followingimplementation 'com.blankj:utilcodex:1.28.0' APIs Activity ç›¸å…³ -&gt; ActivityUtils.java -&gt; Demo1234567891011121314151617181920addActivityLifecycleCallbacks : æ–°å¢ Activity ç”Ÿå‘½å‘¨æœŸç›‘å¬removeActivityLifecycleCallbacks: ç§»é™¤ Activity ç”Ÿå‘½å‘¨æœŸç›‘å¬getAliveActivityByContext : æ ¹æ®ä¸Šä¸‹æ–‡è·å–å­˜æ´»çš„ ActivitygetActivityByContext : æ ¹æ®ä¸Šä¸‹æ–‡è·å– ActivityisActivityExists : åˆ¤æ–­ Activity æ˜¯å¦å­˜åœ¨startActivity : å¯åŠ¨ ActivitystartActivityForResult : å¯åŠ¨ Activity ä¸ºè¿”å›ç»“æœstartActivities : å¯åŠ¨å¤šä¸ª ActivitystartHomeActivity : å›åˆ°æ¡Œé¢getActivityList : è·å– Activity æ ˆé“¾è¡¨getLauncherActivity : è·å–å¯åŠ¨é¡¹ ActivitygetMainActivities : è·å–ä¸»çš„ Activity ä»¬getTopActivity : è·å–æ ˆé¡¶ ActivityisActivityAlive : åˆ¤æ–­ Activity æ˜¯å¦å­˜æ´»isActivityExistsInStack : åˆ¤æ–­ Activity æ˜¯å¦å­˜åœ¨æ ˆä¸­finishActivity : ç»“æŸ ActivityfinishToActivity : ç»“æŸåˆ°æŒ‡å®š ActivityfinishOtherActivities : ç»“æŸæ‰€æœ‰å…¶ä»–ç±»å‹çš„ ActivityfinishAllActivities : ç»“æŸæ‰€æœ‰ ActivityfinishAllActivitiesExceptNewest : ç»“æŸé™¤æœ€æ–°ä¹‹å¤–çš„æ‰€æœ‰ Activity AdaptScreen ç›¸å…³ -&gt; AdaptScreenUtils.java -&gt; Demo12345adaptWidth : é€‚é…å®½åº¦adaptHeight: é€‚é…é«˜åº¦closeAdapt : å…³é—­é€‚é…ï¼ˆpt ç­‰åŒäº dpï¼‰pt2Px : pt è½¬ pxpx2Pt : px è½¬ pt Api ç›¸å…³ -&gt; ApiUtils.java -&gt; README1getApi: è·å– api çš„å®ä¾‹ App ç›¸å…³ -&gt; AppUtils.java -&gt; Demo123456789101112131415161718192021222324252627registerAppStatusChangedListener : æ³¨å†Œ App å‰åå°åˆ‡æ¢ç›‘å¬å™¨unregisterAppStatusChangedListener: æ³¨é”€ App å‰åå°åˆ‡æ¢ç›‘å¬å™¨installApp : å®‰è£… Appï¼ˆæ”¯æŒ 8.0ï¼‰uninstallApp : å¸è½½ AppisAppInstalled : åˆ¤æ–­ App æ˜¯å¦å®‰è£…isAppRoot : åˆ¤æ–­ App æ˜¯å¦æœ‰ root æƒé™isAppDebug : åˆ¤æ–­ App æ˜¯å¦æ˜¯ Debug ç‰ˆæœ¬isAppSystem : åˆ¤æ–­ App æ˜¯å¦æ˜¯ç³»ç»Ÿåº”ç”¨isAppForeground : åˆ¤æ–­ App æ˜¯å¦å¤„äºå‰å°isAppRunning : åˆ¤æ–­ App æ˜¯å¦è¿è¡ŒlaunchApp : æ‰“å¼€ ApprelaunchApp : é‡å¯ ApplaunchAppDetailsSettings : æ‰“å¼€ App å…·ä½“è®¾ç½®exitApp : å…³é—­åº”ç”¨getAppIcon : è·å– App å›¾æ ‡getAppPackageName : è·å– App åŒ…ågetAppName : è·å– App åç§°getAppPath : è·å– App è·¯å¾„getAppVersionName : è·å– App ç‰ˆæœ¬å·getAppVersionCode : è·å– App ç‰ˆæœ¬ç getAppSignature : è·å– App ç­¾ågetAppSignatureSHA1 : è·å–åº”ç”¨ç­¾åçš„çš„ SHA1 å€¼getAppSignatureSHA256 : è·å–åº”ç”¨ç­¾åçš„çš„ SHA256 å€¼getAppSignatureMD5 : è·å–åº”ç”¨ç­¾åçš„çš„ MD5 å€¼getAppInfo : è·å– App ä¿¡æ¯getAppsInfo : è·å–æ‰€æœ‰å·²å®‰è£… App ä¿¡æ¯getApkInfo : è·å– Apk ä¿¡æ¯ æ•°ç»„ç›¸å…³ -&gt; ArrayUtils.java -&gt; Test123456789101112131415161718192021222324252627282930313233newArray : æ–°å»ºæ•°ç»„newLongArray : æ–°å»ºé•¿æ•´å‹æ•°ç»„newIntArray : æ–°å»ºæ•´å‹æ•°ç»„newShortArray : æ–°å»º short æ•°ç»„newCharArray : æ–°å»ºå­—ç¬¦æ•°ç»„newByteArray : æ–°å»ºå­—èŠ‚æ•°ç»„newDoubleArray : æ–°å»ºåŒç²¾åº¦æ•°ç»„newFloatArray : æ–°å»ºæµ®ç‚¹æ•°æ•°ç»„newBooleanArray : æ–°å»º boolean æ•°ç»„isEmpty : åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©ºgetLength : è·å–æ•°ç»„é•¿åº¦isSameLength : åˆ¤æ–­ä¸¤æ•°ç»„é•¿åº¦æ˜¯å¦ç›¸ç­‰get : è·å–æ•°ç»„çš„ç´¢å¼•å€¼set : è®¾ç½®æ•°ç»„çš„ç´¢å¼•å€¼equals : åˆ¤æ–­æ•°ç»„æ˜¯å¦ç›¸ç­‰reverse : é€†åºæ•°ç»„copy : æ‹·è´æ•°ç»„subArray : æˆªå–æ•°ç»„add : å¢åŠ æ•°ç»„remove : ç§»é™¤æŒ‡å®šçš„ç´¢å¼•removeElement : ç§»é™¤æŒ‡å®šçš„å…ƒç´ indexOf : æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•lastIndexOf : æŸ¥æ‰¾æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•contains : åˆ¤æ–­æ˜¯å¦åŒ…å«è¯¥å…ƒç´ toPrimitive : è£…ç®±æ•°ç»„è½¬åŸºæœ¬ç±»å‹æ•°ç»„toObject : åŸºæœ¬ç±»å‹æ•°ç»„è½¬è£…ç®±æ•°ç»„asList : è½¬ä¸ºé“¾è¡¨asUnmodifiableList: è½¬ä¸ºä¸å¯å˜é“¾è¡¨asArrayList : è½¬ä¸ºæ•°ç»„é“¾è¡¨asLinkedList : è½¬ä¸ºåŒå‘é“¾è¡¨sort : æ’åºforAllDo : å¯¹æ‰€æœ‰å…ƒç´ åšæ“ä½œtoString : æ•°ç»„è½¬ä¸ºå­—ç¬¦ä¸² æ ç›¸å…³ -&gt; BarUtils.java -&gt; Demo1234567891011121314151617181920getStatusBarHeight : è·å–çŠ¶æ€æ é«˜åº¦ï¼ˆpxï¼‰setStatusBarVisibility : è®¾ç½®çŠ¶æ€æ æ˜¯å¦å¯è§isStatusBarVisible : åˆ¤æ–­çŠ¶æ€æ æ˜¯å¦å¯è§setStatusBarLightMode : è®¾ç½®çŠ¶æ€æ æ˜¯å¦ä¸ºæµ…è‰²æ¨¡å¼isStatusBarLightMode : åˆ¤æ–­çŠ¶æ€æ æ˜¯å¦ä¸ºæµ…è‰²æ¨¡å¼addMarginTopEqualStatusBarHeight : ä¸º view å¢åŠ  MarginTop ä¸ºçŠ¶æ€æ é«˜åº¦subtractMarginTopEqualStatusBarHeight: ä¸º view å‡å°‘ MarginTop ä¸ºçŠ¶æ€æ é«˜åº¦setStatusBarColor : è®¾ç½®çŠ¶æ€æ é¢œè‰²setStatusBarColor4Drawer : ä¸º DrawerLayout è®¾ç½®çŠ¶æ€æ é¢œè‰²transparentStatusBar : é€æ˜çŠ¶æ€æ getActionBarHeight : è·å– ActionBar é«˜åº¦setNotificationBarVisibility : è®¾ç½®é€šçŸ¥æ æ˜¯å¦å¯è§getNavBarHeight : è·å–å¯¼èˆªæ é«˜åº¦setNavBarVisibility : è®¾ç½®å¯¼èˆªæ æ˜¯å¦å¯è§isNavBarVisible : åˆ¤æ–­å¯¼èˆªæ æ˜¯å¦å¯è§setNavBarColor : è®¾ç½®å¯¼èˆªæ é¢œè‰²getNavBarColor : è·å–å¯¼èˆªæ é¢œè‰²isSupportNavBar : åˆ¤æ–­æ˜¯å¦æ”¯æŒå¯¼èˆªæ setNavBarLightMode : è®¾ç½®å¯¼èˆªæ æ˜¯å¦ä¸ºæµ…è‰²æ¨¡å¼isNavBarLightMode : åˆ¤æ–­å¯¼èˆªæ æ˜¯å¦ä¸ºæµ…è‰²æ¨¡å¼ äº®åº¦ç›¸å…³ -&gt; BrightnessUtils.java -&gt; Demo123456isAutoBrightnessEnabled : åˆ¤æ–­æ˜¯å¦å¼€å¯è‡ªåŠ¨è°ƒèŠ‚äº®åº¦setAutoBrightnessEnabled: è®¾ç½®æ˜¯å¦å¼€å¯è‡ªåŠ¨è°ƒèŠ‚äº®åº¦getBrightness : è·å–å±å¹•äº®åº¦setBrightness : è®¾ç½®å±å¹•äº®åº¦setWindowBrightness : è®¾ç½®çª—å£äº®åº¦getWindowBrightness : è·å–çª—å£äº®åº¦ Bus ç›¸å…³ -&gt; BusUtils.java -&gt; README123456register : æ³¨å†Œunregister : æ³¨é”€post : å‘é€postSticky : å‘é€ç²˜æ€§removeSticky: ç§»é™¤ç²˜æ€§toString_ : æŸ¥çœ‹æ’å…¥çš„ä¿¡æ¯ ç£ç›˜ç¼“å­˜ç›¸å…³ -&gt; CacheDiskStaticUtils.java -&gt; Test1234567891011121314setDefaultCacheDiskUtils: è®¾ç½®é»˜è®¤ç£ç›˜ç¼“å­˜å®ä¾‹put : ç¼“å­˜ä¸­å†™å…¥æ•°æ®getBytes : ç¼“å­˜ä¸­è¯»å–å­—èŠ‚æ•°ç»„getString : ç¼“å­˜ä¸­è¯»å– StringgetJSONObject : ç¼“å­˜ä¸­è¯»å– JSONObjectgetJSONArray : ç¼“å­˜ä¸­è¯»å– JSONArraygetBitmap : ç¼“å­˜ä¸­è¯»å– BitmapgetDrawable : ç¼“å­˜ä¸­è¯»å– DrawablegetParcelable : ç¼“å­˜ä¸­è¯»å– ParcelablegetSerializable : ç¼“å­˜ä¸­è¯»å– SerializablegetCacheSize : è·å–ç¼“å­˜å¤§å°getCacheCount : è·å–ç¼“å­˜ä¸ªæ•°remove : æ ¹æ®é”®å€¼ç§»é™¤ç¼“å­˜clear : æ¸…é™¤æ‰€æœ‰ç¼“å­˜ ç£ç›˜ç¼“å­˜ç›¸å…³ -&gt; CacheDiskUtils.java -&gt; Test1234567891011121314getInstance : è·å–ç¼“å­˜å®ä¾‹Instance.put : ç¼“å­˜ä¸­å†™å…¥æ•°æ®Instance.getBytes : ç¼“å­˜ä¸­è¯»å–å­—èŠ‚æ•°ç»„Instance.getString : ç¼“å­˜ä¸­è¯»å– StringInstance.getJSONObject : ç¼“å­˜ä¸­è¯»å– JSONObjectInstance.getJSONArray : ç¼“å­˜ä¸­è¯»å– JSONArrayInstance.getBitmap : ç¼“å­˜ä¸­è¯»å– BitmapInstance.getDrawable : ç¼“å­˜ä¸­è¯»å– DrawableInstance.getParcelable : ç¼“å­˜ä¸­è¯»å– ParcelableInstance.getSerializable: ç¼“å­˜ä¸­è¯»å– SerializableInstance.getCacheSize : è·å–ç¼“å­˜å¤§å°Instance.getCacheCount : è·å–ç¼“å­˜ä¸ªæ•°Instance.remove : æ ¹æ®é”®å€¼ç§»é™¤ç¼“å­˜Instance.clear : æ¸…é™¤æ‰€æœ‰ç¼“å­˜ äºŒçº§ç¼“å­˜ç›¸å…³ -&gt; CacheDoubleStaticUtils.java -&gt; Test123456789101112131415setDefaultCacheDoubleUtils: è®¾ç½®é»˜è®¤äºŒçº§ç¼“å­˜å®ä¾‹put : ç¼“å­˜ä¸­å†™å…¥æ•°æ®getBytes : ç¼“å­˜ä¸­è¯»å–å­—èŠ‚æ•°ç»„getString : ç¼“å­˜ä¸­è¯»å– StringgetJSONObject : ç¼“å­˜ä¸­è¯»å– JSONObjectgetJSONArray : ç¼“å­˜ä¸­è¯»å– JSONArraygetBitmap : ç¼“å­˜ä¸­è¯»å– BitmapgetDrawable : ç¼“å­˜ä¸­è¯»å– DrawablegetParcelable : ç¼“å­˜ä¸­è¯»å– ParcelablegetSerializable : ç¼“å­˜ä¸­è¯»å– SerializablegetCacheDiskSize : è·å–ç£ç›˜ç¼“å­˜å¤§å°getCacheDiskCount : è·å–ç£ç›˜ç¼“å­˜ä¸ªæ•°getCacheMemoryCount : è·å–å†…å­˜ç¼“å­˜ä¸ªæ•°remove : æ ¹æ®é”®å€¼ç§»é™¤ç¼“å­˜clear : æ¸…é™¤æ‰€æœ‰ç¼“å­˜ äºŒçº§ç¼“å­˜ç›¸å…³ -&gt; CacheDoubleUtils.java -&gt; Test123456789101112131415getInstance : è·å–ç¼“å­˜å®ä¾‹Instance.put : ç¼“å­˜ä¸­å†™å…¥æ•°æ®Instance.getBytes : ç¼“å­˜ä¸­è¯»å–å­—èŠ‚æ•°ç»„Instance.getString : ç¼“å­˜ä¸­è¯»å– StringInstance.getJSONObject : ç¼“å­˜ä¸­è¯»å– JSONObjectInstance.getJSONArray : ç¼“å­˜ä¸­è¯»å– JSONArrayInstance.getBitmap : ç¼“å­˜ä¸­è¯»å– BitmapInstance.getDrawable : ç¼“å­˜ä¸­è¯»å– DrawableInstance.getParcelable : ç¼“å­˜ä¸­è¯»å– ParcelableInstance.getSerializable : ç¼“å­˜ä¸­è¯»å– SerializableInstance.getCacheDiskSize : è·å–ç£ç›˜ç¼“å­˜å¤§å°Instance.getCacheDiskCount : è·å–ç£ç›˜ç¼“å­˜ä¸ªæ•°Instance.getCacheMemoryCount: è·å–å†…å­˜ç¼“å­˜ä¸ªæ•°Instance.remove : æ ¹æ®é”®å€¼ç§»é™¤ç¼“å­˜Instance.clear : æ¸…é™¤æ‰€æœ‰ç¼“å­˜ å†…å­˜ç¼“å­˜ç›¸å…³ -&gt; CacheMemoryStaticUtils.java -&gt; Test123456setDefaultCacheMemoryUtils: è®¾ç½®é»˜è®¤å†…å­˜ç¼“å­˜å®ä¾‹put : ç¼“å­˜ä¸­å†™å…¥æ•°æ®get : ç¼“å­˜ä¸­è¯»å–å­—èŠ‚æ•°ç»„getCacheCount : è·å–ç¼“å­˜ä¸ªæ•°remove : æ ¹æ®é”®å€¼ç§»é™¤ç¼“å­˜clear : æ¸…é™¤æ‰€æœ‰ç¼“å­˜ å†…å­˜ç¼“å­˜ç›¸å…³ -&gt; CacheMemoryUtils.java -&gt; Test123456getInstance : è·å–ç¼“å­˜å®ä¾‹Instance.put : ç¼“å­˜ä¸­å†™å…¥æ•°æ®Instance.get : ç¼“å­˜ä¸­è¯»å–å­—èŠ‚æ•°ç»„Instance.getCacheCount: è·å–ç¼“å­˜ä¸ªæ•°Instance.remove : æ ¹æ®é”®å€¼ç§»é™¤ç¼“å­˜Instance.clear : æ¸…é™¤æ‰€æœ‰ç¼“å­˜ æ¸…é™¤ç›¸å…³ -&gt; CleanUtils.java -&gt; Demo1234567cleanInternalCache : æ¸…é™¤å†…éƒ¨ç¼“å­˜cleanInternalFiles : æ¸…é™¤å†…éƒ¨æ–‡ä»¶cleanInternalDbs : æ¸…é™¤å†…éƒ¨æ•°æ®åº“cleanInternalDbByName: æ ¹æ®åç§°æ¸…é™¤æ•°æ®åº“cleanInternalSp : æ¸…é™¤å†…éƒ¨ SPcleanExternalCache : æ¸…é™¤å¤–éƒ¨ç¼“å­˜cleanCustomDir : æ¸…é™¤è‡ªå®šä¹‰ç›®å½•ä¸‹çš„æ–‡ä»¶ ç‚¹å‡»ç›¸å…³ -&gt; ClickUtils.java -&gt; Demo12345678910applyPressedViewScale : åº”ç”¨ç‚¹å‡»åå¯¹è§†å›¾ç¼©æ”¾applyPressedViewAlpha : åº”ç”¨ç‚¹å‡»åå¯¹è§†å›¾æ”¹å˜é€æ˜åº¦applyPressedBgAlpha : åº”ç”¨ç‚¹å‡»åå¯¹èƒŒæ™¯æ”¹å˜é€æ˜åº¦applyPressedBgDark : åº”ç”¨ç‚¹å‡»åå¯¹èƒŒæ™¯åŠ æ·±applySingleDebouncing : å¯¹å•è§†å›¾åº”ç”¨é˜²æŠ–ç‚¹å‡»applyGlobalDebouncing : å¯¹æ‰€æœ‰è®¾ç½® GlobalDebouncing çš„è§†å›¾åº”ç”¨é˜²æŠ–ç‚¹å‡»expandClickArea : æ‰©å¤§ç‚¹å‡»åŒºåŸŸback2HomeFriendly : å‹å¥½åœ°è¿”å›æ¡Œé¢ClickUtils#OnDebouncingClickListener: é˜²æŠ–ç‚¹å‡»ç›‘å¬å™¨ClickUtils#OnMultiClickListener : è¿ç»­ç‚¹å‡»ç›‘å¬å™¨ å…‹éš†ç›¸å…³ -&gt; CloneUtils.java -&gt; Test1deepClone: æ·±åº¦å…‹éš† å…³é—­ç›¸å…³ -&gt; CloseUtils.java12closeIO : å…³é—­ IOcloseIOQuietly: å®‰é™å…³é—­ IO é›†åˆç›¸å…³ -&gt; CollectionUtils.java -&gt; Test123456789101112131415161718192021222324252627282930313233343536newUnmodifiableList[NotNull]: æ–°å»ºåªè¯»[éç©º]é“¾è¡¨newArrayList[NotNull] : æ–°å»ºæ•°ç»„å‹[éç©º]é“¾è¡¨newLinkedList[NotNull] : æ–°å»ºæŒ‡é’ˆå‹[éç©º]é“¾è¡¨newHashSet[NotNull] : æ–°å»ºå“ˆå¸Œ[éç©º]é›†åˆnewTreeSet[NotNull] : æ–°å»ºæœ‰åº[éç©º]é›†åˆnewSynchronizedCollection : æ–°å»ºåŒæ­¥é›†åˆnewUnmodifiableCollection : æ–°å»ºåªè¯»é›†åˆunion : è·å–å¹¶é›†intersection : è·å–äº¤é›†disjunction : è·å–å¹¶é›†å‡äº¤é›†subtract : è·å–å·®é›†containsAny : åˆ¤æ–­æ˜¯å¦æœ‰äº¤é›†getCardinalityMap : è·å–é›†åˆä¸­æ‰€æœ‰å…ƒç´ çš„åŸºæ•°isSubCollection : æ˜¯å¦å­é›†isProperSubCollection : æ˜¯å¦çœŸå­é›†isEqualCollection : åˆ¤æ–­é›†åˆæ˜¯å¦ç›¸ç­‰cardinality : è·å–é›†åˆä¸­å…ƒç´ çš„åŸºæ•°find : æŸ¥æ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ forAllDo : å¯¹æ‰€æœ‰å…ƒç´ åšæ“ä½œfilter : åˆ é™¤åŸé›†åˆä¸­ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ select : æŸ¥æ‰¾å‡ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ å¹¶è¿”å›æ–°é›†åˆselectRejected : æŸ¥æ‰¾å‡ºæ‰€æœ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ å¹¶è¿”å›æ–°é›†åˆtransform : å¯¹åŸé›†åˆè¿›è¡Œè½¬å˜collect : è½¬å˜ä¸ºæ–°çš„é›†åˆcountMatches : æŸ¥æ‰¾åˆ°åŒ¹é…çš„å…ƒç´ ä¸ªæ•°exists : åˆ¤æ–­é›†åˆæ˜¯å¦å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å…ƒç´ addIgnoreNull : æ–°å¢å…ƒç´ å¦‚æœä¸ä¸ºç©ºaddAll : æ–°å¢å¤šä¸ªå…ƒç´ get : è·å–é›†åˆå…ƒç´ size : è·å–é›†åˆä¸ªæ•°sizeIsEmpty : åˆ¤æ–­ä¸ªæ•°æ˜¯å¦ä¸ºé›¶isEmpty : åˆ¤æ–­æ˜¯å¦ä¸ºç©ºisNotEmpty : åˆ¤æ–­æ˜¯å¦éç©ºretainAll : ä¿ç•™å…ƒç´ removeAll : åˆ é™¤ä¸‹æ¥toString : é›†åˆè½¬ä¸ºå­—ç¬¦ä¸² é¢œè‰²ç›¸å…³ -&gt; ColorUtils.java123456789getColor : è·å–é¢œè‰²setAlphaComponent: è®¾ç½®é¢œè‰²é€æ˜åº¦å€¼setRedComponent : è®¾ç½®é¢œè‰²çº¢è‰²å€¼setGreenComponent: è®¾ç½®é¢œè‰²ç»¿è‰²å€¼setBlueComponent : è®¾ç½®é¢œè‰²è“è‰²å€¼string2Int : é¢œè‰²ä¸²è½¬é¢œè‰²å€¼int2RgbString : é¢œè‰²å€¼è½¬ RGB ä¸²int2ArgbString : é¢œè‰²å€¼è½¬ ARGB ä¸²getRandomColor : è·å–éšæœºè‰² è½¬æ¢ç›¸å…³ -&gt; ConvertUtils.java -&gt; Test123456789101112131415161718192021222324bytes2Bits, bits2Bytes : bytes ä¸ bits äº’è½¬bytes2Chars, chars2Bytes : bytes ä¸ chars äº’è½¬bytes2HexString, hexString2Bytes : bytes ä¸ hexString äº’è½¬bytes2String, string2Bytes : bytes ä¸ string äº’è½¬bytes2JSONObject, jsonObject2Bytes : bytes ä¸ JSONObject äº’è½¬bytes2JSONArray, jsonArray2Bytes : bytes ä¸ JSONArray äº’è½¬bytes2Parcelable, parcelable2Bytes : bytes ä¸ Parcelable äº’è½¬bytes2Object, serializable2Bytes : bytes ä¸ Object äº’è½¬bytes2Bitmap, bitmap2Bytes : bytes ä¸ Bitmap äº’è½¬memorySize2Byte, byte2MemorySize : ä»¥ unit ä¸ºå•ä½çš„å†…å­˜å¤§å°ä¸å­—èŠ‚æ•°äº’è½¬byte2FitMemorySize : å­—èŠ‚æ•°è½¬åˆé€‚å†…å­˜å¤§å°timeSpan2Millis, millis2TimeSpan : ä»¥ unit ä¸ºå•ä½çš„æ—¶é—´é•¿åº¦ä¸æ¯«ç§’æ—¶é—´æˆ³äº’è½¬millis2FitTimeSpan : æ¯«ç§’æ—¶é—´æˆ³è½¬åˆé€‚æ—¶é—´é•¿åº¦input2OutputStream, output2InputStream : inputStream ä¸ outputStream äº’è½¬inputStream2Bytes, bytes2InputStream : inputStream ä¸ bytes äº’è½¬outputStream2Bytes, bytes2OutputStream : outputStream ä¸ bytes äº’è½¬inputStream2String, string2InputStream : inputStream ä¸ string æŒ‰ç¼–ç äº’è½¬outputStream2String, string2OutputStream: outputStream ä¸ string æŒ‰ç¼–ç äº’è½¬inputStream2Lines : inputStream è½¬ æ–‡æœ¬è¡Œdrawable2Bitmap, bitmap2Drawable : drawable ä¸ bitmap äº’è½¬drawable2Bytes, bytes2Drawable : drawable ä¸ bytes äº’è½¬view2Bitmap : view è½¬ Bitmapdp2px, px2dp : dp ä¸ px äº’è½¬sp2px, px2sp : sp ä¸ px äº’è½¬ å´©æºƒç›¸å…³ -&gt; CrashUtils.java1init: åˆå§‹åŒ– è®¾å¤‡ç›¸å…³ -&gt; DeviceUtils.java -&gt; Demo12345678910111213isDeviceRooted : åˆ¤æ–­è®¾å¤‡æ˜¯å¦ rootedisAdbEnabled : åˆ¤æ–­è®¾å¤‡ ADB æ˜¯å¦å¯ç”¨getSDKVersionName: è·å–è®¾å¤‡ç³»ç»Ÿç‰ˆæœ¬å·getSDKVersionCode: è·å–è®¾å¤‡ç³»ç»Ÿç‰ˆæœ¬ç getAndroidID : è·å–è®¾å¤‡ AndroidIDgetMacAddress : è·å–è®¾å¤‡ MAC åœ°å€getManufacturer : è·å–è®¾å¤‡å‚å•†getModel : è·å–è®¾å¤‡å‹å·getABIs : è·å–è®¾å¤‡ ABIsisTablet : åˆ¤æ–­æ˜¯å¦æ˜¯å¹³æ¿isEmulator : åˆ¤æ–­æ˜¯å¦æ˜¯æ¨¡æ‹Ÿå™¨getUniqueDeviceId: è·å–å”¯ä¸€è®¾å¤‡ IDisSameDevice : åˆ¤æ–­æ˜¯å¦åŒä¸€è®¾å¤‡ é—ªå…‰ç¯ç›¸å…³ -&gt; FlashlightUtils.java -&gt; Demo1234isFlashlightEnable : åˆ¤æ–­è®¾å¤‡æ˜¯å¦æ”¯æŒé—ªå…‰ç¯isFlashlightOn : åˆ¤æ–­é—ªå…‰ç¯æ˜¯å¦æ‰“å¼€setFlashlightStatus: è®¾ç½®é—ªå…‰ç¯çŠ¶æ€destroy : é”€æ¯ ç¼–ç è§£ç ç›¸å…³ -&gt; EncodeUtils.java -&gt; Test123456789urlEncode : URL ç¼–ç urlDecode : URL è§£ç base64Encode : Base64 ç¼–ç base64Encode2String: Base64 ç¼–ç base64Decode : Base64 è§£ç htmlEncode : Html ç¼–ç htmlDecode : Html è§£ç binaryEncode : äºŒè¿›åˆ¶ç¼–ç binaryDecode : äºŒè¿›åˆ¶è§£ç  åŠ å¯†è§£å¯†ç›¸å…³ -&gt; EncryptUtils.java -&gt; Test1234567891011121314151617181920212223encryptMD2, encryptMD2ToString : MD2 åŠ å¯†encryptMD5, encryptMD5ToString : MD5 åŠ å¯†encryptMD5File, encryptMD5File2String : MD5 åŠ å¯†æ–‡ä»¶encryptSHA1, encryptSHA1ToString : SHA1 åŠ å¯†encryptSHA224, encryptSHA224ToString : SHA224 åŠ å¯†encryptSHA256, encryptSHA256ToString : SHA256 åŠ å¯†encryptSHA384, encryptSHA384ToString : SHA384 åŠ å¯†encryptSHA512, encryptSHA512ToString : SHA512 åŠ å¯†encryptHmacMD5, encryptHmacMD5ToString : HmacMD5 åŠ å¯†encryptHmacSHA1, encryptHmacSHA1ToString : HmacSHA1 åŠ å¯†encryptHmacSHA224, encryptHmacSHA224ToString : HmacSHA224 åŠ å¯†encryptHmacSHA256, encryptHmacSHA256ToString : HmacSHA256 åŠ å¯†encryptHmacSHA384, encryptHmacSHA384ToString : HmacSHA384 åŠ å¯†encryptHmacSHA512, encryptHmacSHA512ToString : HmacSHA512 åŠ å¯†encryptDES, encryptDES2HexString, encryptDES2Base64 : DES åŠ å¯†decryptDES, decryptHexStringDES, decryptBase64DES : DES è§£å¯†encrypt3DES, encrypt3DES2HexString, encrypt3DES2Base64: 3DES åŠ å¯†decrypt3DES, decryptHexString3DES, decryptBase64_3DES : 3DES è§£å¯†encryptAES, encryptAES2HexString, encryptAES2Base64 : AES åŠ å¯†decryptAES, decryptHexStringAES, decryptBase64AES : AES è§£å¯†encryptRSA, encryptRSA2HexString, encryptRSA2Base64 : RSA åŠ å¯†decryptRSA, decryptHexStringRSA, decryptBase64RSA : RSA è§£å¯†rc4 : rc4 åŠ è§£å¯† æ–‡ä»¶ç›¸å…³ -&gt; FileIOUtils.java -&gt; Test1234567891011writeFileFromIS : å°†è¾“å…¥æµå†™å…¥æ–‡ä»¶writeFileFromBytesByStream : å°†å­—èŠ‚æ•°ç»„å†™å…¥æ–‡ä»¶writeFileFromBytesByChannel: å°†å­—èŠ‚æ•°ç»„å†™å…¥æ–‡ä»¶writeFileFromBytesByMap : å°†å­—èŠ‚æ•°ç»„å†™å…¥æ–‡ä»¶writeFileFromString : å°†å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶readFile2List : è¯»å–æ–‡ä»¶åˆ°å­—ç¬¦ä¸²é“¾è¡¨ä¸­readFile2String : è¯»å–æ–‡ä»¶åˆ°å­—ç¬¦ä¸²ä¸­readFile2BytesByStream : è¯»å–æ–‡ä»¶åˆ°å­—èŠ‚æ•°ç»„ä¸­readFile2BytesByChannel : è¯»å–æ–‡ä»¶åˆ°å­—èŠ‚æ•°ç»„ä¸­readFile2BytesByMap : è¯»å–æ–‡ä»¶åˆ°å­—èŠ‚æ•°ç»„ä¸­setBufferSize : è®¾ç½®ç¼“å†²åŒºå°ºå¯¸ æ–‡ä»¶ç›¸å…³ -&gt; FileUtils.java -&gt; Test123456789101112131415161718192021222324252627282930getFileByPath : æ ¹æ®æ–‡ä»¶è·¯å¾„è·å–æ–‡ä»¶isFileExists : åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨rename : é‡å‘½åæ–‡ä»¶isDir : åˆ¤æ–­æ˜¯å¦æ˜¯ç›®å½•isFile : åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶createOrExistsDir : åˆ¤æ–­ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ¤æ–­æ˜¯å¦åˆ›å»ºæˆåŠŸcreateOrExistsFile : åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ¤æ–­æ˜¯å¦åˆ›å»ºæˆåŠŸcreateFileByDeleteOldFile : åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™åœ¨åˆ›å»ºä¹‹å‰åˆ é™¤copy : å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•move : ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•delete : åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•deleteAllInDir : åˆ é™¤ç›®å½•ä¸‹æ‰€æœ‰å†…å®¹deleteFilesInDir : åˆ é™¤ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶deleteFilesInDirWithFilter: åˆ é™¤ç›®å½•ä¸‹æ‰€æœ‰è¿‡æ»¤çš„æ–‡ä»¶listFilesInDir : è·å–ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶listFilesInDirWithFilter : è·å–ç›®å½•ä¸‹æ‰€æœ‰è¿‡æ»¤çš„æ–‡ä»¶getFileLastModified : è·å–æ–‡ä»¶æœ€åä¿®æ”¹çš„æ¯«ç§’æ—¶é—´æˆ³getFileCharsetSimple : ç®€å•è·å–æ–‡ä»¶ç¼–ç æ ¼å¼getFileLines : è·å–æ–‡ä»¶è¡Œæ•°getSize : è·å–æ–‡ä»¶æˆ–ç›®å½•å¤§å°getLength : è·å–æ–‡ä»¶æˆ–ç›®å½•é•¿åº¦getFileMD5 : è·å–æ–‡ä»¶çš„ MD5 æ ¡éªŒç getFileMD5ToString : è·å–æ–‡ä»¶çš„ MD5 æ ¡éªŒç getDirName : æ ¹æ®å…¨è·¯å¾„è·å–æœ€é•¿ç›®å½•getFileName : æ ¹æ®å…¨è·¯å¾„è·å–æ–‡ä»¶ågetFileNameNoExtension : æ ¹æ®å…¨è·¯å¾„è·å–æ–‡ä»¶åä¸å¸¦æ‹“å±•ågetFileExtension : æ ¹æ®å…¨è·¯å¾„è·å–æ–‡ä»¶æ‹“å±•ånotifySystemToScan : é€šçŸ¥ç³»ç»Ÿæ‰«ææ–‡ä»¶getFsTotalSize : è·å–æ–‡ä»¶ç³»ç»Ÿæ€»å¤§å°getFsAvailableSize : è·å–æ–‡ä»¶ç³»ç»Ÿå¯ç”¨å¤§å° Fragment ç›¸å…³ -&gt; FragmentUtils.java -&gt; Demo123456789101112131415161718192021222324add : æ–°å¢ fragmentshow : æ˜¾ç¤º fragmenthide : éšè— fragmentshowHide : å…ˆæ˜¾ç¤ºåéšè— fragmentreplace : æ›¿æ¢ fragmentpop : å‡ºæ ˆ fragmentpopTo : å‡ºæ ˆåˆ°æŒ‡å®š fragmentpopAll : å‡ºæ ˆæ‰€æœ‰ fragmentremove : ç§»é™¤ fragmentremoveTo : ç§»é™¤åˆ°æŒ‡å®š fragmentremoveAll : ç§»é™¤æ‰€æœ‰ fragmentgetTop : è·å–é¡¶éƒ¨ fragmentgetTopInStack : è·å–æ ˆä¸­é¡¶éƒ¨ fragmentgetTopShow : è·å–é¡¶éƒ¨å¯è§ fragmentgetTopShowInStack : è·å–æ ˆä¸­é¡¶éƒ¨å¯è§ fragmentgetFragments : è·å–åŒçº§åˆ«çš„ fragmentgetFragmentsInStack : è·å–åŒçº§åˆ«æ ˆä¸­çš„ fragmentgetAllFragments : è·å–æ‰€æœ‰ fragmentgetAllFragmentsInStack: è·å–æ ˆä¸­æ‰€æœ‰ fragmentfindFragment : æŸ¥æ‰¾ fragmentdispatchBackPress : å¤„ç† fragment å›é€€é”®setBackgroundColor : è®¾ç½®èƒŒæ™¯è‰²setBackgroundResource : è®¾ç½®èƒŒæ™¯èµ„æºsetBackground : è®¾ç½®èƒŒæ™¯ Gson ç›¸å…³ -&gt; GsonUtils.java -&gt; Test12345678910setGsonDelegate: è®¾ç½®é»˜è®¤çš„ Gson ä»£ç†å¯¹è±¡setGson : è®¾ç½® Gson å¯¹è±¡getGson : è·å– Gson å¯¹è±¡toJson : å¯¹è±¡è½¬ Json ä¸²fromJson : Json ä¸²è½¬å¯¹è±¡getListType : è·å–é“¾è¡¨ç±»å‹getSetType : è·å–é›†åˆç±»å‹getMapType : è·å–å­—å…¸ç±»å‹getArrayType : è·å–æ•°ç»„ç±»å‹getType : è·å–ç±»å‹ å›¾ç‰‡ç›¸å…³ -&gt; ImageUtils.java -&gt; Demo1234567891011121314151617181920212223242526272829bitmap2Bytes, bytes2Bitmap : bitmap ä¸ bytes äº’è½¬drawable2Bitmap, bitmap2Drawable: drawable ä¸ bitmap äº’è½¬drawable2Bytes, bytes2Drawable : drawable ä¸ bytes äº’è½¬view2Bitmap : view è½¬ bitmapgetBitmap : è·å– bitmapscale : ç¼©æ”¾å›¾ç‰‡clip : è£å‰ªå›¾ç‰‡skew : å€¾æ–œå›¾ç‰‡rotate : æ—‹è½¬å›¾ç‰‡getRotateDegree : è·å–å›¾ç‰‡æ—‹è½¬è§’åº¦toRound : è½¬ä¸ºåœ†å½¢å›¾ç‰‡toRoundCorner : è½¬ä¸ºåœ†è§’å›¾ç‰‡addCornerBorder : æ·»åŠ åœ†è§’è¾¹æ¡†addCircleBorder : æ·»åŠ åœ†å½¢è¾¹æ¡†addReflection : æ·»åŠ å€’å½±addTextWatermark : æ·»åŠ æ–‡å­—æ°´å°addImageWatermark : æ·»åŠ å›¾ç‰‡æ°´å°toAlpha : è½¬ä¸º alpha ä½å›¾toGray : è½¬ä¸ºç°åº¦å›¾ç‰‡fastBlur : å¿«é€Ÿæ¨¡ç³ŠrenderScriptBlur : renderScript æ¨¡ç³Šå›¾ç‰‡stackBlur : stack æ¨¡ç³Šå›¾ç‰‡save : ä¿å­˜å›¾ç‰‡isImage : æ ¹æ®æ–‡ä»¶ååˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸ºå›¾ç‰‡getImageType : è·å–å›¾ç‰‡ç±»å‹compressByScale : æŒ‰ç¼©æ”¾å‹ç¼©compressByQuality : æŒ‰è´¨é‡å‹ç¼©compressBySampleSize : æŒ‰é‡‡æ ·å¤§å°å‹ç¼©getSize : è·å–å›¾ç‰‡å°ºå¯¸ æ„å›¾ç›¸å…³ -&gt; IntentUtils.java12345678910isIntentAvailable : åˆ¤æ–­æ„å›¾æ˜¯å¦å¯ç”¨getInstallAppIntent : è·å–å®‰è£… Appï¼ˆæ”¯æŒ 6.0ï¼‰çš„æ„å›¾getUninstallAppIntent : è·å–å¸è½½ App çš„æ„å›¾getLaunchAppIntent : è·å–æ‰“å¼€ App çš„æ„å›¾getLaunchAppDetailsSettingsIntent: è·å– App å…·ä½“è®¾ç½®çš„æ„å›¾getShareTextIntent : è·å–åˆ†äº«æ–‡æœ¬çš„æ„å›¾getShareImageIntent : è·å–åˆ†äº«å›¾ç‰‡çš„æ„å›¾getComponentIntent : è·å–å…¶ä»–åº”ç”¨ç»„ä»¶çš„æ„å›¾getShutdownIntent : è·å–å…³æœºçš„æ„å›¾getCaptureIntent : è·å–æ‹ç…§çš„æ„å›¾ é”®ç›˜ç›¸å…³ -&gt; KeyboardUtils.java -&gt; Demo123456789showSoftInput : æ˜¾ç¤ºè½¯é”®ç›˜hideSoftInput : éšè—è½¯é”®ç›˜toggleSoftInput : åˆ‡æ¢é”®ç›˜æ˜¾ç¤ºä¸å¦çŠ¶æ€isSoftInputVisible : åˆ¤æ–­è½¯é”®ç›˜æ˜¯å¦å¯è§registerSoftInputChangedListener : æ³¨å†Œè½¯é”®ç›˜æ”¹å˜ç›‘å¬å™¨unregisterSoftInputChangedListener: æ³¨é”€è½¯é”®ç›˜æ”¹å˜ç›‘å¬å™¨fixAndroidBug5497 : ä¿®å¤å®‰å“ 5497 BUGfixSoftInputLeaks : ä¿®å¤è½¯é”®ç›˜å†…å­˜æ³„æ¼clickBlankArea2HideSoftInput : ç‚¹å‡»å±å¹•ç©ºç™½åŒºåŸŸéšè—è½¯é”®ç›˜ è¯­è¨€ç›¸å…³ -&gt; LanguageUtils.java -&gt; Demo12345applySystemLanguage : åº”ç”¨ç³»ç»Ÿè¯­è¨€applyLanguage : åº”ç”¨è¯­è¨€isAppliedSystemLanguage: åˆ¤æ–­æ˜¯å¦ä½¿ç”¨ç³»ç»Ÿè¯­è¨€isAppliedLanguage : åˆ¤æ–­æ˜¯å¦ä½¿ç”¨æŸè¯­è¨€getCurrentLocale : è·å–å½“å‰è¯­è¨€ æ—¥å¿—ç›¸å…³ -&gt; LogUtils.java -&gt; Demo1234567891011121314151617181920212223242526272829303132getConfig : è·å– log é…ç½®Config.setLogSwitch : è®¾ç½® log æ€»å¼€å…³Config.setConsoleSwitch : è®¾ç½® log æ§åˆ¶å°å¼€å…³Config.setGlobalTag : è®¾ç½® log å…¨å±€ tagConfig.setLogHeadSwitch : è®¾ç½® log å¤´éƒ¨ä¿¡æ¯å¼€å…³Config.setLog2FileSwitch : è®¾ç½® log æ–‡ä»¶å¼€å…³Config.setDir : è®¾ç½® log æ–‡ä»¶å­˜å‚¨ç›®å½•Config.setFilePrefix : è®¾ç½® log æ–‡ä»¶å‰ç¼€Config.setBorderSwitch : è®¾ç½® log è¾¹æ¡†å¼€å…³Config.setSingleTagSwitch: è®¾ç½® log å•ä¸€ tag å¼€å…³ï¼ˆä¸ºç¾åŒ– AS 3.1 çš„ Logcatï¼‰Config.setConsoleFilter : è®¾ç½® log æ§åˆ¶å°è¿‡æ»¤å™¨Config.setFileFilter : è®¾ç½® log æ–‡ä»¶è¿‡æ»¤å™¨Config.setStackDeep : è®¾ç½® log æ ˆæ·±åº¦Config.setStackOffset : è®¾ç½® log æ ˆåç§»Config.setSaveDays : è®¾ç½® log å¯ä¿ç•™å¤©æ•°Config.addFormatter : æ–°å¢ log æ ¼å¼åŒ–å™¨log : è‡ªå®šä¹‰ tag çš„ type æ—¥å¿—v : tag ä¸ºç±»åçš„ Verbose æ—¥å¿—vTag : è‡ªå®šä¹‰ tag çš„ Verbose æ—¥å¿—d : tag ä¸ºç±»åçš„ Debug æ—¥å¿—dTag : è‡ªå®šä¹‰ tag çš„ Debug æ—¥å¿—i : tag ä¸ºç±»åçš„ Info æ—¥å¿—iTag : è‡ªå®šä¹‰ tag çš„ Info æ—¥å¿—w : tag ä¸ºç±»åçš„ Warn æ—¥å¿—wTag : è‡ªå®šä¹‰ tag çš„ Warn æ—¥å¿—e : tag ä¸ºç±»åçš„ Error æ—¥å¿—eTag : è‡ªå®šä¹‰ tag çš„ Error æ—¥å¿—a : tag ä¸ºç±»åçš„ Assert æ—¥å¿—aTag : è‡ªå®šä¹‰ tag çš„ Assert æ—¥å¿—file : log åˆ°æ–‡ä»¶json : log å­—ç¬¦ä¸²ä¹‹ jsonxml : log å­—ç¬¦ä¸²ä¹‹ xml Map ç›¸å…³ -&gt; MapUtils.java -&gt; Test1234567891011newUnmodifiableMap: åˆ›å»º UnmodifiableMapnewHashMap : åˆ›å»º HashMapnewLinkedHashMap : åˆ›å»º LinkedHashMapnewTreeMap : åˆ›å»º TreeMapnewHashTable : åˆ›å»º HashTableisEmpty : åˆ¤æ–­ Map æ˜¯å¦ä¸ºç©ºisNotEmpty : åˆ¤æ–­ Map æ˜¯å¦éç©ºsize : è·å– Map å…ƒç´ ä¸ªæ•°forAllDo : å¯¹æ‰€æœ‰å…ƒç´ åšæ“ä½œtransform : å¯¹ Map åšè½¬å˜toString : Map è½¬ä¸ºå­—ç¬¦ä¸² MetaData ç›¸å…³ -&gt; MetaDataUtils.java -&gt; Demo1234getMetaDataInApp : è·å– application çš„ meta-data å€¼getMetaDataInActivity: è·å– activity çš„ meta-data å€¼getMetaDataInService : è·å– service çš„ meta-data å€¼getMetaDataInReceiver: è·å– receiver çš„ meta-data å€¼ ç½‘ç»œç›¸å…³ -&gt; NetworkUtils.java -&gt; Demo1234567891011121314151617181920212223openWirelessSettings : æ‰“å¼€ç½‘ç»œè®¾ç½®ç•Œé¢isConnected : åˆ¤æ–­ç½‘ç»œæ˜¯å¦è¿æ¥isAvailable[Async] : åˆ¤æ–­ç½‘ç»œæ˜¯å¦å¯ç”¨isAvailableByPing[Async] : ç”¨ ping åˆ¤æ–­ç½‘ç»œæ˜¯å¦å¯ç”¨isAvailableByDns[Async] : ç”¨ DNS åˆ¤æ–­ç½‘ç»œæ˜¯å¦å¯ç”¨getMobileDataEnabled : åˆ¤æ–­ç§»åŠ¨æ•°æ®æ˜¯å¦æ‰“å¼€isMobileData : åˆ¤æ–­ç½‘ç»œæ˜¯å¦æ˜¯ç§»åŠ¨æ•°æ®is4G : åˆ¤æ–­ç½‘ç»œæ˜¯å¦æ˜¯ 4GgetWifiEnabled : åˆ¤æ–­ wifi æ˜¯å¦æ‰“å¼€setWifiEnabled : æ‰“å¼€æˆ–å…³é—­ wifiisWifiConnected : åˆ¤æ–­ wifi æ˜¯å¦è¿æ¥çŠ¶æ€isWifiAvailable[Async] : åˆ¤æ–­ wifi æ•°æ®æ˜¯å¦å¯ç”¨getNetworkOperatorName : è·å–ç§»åŠ¨ç½‘ç»œè¿è¥å•†åç§°getNetworkType : è·å–å½“å‰ç½‘ç»œç±»å‹getIPAddress[Async] : è·å– IP åœ°å€getDomainAddress[Async] : è·å–åŸŸå IP åœ°å€getIpAddressByWifi : æ ¹æ® WiFi è·å–ç½‘ç»œ IP åœ°å€getGatewayByWifi : æ ¹æ® WiFi è·å–ç½‘å…³ IP åœ°å€getNetMaskByWifi : æ ¹æ® WiFi è·å–å­ç½‘æ©ç  IP åœ°å€getServerAddressByWifi : æ ¹æ® WiFi è·å–æœåŠ¡ç«¯ IP åœ°å€registerNetworkStatusChangedListener : æ³¨å†Œç½‘ç»œçŠ¶æ€æ”¹å˜ç›‘å¬å™¨isRegisteredNetworkStatusChangedListener: åˆ¤æ–­æ˜¯å¦æ³¨å†Œç½‘ç»œçŠ¶æ€æ”¹å˜ç›‘å¬å™¨unregisterNetworkStatusChangedListener : æ³¨é”€ç½‘ç»œçŠ¶æ€æ”¹å˜ç›‘å¬å™¨ é€šçŸ¥ç›¸å…³ -&gt; NotificationUtils.java -&gt; Demo12345areNotificationsEnabled : åˆ¤æ–­é€šçŸ¥æ˜¯å¦å¯ç”¨notify : å‘é€é€šçŸ¥cancel : å–æ¶ˆé€šçŸ¥cancelAll : å–æ¶ˆæ‰€æœ‰é€šçŸ¥setNotificationBarVisibility: è®¾ç½®é€šçŸ¥æ æ˜¯å¦å¯è§ æ•°å­—ç›¸å…³ -&gt; NumberUtils.java -&gt; Test12format : æ ¼å¼åŒ–float2Double: æµ®ç‚¹è½¬åŒç²¾åº¦ å¯¹è±¡ç›¸å…³ -&gt; ObjectUtils.java -&gt; Test12345678isEmpty : åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©ºisNotEmpty : åˆ¤æ–­å¯¹è±¡æ˜¯å¦éç©ºequals : åˆ¤æ–­å¯¹è±¡æ˜¯å¦ç›¸ç­‰compare : æ¯”è¾ƒå¯¹è±¡å¤§å°requireNonNull(s): è¦æ±‚å¯¹è±¡éç©ºgetOrDefault : è·å–éç©ºæˆ–é»˜è®¤å¯¹è±¡toString : è½¬å­—ç¬¦ä¸²hashCode(s) : è·å–å¯¹è±¡å“ˆå¸Œå€¼ è·¯å¾„ç›¸å…³ -&gt; PathUtils.java -&gt; Demo1234567891011121314151617181920212223242526272829303132333435363738394041join : è¿æ¥è·¯å¾„getRootPath : è·å–æ ¹è·¯å¾„getDataPath : è·å–æ•°æ®è·¯å¾„getDownloadCachePath : è·å–ä¸‹è½½ç¼“å­˜è·¯å¾„getInternalAppDataPath : è·å–å†…å­˜åº”ç”¨æ•°æ®è·¯å¾„getInternalAppCodeCacheDir : è·å–å†…å­˜åº”ç”¨ä»£ç ç¼“å­˜è·¯å¾„getInternalAppCachePath : è·å–å†…å­˜åº”ç”¨ç¼“å­˜è·¯å¾„getInternalAppDbsPath : è·å–å†…å­˜åº”ç”¨æ•°æ®åº“è·¯å¾„getInternalAppDbPath : è·å–å†…å­˜åº”ç”¨æ•°æ®åº“è·¯å¾„getInternalAppFilesPath : è·å–å†…å­˜åº”ç”¨æ–‡ä»¶è·¯å¾„getInternalAppSpPath : è·å–å†…å­˜åº”ç”¨ SP è·¯å¾„getInternalAppNoBackupFilesPath: è·å–å†…å­˜åº”ç”¨æœªå¤‡ä»½æ–‡ä»¶è·¯å¾„getExternalStoragePath : è·å–å¤–å­˜è·¯å¾„getExternalMusicPath : è·å–å¤–å­˜éŸ³ä¹è·¯å¾„getExternalPodcastsPath : è·å–å¤–å­˜æ’­å®¢è·¯å¾„getExternalRingtonesPath : è·å–å¤–å­˜é“ƒå£°è·¯å¾„getExternalAlarmsPath : è·å–å¤–å­˜é—¹é“ƒè·¯å¾„getExternalNotificationsPath : è·å–å¤–å­˜é€šçŸ¥è·¯å¾„getExternalPicturesPath : è·å–å¤–å­˜å›¾ç‰‡è·¯å¾„getExternalMoviesPath : è·å–å¤–å­˜å½±ç‰‡è·¯å¾„getExternalDownloadsPath : è·å–å¤–å­˜ä¸‹è½½è·¯å¾„getExternalDcimPath : è·å–å¤–å­˜æ•°ç ç›¸æœºå›¾ç‰‡è·¯å¾„getExternalDocumentsPath : è·å–å¤–å­˜æ–‡æ¡£è·¯å¾„getExternalAppDataPath : è·å–å¤–å­˜åº”ç”¨æ•°æ®è·¯å¾„getExternalAppCachePath : è·å–å¤–å­˜åº”ç”¨ç¼“å­˜è·¯å¾„getExternalAppFilesPath : è·å–å¤–å­˜åº”ç”¨æ–‡ä»¶è·¯å¾„getExternalAppMusicPath : è·å–å¤–å­˜åº”ç”¨éŸ³ä¹è·¯å¾„getExternalAppPodcastsPath : è·å–å¤–å­˜åº”ç”¨æ’­å®¢è·¯å¾„getExternalAppRingtonesPath : è·å–å¤–å­˜åº”ç”¨é“ƒå£°è·¯å¾„getExternalAppAlarmsPath : è·å–å¤–å­˜åº”ç”¨é—¹é“ƒè·¯å¾„getExternalAppNotificationsPath: è·å–å¤–å­˜åº”ç”¨é€šçŸ¥è·¯å¾„getExternalAppPicturesPath : è·å–å¤–å­˜åº”ç”¨å›¾ç‰‡è·¯å¾„getExternalAppMoviesPath : è·å–å¤–å­˜åº”ç”¨å½±ç‰‡è·¯å¾„getExternalAppDownloadPath : è·å–å¤–å­˜åº”ç”¨ä¸‹è½½è·¯å¾„getExternalAppDcimPath : è·å–å¤–å­˜åº”ç”¨æ•°ç ç›¸æœºå›¾ç‰‡è·¯å¾„getExternalAppDocumentsPath : è·å–å¤–å­˜åº”ç”¨æ–‡æ¡£è·¯å¾„getExternalAppObbPath : è·å–å¤–å­˜åº”ç”¨ OBB è·¯å¾„getRootPathExternalFirst : ä¼˜å…ˆè·å–å¤–éƒ¨æ ¹è·¯å¾„getAppDataPathExternalFirst : ä¼˜å…ˆè·å–å¤–éƒ¨æ•°æ®è·¯å¾„getFilesPathExternalFirst : ä¼˜å…ˆè·å–å¤–éƒ¨æ–‡ä»¶è·¯å¾„getCachePathExternalFirst : ä¼˜å…ˆè·å–å¤–éƒ¨ç¼“å­˜è·¯å¾„ æƒé™ç›¸å…³ -&gt; PermissionUtils.java -&gt; Demo123456789101112getPermissions : è·å–åº”ç”¨æƒé™isGranted : åˆ¤æ–­æƒé™æ˜¯å¦è¢«æˆäºˆisGrantedWriteSettings : åˆ¤æ–­ä¿®æ”¹ç³»ç»Ÿæƒé™æ˜¯å¦è¢«æˆäºˆrequestWriteSettings : ç”³è¯·ä¿®æ”¹ç³»ç»Ÿæƒé™isGrantedDrawOverlays : åˆ¤æ–­æ‚¬æµ®çª—æƒé™æ˜¯å¦è¢«æˆäºˆrequestDrawOverlays : ç”³è¯·æ‚¬æµ®çª—æƒé™launchAppDetailsSettings: æ‰“å¼€åº”ç”¨å…·ä½“è®¾ç½®permission : è®¾ç½®è¯·æ±‚æƒé™rationale : è®¾ç½®æ‹’ç»æƒé™åå†æ¬¡è¯·æ±‚çš„å›è°ƒæ¥å£callback : è®¾ç½®å›è°ƒtheme : è®¾ç½®ä¸»é¢˜request : å¼€å§‹è¯·æ±‚ æ‰‹æœºç›¸å…³ -&gt; PhoneUtils.java -&gt; Demo12345678910111213isPhone : åˆ¤æ–­è®¾å¤‡æ˜¯å¦æ˜¯æ‰‹æœºgetDeviceId : è·å–è®¾å¤‡ç getSerial : è·å–åºåˆ—å·getIMEI : è·å– IMEI ç getMEID : è·å– MEID ç getIMSI : è·å– IMSI ç getPhoneType : è·å–ç§»åŠ¨ç»ˆç«¯ç±»å‹isSimCardReady : åˆ¤æ–­ sim å¡æ˜¯å¦å‡†å¤‡å¥½getSimOperatorName : è·å– Sim å¡è¿è¥å•†åç§°getSimOperatorByMnc: è·å– Sim å¡è¿è¥å•†åç§°dial : è·³è‡³æ‹¨å·ç•Œé¢call : æ‹¨æ‰“ phoneNumbersendSms : è·³è‡³å‘é€çŸ­ä¿¡ç•Œé¢ è¿›ç¨‹ç›¸å…³ -&gt; ProcessUtils.java -&gt; Demo12345getForegroundProcessName : è·å–å‰å°çº¿ç¨‹åŒ…åkillAllBackgroundProcesses: æ€æ­»æ‰€æœ‰çš„åå°æœåŠ¡è¿›ç¨‹killBackgroundProcesses : æ€æ­»åå°æœåŠ¡è¿›ç¨‹isMainProcess : åˆ¤æ–­æ˜¯å¦è¿è¡Œåœ¨ä¸»è¿›ç¨‹getCurrentProcessName : è·å–å½“å‰è¿›ç¨‹åç§° åå°„ç›¸å…³ -&gt; ReflectUtils.java -&gt; Test12345reflect : è®¾ç½®è¦åå°„çš„ç±»newInstance: å®ä¾‹åŒ–åå°„å¯¹è±¡field : è®¾ç½®åå°„çš„å­—æ®µmethod : è®¾ç½®åå°„çš„æ–¹æ³•get : è·å–åå°„æƒ³è¦è·å–çš„ æ­£åˆ™ç›¸å…³ -&gt; RegexUtils.java -&gt; Test12345678910111213141516171819202122232425262728293031isMobileSimple : ç®€å•éªŒè¯æ‰‹æœºå·isMobileExact : ç²¾ç¡®éªŒè¯æ‰‹æœºå·isTel : éªŒè¯ç”µè¯å·ç isIDCard15 : éªŒè¯èº«ä»½è¯å·ç  15 ä½isIDCard18 : ç®€å•éªŒè¯èº«ä»½è¯å·ç  18 ä½isIDCard18Exact : ç²¾ç¡®éªŒè¯èº«ä»½è¯å·ç  18 ä½isEmail : éªŒè¯é‚®ç®±isURL : éªŒè¯ URLisZh : éªŒè¯æ±‰å­—isUsername : éªŒè¯ç”¨æˆ·åisDate : éªŒè¯ yyyy-MM-dd æ ¼å¼çš„æ—¥æœŸæ ¡éªŒï¼Œå·²è€ƒè™‘å¹³é—°å¹´isIP : éªŒè¯ IP åœ°å€isMatch : åˆ¤æ–­æ˜¯å¦åŒ¹é…æ­£åˆ™getMatches : è·å–æ­£åˆ™åŒ¹é…çš„éƒ¨åˆ†getSplits : è·å–æ­£åˆ™åŒ¹é…åˆ†ç»„getReplaceFirst : æ›¿æ¢æ­£åˆ™åŒ¹é…çš„ç¬¬ä¸€éƒ¨åˆ†getReplaceAll : æ›¿æ¢æ‰€æœ‰æ­£åˆ™åŒ¹é…çš„éƒ¨åˆ†RegexConstants.REGEX_DOUBLE_BYTE_CHAR : åŒå­—èŠ‚RegexConstants.REGEX_BLANK_LINE : ç©ºè¡ŒRegexConstants.REGEX_QQ_NUM : QQ å·RegexConstants.REGEX_CHINA_POSTAL_CODE : é‚®ç¼–RegexConstants.REGEX_INTEGER : æ•´æ•°RegexConstants.REGEX_POSITIVE_INTEGER : æ­£æ•´æ•°RegexConstants.REGEX_NEGATIVE_INTEGER : è´Ÿæ•´æ•°RegexConstants.REGEX_NOT_NEGATIVE_INTEGER: éè´Ÿæ•´æ•°RegexConstants.REGEX_NOT_POSITIVE_INTEGER: éæ­£æ•´æ•°RegexConstants.REGEX_FLOAT : æµ®ç‚¹æ•°RegexConstants.REGEX_POSITIVE_FLOAT : æ­£æµ®ç‚¹æ•°RegexConstants.REGEX_NEGATIVE_FLOAT : è´Ÿæµ®ç‚¹æ•°RegexConstants.REGEX_NOT_NEGATIVE_FLOAT : éè´Ÿæµ®ç‚¹æ•°RegexConstants.REGEX_NOT_POSITIVE_FLOAT : éæ­£æµ®ç‚¹æ•° èµ„æºç›¸å…³ -&gt; ResourceUtils.java -&gt; Demo1234567891011121314151617getDrawable : è·å– DrawablegetIdByName : æ ¹æ®åå­—è·å– IDgetStringIdByName : æ ¹æ®åå­—è·å– string IDgetColorIdByName : æ ¹æ®åå­—è·å– color IDgetDimenIdByName : æ ¹æ®åå­—è·å– dimen IDgetDrawableIdByName: æ ¹æ®åå­—è·å– dimen IDgetMipmapIdByName : æ ¹æ®åå­—è·å– mipmap IDgetLayoutIdByName : æ ¹æ®åå­—è·å– layout IDgetStyleIdByName : æ ¹æ®åå­—è·å– style IDgetAnimIdByName : æ ¹æ®åå­—è·å– anim IDgetMenuIdByName : æ ¹æ®åå­—è·å– menu IDcopyFileFromAssets : ä» assets ä¸­æ‹·è´æ–‡ä»¶readAssets2String : ä» assets ä¸­è¯»å–å­—ç¬¦ä¸²readAssets2List : ä» assets ä¸­æŒ‰è¡Œè¯»å–å­—ç¬¦ä¸²copyFileFromRaw : ä» raw ä¸­æ‹·è´æ–‡ä»¶readRaw2String : ä» raw ä¸­è¯»å–å­—ç¬¦ä¸²readRaw2List : ä» raw ä¸­æŒ‰è¡Œè¯»å–å­—ç¬¦ä¸² Rom ç›¸å…³ -&gt; RomUtils.java -&gt; Demo123456789101112131415161718192021isHuawei : æ˜¯å¦åä¸ºisVivo : æ˜¯å¦ VIVOisXiaomi : æ˜¯å¦å°ç±³isOppo : æ˜¯å¦ OPPOisLeeco : æ˜¯å¦ä¹è§†is360 : æ˜¯å¦ 360isZte : æ˜¯å¦ä¸­å…´isOneplus : æ˜¯å¦ä¸€åŠ isNubia : æ˜¯å¦åŠªæ¯”äºšisCoolpad : æ˜¯å¦é…·æ´¾isLg : æ˜¯å¦ LGisGoogle : æ˜¯å¦è°·æ­ŒisSamsung : æ˜¯å¦ä¸‰æ˜ŸisMeizu : æ˜¯å¦é­…æ—isLenovo : æ˜¯å¦è”æƒ³isSmartisan: æ˜¯å¦é”¤å­isHtc : æ˜¯å¦ HTCisSony : æ˜¯å¦ç´¢å°¼isGionee : æ˜¯å¦é‡‘ç«‹isMotorola : æ˜¯å¦æ‘©æ‰˜ç½—æ‹‰getRomInfo : è·å– ROM ä¿¡æ¯ å±å¹•ç›¸å…³ -&gt; ScreenUtils.java -&gt; Demo12345678910111213141516171819getScreenWidth : è·å–å±å¹•çš„å®½åº¦ï¼ˆå•ä½ï¼špxï¼‰getScreenHeight : è·å–å±å¹•çš„é«˜åº¦ï¼ˆå•ä½ï¼špxï¼‰getAppScreenWidth : è·å–åº”ç”¨å±å¹•çš„å®½åº¦ï¼ˆå•ä½ï¼špxï¼‰getAppScreenHeight : è·å–åº”ç”¨å±å¹•çš„é«˜åº¦ï¼ˆå•ä½ï¼špxï¼‰getScreenDensity : è·å–å±å¹•å¯†åº¦getScreenDensityDpi: è·å–å±å¹•å¯†åº¦ DPIsetFullScreen : è®¾ç½®å±å¹•ä¸ºå…¨å±setNonFullScreen : è®¾ç½®å±å¹•ä¸ºéå…¨å±toggleFullScreen : åˆ‡æ¢å±å¹•ä¸ºå…¨å±ä¸å¦çŠ¶æ€isFullScreen : åˆ¤æ–­å±å¹•æ˜¯å¦ä¸ºå…¨å±setLandscape : è®¾ç½®å±å¹•ä¸ºæ¨ªå±setPortrait : è®¾ç½®å±å¹•ä¸ºç«–å±isLandscape : åˆ¤æ–­æ˜¯å¦æ¨ªå±isPortrait : åˆ¤æ–­æ˜¯å¦ç«–å±getScreenRotation : è·å–å±å¹•æ—‹è½¬è§’åº¦screenShot : æˆªå±isScreenLock : åˆ¤æ–­æ˜¯å¦é”å±setSleepDuration : è®¾ç½®è¿›å…¥ä¼‘çœ æ—¶é•¿getSleepDuration : è·å–è¿›å…¥ä¼‘çœ æ—¶é•¿ SD å¡ç›¸å…³ -&gt; SDCardUtils.java -&gt; Demo12345678isSDCardEnableByEnvironment: æ ¹æ® Environment åˆ¤æ–­ SD å¡æ˜¯å¦å¯ç”¨getSDCardPathByEnvironment : æ ¹æ® Environment è·å– SD å¡è·¯å¾„getSDCardInfo : è·å– SD å¡ä¿¡æ¯getMountedSDCardPath : è·å–å·²æŒ‚è½½çš„ SD å¡è·¯å¾„getExternalTotalSize : è·å–å¤–ç½® SD å¡æ€»å¤§å°getExternalAvailableSize : è·å–å¤–ç½® SD å¡å¯ç”¨å¤§å°getInternalTotalSize : è·å–å†…ç½® SD å¡æ€»å¤§å°getInternalAvailableSize : è·å–å†…ç½® SD å¡å¯ç”¨å¤§å° æœåŠ¡ç›¸å…³ -&gt; ServiceUtils.java123456getAllRunningServices: è·å–æ‰€æœ‰è¿è¡Œçš„æœåŠ¡startService : å¯åŠ¨æœåŠ¡stopService : åœæ­¢æœåŠ¡bindService : ç»‘å®šæœåŠ¡unbindService : è§£ç»‘æœåŠ¡isServiceRunning : åˆ¤æ–­æœåŠ¡æ˜¯å¦è¿è¡Œ é˜´å½±ç›¸å…³ -&gt; ShadowUtils.java -&gt; Demo1apply: åº”ç”¨é˜´å½± Shell ç›¸å…³ -&gt; ShellUtils.java1execCmd[Async]: æ‰§è¡Œå‘½ä»¤ å°ºå¯¸ç›¸å…³ -&gt; SizeUtils.java1234567dp2px, px2dp : dp ä¸ px è½¬æ¢sp2px, px2sp : sp ä¸ px è½¬æ¢applyDimension : å„ç§å•ä½è½¬æ¢forceGetViewSize : åœ¨ onCreate ä¸­è·å–è§†å›¾çš„å°ºå¯¸measureView : æµ‹é‡è§†å›¾å°ºå¯¸getMeasuredWidth : è·å–æµ‹é‡è§†å›¾å®½åº¦getMeasuredHeight: è·å–æµ‹é‡è§†å›¾é«˜åº¦ Snackbar ç›¸å…³ -&gt; SnackbarUtils.java -&gt; Demo123456789101112131415with : è®¾ç½® snackbar ä¾èµ– viewsetMessage : è®¾ç½®æ¶ˆæ¯setMessageColor: è®¾ç½®æ¶ˆæ¯é¢œè‰²setBgColor : è®¾ç½®èƒŒæ™¯è‰²setBgResource : è®¾ç½®èƒŒæ™¯èµ„æºsetDuration : è®¾ç½®æ˜¾ç¤ºæ—¶é•¿setAction : è®¾ç½®è¡Œä¸ºsetBottomMargin: è®¾ç½®åº•è¾¹è·show : æ˜¾ç¤º snackbarshowSuccess : æ˜¾ç¤ºé¢„è®¾æˆåŠŸçš„ snackbarshowWarning : æ˜¾ç¤ºé¢„è®¾è­¦å‘Šçš„ snackbarshowError : æ˜¾ç¤ºé¢„è®¾é”™è¯¯çš„ snackbardismiss : æ¶ˆå¤± snackbargetView : è·å– snackbar è§†å›¾addView : æ·»åŠ  snackbar è§†å›¾ SpannableString ç›¸å…³ -&gt; SpanUtils.java -&gt; Demo1234567891011121314151617181920212223242526272829303132with : è®¾ç½®æ§ä»¶setFlag : è®¾ç½®æ ‡è¯†setForegroundColor: è®¾ç½®å‰æ™¯è‰²setBackgroundColor: è®¾ç½®èƒŒæ™¯è‰²setLineHeight : è®¾ç½®è¡Œé«˜setQuoteColor : è®¾ç½®å¼•ç”¨çº¿çš„é¢œè‰²setLeadingMargin : è®¾ç½®ç¼©è¿›setBullet : è®¾ç½®åˆ—è¡¨æ ‡è®°setFontSize : è®¾ç½®å­—ä½“å°ºå¯¸setFontProportion : è®¾ç½®å­—ä½“æ¯”ä¾‹setFontXProportion: è®¾ç½®å­—ä½“æ¨ªå‘æ¯”ä¾‹setStrikethrough : è®¾ç½®åˆ é™¤çº¿setUnderline : è®¾ç½®ä¸‹åˆ’çº¿setSuperscript : è®¾ç½®ä¸Šæ ‡setSubscript : è®¾ç½®ä¸‹æ ‡setBold : è®¾ç½®ç²—ä½“setItalic : è®¾ç½®æ–œä½“setBoldItalic : è®¾ç½®ç²—æ–œä½“setFontFamily : è®¾ç½®å­—ä½“ç³»åˆ—setTypeface : è®¾ç½®å­—ä½“setAlign : è®¾ç½®å¯¹é½setClickSpan : è®¾ç½®ç‚¹å‡»äº‹ä»¶setUrl : è®¾ç½®è¶…é“¾æ¥setBlur : è®¾ç½®æ¨¡ç³ŠsetShader : è®¾ç½®ç€è‰²å™¨setShadow : è®¾ç½®é˜´å½±setSpans : è®¾ç½®æ ·å¼append : è¿½åŠ æ ·å¼å­—ç¬¦ä¸²appendLine : è¿½åŠ ä¸€è¡Œæ ·å¼å­—ç¬¦ä¸²appendImage : è¿½åŠ å›¾ç‰‡appendSpace : è¿½åŠ ç©ºç™½create : åˆ›å»ºæ ·å¼å­—ç¬¦ä¸² SP ç›¸å…³ -&gt; SPStaticUtils.java -&gt; Demo1234567891011setDefaultSPUtils: è®¾ç½®é»˜è®¤ SP å®ä¾‹put : SP ä¸­å†™å…¥æ•°æ®getString : SP ä¸­è¯»å– StringgetInt : SP ä¸­è¯»å– intgetLong : SP ä¸­è¯»å– longgetFloat : SP ä¸­è¯»å– floatgetBoolean : SP ä¸­è¯»å– booleangetAll : SP ä¸­è·å–æ‰€æœ‰é”®å€¼å¯¹contains : SP ä¸­æ˜¯å¦å­˜åœ¨è¯¥ keyremove : SP ä¸­ç§»é™¤è¯¥ keyclear : SP ä¸­æ¸…é™¤æ‰€æœ‰æ•°æ® SP ç›¸å…³ -&gt; SPUtils.java1234567891011getInstance : è·å– SP å®ä¾‹Instance.put : SP ä¸­å†™å…¥æ•°æ®Instance.getString : SP ä¸­è¯»å– StringInstance.getInt : SP ä¸­è¯»å– intInstance.getLong : SP ä¸­è¯»å– longInstance.getFloat : SP ä¸­è¯»å– floatInstance.getBoolean: SP ä¸­è¯»å– booleanInstance.getAll : SP ä¸­è·å–æ‰€æœ‰é”®å€¼å¯¹Instance.contains : SP ä¸­æ˜¯å¦å­˜åœ¨è¯¥ keyInstance.remove : SP ä¸­ç§»é™¤è¯¥ keyInstance.clear : SP ä¸­æ¸…é™¤æ‰€æœ‰æ•°æ® å­—ç¬¦ä¸²ç›¸å…³ -&gt; StringUtils.java -&gt; Test1234567891011121314isEmpty : åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸º null æˆ–é•¿åº¦ä¸º 0isTrimEmpty : åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸º null æˆ–å…¨ä¸ºç©ºæ ¼isSpace : åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸º null æˆ–å…¨ä¸ºç©ºç™½å­—ç¬¦equals : åˆ¤æ–­ä¸¤å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰equalsIgnoreCase: åˆ¤æ–­ä¸¤å­—ç¬¦ä¸²å¿½ç•¥å¤§å°å†™æ˜¯å¦ç›¸ç­‰null2Length0 : null è½¬ä¸ºé•¿åº¦ä¸º 0 çš„å­—ç¬¦ä¸²length : è¿”å›å­—ç¬¦ä¸²é•¿åº¦upperFirstLetter: é¦–å­—æ¯å¤§å†™lowerFirstLetter: é¦–å­—æ¯å°å†™reverse : åè½¬å­—ç¬¦ä¸²toDBC : è½¬åŒ–ä¸ºåŠè§’å­—ç¬¦toSBC : è½¬åŒ–ä¸ºå…¨è§’å­—ç¬¦getString : è·å–å­—ç¬¦èµ„æºgetStringArray : è·å–å­—ç¬¦æ•°ç»„èµ„æº çº¿ç¨‹ç›¸å…³ -&gt; ThreadUtils.java -&gt; Test1234567891011121314151617181920212223242526272829isMainThread : åˆ¤æ–­å½“å‰æ˜¯å¦ä¸»çº¿ç¨‹getMainHandler : è·å–ä¸»çº¿ç¨‹ HandlerrunOnUiThread : è¿è¡Œåœ¨ä¸»çº¿ç¨‹runOnUiThreadDelayed : å»¶æ—¶è¿è¡Œåœ¨ä¸»çº¿ç¨‹getFixedPool : è·å–å›ºå®šçº¿ç¨‹æ± getSinglePool : è·å–å•çº¿ç¨‹æ± getCachedPool : è·å–ç¼“å†²çº¿ç¨‹æ± getIoPool : è·å– IO çº¿ç¨‹æ± getCpuPool : è·å– CPU çº¿ç¨‹æ± executeByFixed : åœ¨å›ºå®šçº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeByFixedWithDelay : åœ¨å›ºå®šçº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeByFixedAtFixRate : åœ¨å›ºå®šçº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡executeBySingle : åœ¨å•çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeBySingleWithDelay: åœ¨å•çº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeBySingleAtFixRate: åœ¨å•çº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡executeByCached : åœ¨ç¼“å†²çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeByCachedWithDelay: åœ¨ç¼“å†²çº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeByCachedAtFixRate: åœ¨ç¼“å†²çº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡executeByIo : åœ¨ IO çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeByIoWithDelay : åœ¨ IO çº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeByIoAtFixRate : åœ¨ IO çº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡executeByCpu : åœ¨ CPU çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeByCpuWithDelay : åœ¨ CPU çº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeByCpuAtFixRate : åœ¨ CPU çº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡executeByCustom : åœ¨è‡ªå®šä¹‰çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡executeByCustomWithDelay: åœ¨è‡ªå®šä¹‰çº¿ç¨‹æ± å»¶æ—¶æ‰§è¡Œä»»åŠ¡executeByCustomAtFixRate: åœ¨è‡ªå®šä¹‰çº¿ç¨‹æ± æŒ‰å›ºå®šé¢‘ç‡æ‰§è¡Œä»»åŠ¡cancel : å–æ¶ˆä»»åŠ¡çš„æ‰§è¡ŒsetDeliver : è®¾ç½®ä»»åŠ¡ç»“æŸåäº¤ä»˜çš„çº¿ç¨‹ æ—¶é—´ç›¸å…³ -&gt; TimeUtils.java -&gt; Test123456789101112131415161718192021222324252627282930getSafeDateFormat : è·å–å®‰å…¨çš„æ—¥æœŸæ ¼å¼millis2String : å°†æ—¶é—´æˆ³è½¬ä¸ºæ—¶é—´å­—ç¬¦ä¸²string2Millis : å°†æ—¶é—´å­—ç¬¦ä¸²è½¬ä¸ºæ—¶é—´æˆ³string2Date : å°†æ—¶é—´å­—ç¬¦ä¸²è½¬ä¸º Date ç±»å‹date2String : å°† Date ç±»å‹è½¬ä¸ºæ—¶é—´å­—ç¬¦ä¸²date2Millis : å°† Date ç±»å‹è½¬ä¸ºæ—¶é—´æˆ³millis2Date : å°†æ—¶é—´æˆ³è½¬ä¸º Date ç±»å‹getTimeSpan : è·å–ä¸¤ä¸ªæ—¶é—´å·®ï¼ˆå•ä½ï¼šunitï¼‰getFitTimeSpan : è·å–åˆé€‚å‹ä¸¤ä¸ªæ—¶é—´å·®getNowMills : è·å–å½“å‰æ¯«ç§’æ—¶é—´æˆ³getNowString : è·å–å½“å‰æ—¶é—´å­—ç¬¦ä¸²getNowDate : è·å–å½“å‰ DategetTimeSpanByNow : è·å–ä¸å½“å‰æ—¶é—´çš„å·®ï¼ˆå•ä½ï¼šunitï¼‰getFitTimeSpanByNow : è·å–åˆé€‚å‹ä¸å½“å‰æ—¶é—´çš„å·®getFriendlyTimeSpanByNow: è·å–å‹å¥½å‹ä¸å½“å‰æ—¶é—´çš„å·®getMillis : è·å–ä¸ç»™å®šæ—¶é—´ç­‰äºæ—¶é—´å·®çš„æ—¶é—´æˆ³getString : è·å–ä¸ç»™å®šæ—¶é—´ç­‰äºæ—¶é—´å·®çš„æ—¶é—´å­—ç¬¦ä¸²getDate : è·å–ä¸ç»™å®šæ—¶é—´ç­‰äºæ—¶é—´å·®çš„ DategetMillisByNow : è·å–ä¸å½“å‰æ—¶é—´ç­‰äºæ—¶é—´å·®çš„æ—¶é—´æˆ³getStringByNow : è·å–ä¸å½“å‰æ—¶é—´ç­‰äºæ—¶é—´å·®çš„æ—¶é—´å­—ç¬¦ä¸²getDateByNow : è·å–ä¸å½“å‰æ—¶é—´ç­‰äºæ—¶é—´å·®çš„ DateisToday : åˆ¤æ–­æ˜¯å¦ä»Šå¤©isLeapYear : åˆ¤æ–­æ˜¯å¦é—°å¹´getChineseWeek : è·å–ä¸­å¼æ˜ŸæœŸgetUSWeek : è·å–ç¾å¼å¼æ˜ŸæœŸisAm : åˆ¤æ–­æ˜¯å¦ä¸ŠåˆisPm : åˆ¤æ–­æ˜¯å¦ä¸‹åˆgetValueByCalendarField : æ ¹æ®æ—¥å†å­—æ®µè·å–å€¼getChineseZodiac : è·å–ç”Ÿè‚–getZodiac : è·å–æ˜Ÿåº§ åå¸ç›¸å…³ -&gt; ToastUtils.java -&gt; Demo12345678910setGravity : è®¾ç½®åå¸ä½ç½®setBgColor : è®¾ç½®èƒŒæ™¯é¢œè‰²setBgResource : è®¾ç½®èƒŒæ™¯èµ„æºsetMsgColor : è®¾ç½®æ¶ˆæ¯é¢œè‰²setMsgTextSize : è®¾ç½®æ¶ˆæ¯å­—ä½“å¤§å°showShort : æ˜¾ç¤ºçŸ­æ—¶åå¸showLong : æ˜¾ç¤ºé•¿æ—¶åå¸showCustomShort: æ˜¾ç¤ºçŸ­æ—¶è‡ªå®šä¹‰åå¸showCustomLong : æ˜¾ç¤ºé•¿æ—¶è‡ªå®šä¹‰åå¸cancel : å–æ¶ˆåå¸æ˜¾ç¤º è§¦æ‘¸ç›¸å…³ -&gt; TouchUtils.java1setOnTouchListener: è®¾ç½®è§¦æ‘¸äº‹ä»¶ UI æ¶ˆæ¯ç›¸å…³ -&gt; UiMessageUtils.java123send : å‘é€æ¶ˆæ¯addListener : æ–°å¢æ¶ˆæ¯ç›‘å¬å™¨removeListener: ç§»é™¤æ¶ˆæ¯ç›‘å¬å™¨ URI ç›¸å…³ -&gt; UriUtils.java123res2Uri : res è½¬ urifile2Uri: file è½¬ uriuri2File: uri è½¬ file UtilsTransActivity -&gt; UtilsTransActivity.java1start: å¯åŠ¨é€æ˜ Activity éœ‡åŠ¨ç›¸å…³ -&gt; VibrateUtils.java -&gt; Demo12vibrate: éœ‡åŠ¨cancel : å–æ¶ˆ è§†å›¾ç›¸å…³ -&gt; ViewUtils.java12345setViewEnabled : è®¾ç½®è§†å›¾æ˜¯å¦å¯ç”¨runOnUiThread : åœ¨ UI çº¿ç¨‹è¿è¡ŒrunOnUiThreadDelayed: åœ¨ UI çº¿ç¨‹å»¶è¿Ÿè¿è¡ŒisLayoutRtl : å¸ƒå±€æ˜¯å¦ä»å³åˆ°å·¦fixScrollViewTopping: ä¿®å¤ ScrollView ç½®é¡¶é—®é¢˜ å‹ç¼©ç›¸å…³ -&gt; ZipUtils.java -&gt; Test123456zipFiles : æ‰¹é‡å‹ç¼©æ–‡ä»¶zipFile : å‹ç¼©æ–‡ä»¶unzipFile : è§£å‹æ–‡ä»¶unzipFileByKeyword: è§£å‹å¸¦æœ‰å…³é”®å­—çš„æ–‡ä»¶getFilesPath : è·å–å‹ç¼©æ–‡ä»¶ä¸­çš„æ–‡ä»¶è·¯å¾„é“¾è¡¨getComments : è·å–å‹ç¼©æ–‡ä»¶ä¸­çš„æ³¨é‡Šé“¾è¡¨ æ‰“ä¸ªå°å¹¿å‘Šæ¬¢è¿åŠ å…¥æˆ‘çš„çŸ¥è¯†æ˜Ÿçƒã€ŒåŸºä½ å¤ªç¾ã€ï¼Œæˆ‘ä¼šåœ¨æ˜Ÿçƒä¸­åˆ†äº« AucFrame æ¡†æ¶ã€å¤§å‚é¢ç»ã€AndroidUtilCode æ›´è¯¦å°½çš„è¯´æ˜â€¦ä¸€åˆ‡æˆ‘æ‰€äº†è§£çš„çŸ¥è¯†ï¼Œä½ å¯ä»¥é€šè¿‡æ”¯ä»˜è¿›å…¥æˆ‘çš„æ˜Ÿçƒã€ŒåŸºä½ å¤ªç¾ã€è¿›è¡Œä½“éªŒï¼ŒåŠ å…¥åä¼˜å…ˆè§‚çœ‹æ˜Ÿçƒä¸­ç²¾åçš„éƒ¨åˆ†ï¼Œå¦‚æœè§‰å¾—æ˜Ÿçƒçš„å†…å®¹å¯¹è‡ªèº«æ²¡æœ‰æ”¶ç›Šï¼Œä½ å¯ä»¥è‡ªè¡Œç”³è¯·é€€æ¬¾é€€å‡ºæ˜Ÿçƒï¼Œä¹Ÿæ²¡å¿…è¦åŠ æˆ‘å¥½å‹ï¼›å¦‚æœä½ å·²ç¡®å®šè¦ç•™åœ¨æˆ‘çš„æ˜Ÿçƒï¼Œå¯ä»¥é€šè¿‡æ‰«æå¦‚ä¸‹äºŒç»´ç ï¼ˆå¤‡æ³¨ï¼šåŸºä½ å¤ªç¾ï¼‰åŠ æˆ‘ä¸ªäººå¾®ä¿¡ï¼Œå‘é€ç»™æˆ‘ä½ çš„æ˜Ÿçƒ IDï¼Œæ–¹ä¾¿æˆ‘åç»­æ‹‰ä½ è¿›ç¾¤(PSï¼šè¿›å¾—è¶Šæ—©ä»·æ ¼è¶Šä¾¿å®œ)ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>å·¥å…·ç±»</category>
      </categories>
      <tags>
        <tag>å·¥å…·ç±»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ»‘åŠ¨æ•ˆæœæ˜¯å¦‚ä½•äº§ç”Ÿçš„(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F07%2F26%2Fhow-scroll-achieve-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ å‰è¨€ï¼šç›¸å¯¹äºAndroid2.Xç‰ˆæœ¬ä¸­å¸¸è§çš„é•¿æŒ‰ã€ç‚¹å‡»æ“ä½œï¼Œæ»‘åŠ¨çš„æ“ä½œæ–¹å¼å…·æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒæ€§ã€‚å› æ­¤ï¼Œä»Android4.Xç‰ˆæœ¬å¼€å§‹ï¼Œæ»‘åŠ¨æ“ä½œå°±å¤§é‡å‡ºç°åœ¨äº†Androidç³»ç»Ÿä¸­ï¼Œå„ç§ç¬¬ä¸‰æ–¹åº”ç”¨ä¹Ÿç«ç›¸æ¨¡ä»¿è¿™ç§æ•ˆæœï¼Œæ¥æ”¹å–„è‡ªå·±çš„åº”ç”¨ï¼Œä¸‹é¢å°±å°†å‘å¤§å®¶å±•ç¤ºå¦‚ä½•åœ¨åº”ç”¨ä¸­æ·»åŠ æ»‘åŠ¨æ•ˆæœã€‚ æ»‘åŠ¨ä¸€ä¸ªViewï¼Œæœ¬è´¨ä¸Šæ¥è¯´å°±æ˜¯ç§»åŠ¨ä¸€ä¸ªViewã€‚æ”¹å˜å…¶å½“å‰æ‰€å¤„çš„ä½ç½®ï¼Œå®ƒçš„åŸç†ä¸åŠ¨ç”»æ•ˆæœçš„å®ç°éå¸¸ç›¸ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡ä¸æ–­åœ°æ”¹å˜Viewçš„åæ ‡æ¥å®ç°è¿™ä¸€æ•ˆæœã€‚æ‰€ä»¥ï¼Œè¦å®ç°Viewçš„æ»‘åŠ¨ï¼Œå°±å¿…é¡»ç›‘å¬ç”¨æˆ·è§¦æ‘¸çš„äº‹ä»¶ï¼Œå¹¶æ ¹æ®äº‹ä»¶ä¼ å…¥çš„åæ ‡ï¼ŒåŠ¨æ€ä¸”ä¸æ–­åœ°æ”¹å˜Viewçš„åæ ‡ï¼Œä»è€Œå®ç°Viewè·Ÿéšç”¨æˆ·è§¦æ‘¸çš„æ»‘åŠ¨è€Œæ»‘åŠ¨ã€‚ åœ¨è®²è§£å¦‚ä½•å®ç°æ»‘åŠ¨æ•ˆæœä¹‹å‰ï¼Œéœ€è¦å…ˆæ¥äº†è§£ä¸€ä¸‹Androidä¸­çš„çª—å£åæ ‡ä½“ç³»å’Œå±å¹•çš„è§¦æ§äº‹ä»¶â€”â€”MotionEventã€‚ Androidåæ ‡ç³» åœ¨ç‰©ç†å­¦ä¸­ï¼Œè¦æè¿°ä¸€ä¸ªç‰©ä½“çš„è¿åŠ¨ï¼Œå°±å¿…é¡»é€‰å®šä¸€ä¸ªå‚è€ƒç³»ã€‚æ‰€è°“æ»‘åŠ¨ï¼Œæ­£æ˜¯ç›¸å¯¹äºå‚è€ƒç³»çš„è¿åŠ¨ã€‚åœ¨Androidä¸­ï¼Œå°†å±å¹•æœ€å·¦ä¸Šè§’çš„é¡¶ç‚¹ä½œä¸ºAndroidåæ ‡ç³»çš„åŸç‚¹ï¼Œä»è¿™ä¸ªç‚¹å‘å³æ˜¯Xè½´æ­£æ–¹å‘ï¼Œä»è¿™ä¸ªç‚¹å‘ä¸‹æ˜¯Yè½´çš„æ­£æ–¹å‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ç³»ç»Ÿæä¾›äº†getLocationOnScreen(int location[])è¿™æ ·çš„æ–¹æ³•æ¥è·å–Androidåæ ‡ç³»ä¸­ç‚¹çš„ä½ç½®ï¼Œå³è¯¥è§†å›¾å·¦ä¸Šè§’åœ¨Androidåæ ‡ç³»çš„åæ ‡ã€‚å¦å¤–ï¼Œåœ¨è§¦æ§äº‹ä»¶ä¸­ä½¿ç”¨getRawX()ã€getRawY()æ–¹æ³•æ‰€è·å¾—çš„åæ ‡åŒæ ·æ˜¯Androidåæ ‡ç³»ä¸­çš„åæ ‡ã€‚ è§†å›¾åæ ‡ç³» Androidä¸­é™¤äº†ä¸Šé¢æ‰€è¯´çš„è¿™ç§åæ ‡ç³»ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªè§†å›¾åæ ‡ç³»ï¼Œå®ƒæè¿°äº†å­è§†å›¾åœ¨çˆ¶è§†å›¾ä¸­çš„ä½ç½®å…³ç³»ã€‚è¿™ä¸¤ç§åæ ‡ç³»å¹¶ä¸çŸ›ç›¾ä¹Ÿä¸å¤æ‚ï¼Œä»–ä»¬çš„ä½œç”¨æ˜¯ç›¸è¾…ç›¸æˆçš„ã€‚ä¸Androidåæ ‡ç³»ç±»ä¼¼ï¼Œè§†å›¾åæ ‡ç³»åŒæ ·æ˜¯ä»¥åŸç‚¹å‘å³ä¸ºXè½´æ­£æ–¹å‘ï¼Œä»¥åŸç‚¹å‘ä¸‹ä¸ºYè½´æ­£æ–¹å‘ï¼Œåªä¸è¿‡åœ¨è§†å›¾åæ ‡ç³»ä¸­ï¼ŒåŸç‚¹ä¸å†æ˜¯Androidåæ ‡ç³»ä¸­çš„å±å¹•æœ€å·¦ä¸Šè§’ï¼Œè€Œæ˜¯ä»¥çˆ¶è§†å›¾å·¦ä¸Šè§’ä¸ºåæ ‡åŸç‚¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ åœ¨è§¦æ§äº‹ä»¶ä¸­ï¼Œé€šè¿‡getX()ã€getY()æ‰€è·å¾—çš„åæ ‡å°±æ˜¯è§†å›¾åæ ‡ç³»ä¸­çš„åæ ‡ã€‚ è§¦æ§äº‹ä»¶â€”â€”MotionEvent è§¦æ§äº‹ä»¶MotionEventåœ¨ç”¨æˆ·äº¤äº’ä¸­ï¼Œç«™ç€ä¸¾è¶³è½»é‡çš„åœ°ä½ï¼Œå­¦å¥½è§¦æ§äº‹ä»¶æ˜¯æŒæ¡ååºå†…å®¹çš„åŸºç¡€ã€‚é¦–å…ˆï¼Œæ¥çœ‹çœ‹MotionEventä¸­å°è£…çš„ä¸€äº›å¸¸ç”¨çš„äº‹ä»¶å¸¸é‡ï¼Œå®ƒå®šä¹‰äº†è§¦æ§äº‹ä»¶çš„ä¸åŒç±»å‹ã€‚ 1234567891011121314// å•ç‚¹è§¦æ‘¸æŒ‰ä¸‹åŠ¨ä½œpublic static final int ACTION_DOWN = 0;// å•ç‚¹è§¦æ‘¸ç¦»å¼€åŠ¨ä½œpublic static final int ACTION_UP = 1;// è§¦æ‘¸ç‚¹ç§»åŠ¨åŠ¨ä½œpublic static final int ACTION_MOVE = 2;// è§¦æ‘¸åŠ¨ä½œå–æ¶ˆpublic static final int ACTION_CANCEL = 3;// è§¦æ‘¸åŠ¨ä½œè¶…å‡ºè¾¹ç•Œpublic static final int ACTION_OUTSIDE = 4;// å¤šç‚¹è§¦æ‘¸æŒ‰ä¸‹åŠ¨ä½œpublic static final int ACTION_POINTER_DOWN = 5;// å¤šç‚¹ç¦»å¼€åŠ¨ä½œpublic static final int ACTION_POINTER_UP = 6; é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨onTouchEvent(MotionEvent event)æ–¹æ³•ä¸­é€šè¿‡event.getAction()æ–¹æ³•æ¥è·å–è§¦æ§äº‹ä»¶çš„ç±»å‹ï¼Œå¹¶ä½¿ç”¨switch-caseæ–¹æ³•æ¥è¿›è¡Œç­›é€‰ï¼Œè¿™ä¸ªä»£ç çš„æ¨¡å¼åŸºæœ¬å›ºå®šï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112131415161718@Overridepublic boolean onTouchEvent(MotionEvent event) &#123; // è·å–å½“å‰è¾“å…¥ç‚¹çš„Xã€Yåæ ‡(è§†å›¾åæ ‡) int x = (int) event.getX(); int y = (int) event.getY(); switch (event.getAction()) &#123; case MotionEvent.ACTION_DOWN: // å¤„ç†è¾“å…¥çš„æŒ‰ä¸‹äº‹ä»¶ break; case MotionEvent.ACTION_MOVE: // å¤„ç†è¾“å…¥çš„ç§»åŠ¨äº‹ä»¶ break; case MotionEvent.ACTION_UP: // å¤„ç†è¾“å…¥çš„ç¦»å¼€äº‹ä»¶ break; &#125; return true;&#125; åœ¨ä¸æ¶‰åŠå¤šç‚¹æ“ä½œçš„æƒ…å†µä¸‹ï¼Œé€šå¸¸å¯ä»¥ä½¿ç”¨ä»¥ä¸Šä»£ç æ¥å®Œæˆè§¦æ§äº‹ä»¶çš„ç›‘å¬ï¼Œä¸è¿‡è¿™é‡Œåªæ˜¯ä¸€ä¸ªä»£ç æ¨¡æ¿ï¼Œåé¢æˆ‘ä»¬ä¼šåœ¨è§¦æ§äº‹ä»¶ä¸­å®Œæˆå…·ä½“çš„é€»è¾‘ã€‚ åœ¨Androidä¸­ï¼Œç³»ç»Ÿæä¾›äº†éå¸¸å¤šçš„æ–¹æ³•æ¥è·å–åæ ‡å€¼ã€ç›¸å¯¹è·ç¦»ç­‰ã€‚æ–¹æ³•ä¸°å¯Œå›ºç„¶å¥½ï¼Œä½†ä¹Ÿç»™åˆå­¦è€…å¸¦æ¥äº†å¾ˆå¤šå›°æƒ‘ï¼Œä¸çŸ¥é“åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ä»€ä¹ˆæ–¹æ³•ï¼Œä¸‹é¢æ€»ç»“äº†ä¸€äº›APIï¼Œç»“åˆAndroidåæ ‡ç³»æ¥çœ‹çœ‹è¯¥å¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ è¿™äº›æ–¹æ³•å¯ä»¥åˆ†æˆå¦‚ä¸‹ä¸¤ä¸ªç±»åˆ«ï¼š Viewæä¾›çš„è·å–åæ ‡æ–¹æ³•getTop()ï¼šè·å–åˆ°çš„æ˜¯Viewè‡ªèº«çš„é¡¶è¾¹åˆ°å…¶çˆ¶å¸ƒå±€é¡¶è¾¹çš„è·ç¦»ã€‚getLeft()ï¼šè·å–åˆ°çš„æ˜¯Viewè‡ªèº«çš„å·¦è¾¹åˆ°å…¶çˆ¶å¸ƒå±€å·¦è¾¹çš„è·ç¦»ã€‚getRight()ï¼šè·å–åˆ°çš„æ˜¯Viewè‡ªèº«çš„å³è¾¹åˆ°å…¶çˆ¶å¸ƒå±€å·¦è¾¹çš„è·ç¦»ã€‚getBottom()ï¼šè·å–åˆ°çš„æ˜¯Viewè‡ªèº«çš„åº•è¾¹åˆ°å…¶çˆ¶å¸ƒå±€é¡¶è¾¹çš„è·ç¦»ã€‚ MotionEventæä¾›çš„æ–¹æ³•getX()ï¼šè·å–ç‚¹å‡»äº‹ä»¶è·ç¦»æ§ä»¶å·¦è¾¹çš„è·ç¦»ï¼Œå³è§†å›¾åæ ‡ã€‚getY()ï¼šè·å–ç‚¹å‡»äº‹ä»¶è·ç¦»æ§ä»¶é¡¶è¾¹çš„è·ç¦»ï¼Œå³è§†å›¾åæ ‡ã€‚getRawX()ï¼šè·å–ç‚¹å‡»äº‹ä»¶è·ç¦»æ•´ä¸ªå±å¹•å·¦è¾¹çš„è·ç¦»ï¼Œå³ç»å¯¹åæ ‡ã€‚getRawY()ï¼šè·å–ç‚¹å‡»äº‹ä»¶è·ç¦»æ•´ä¸ªå±å¹•é¡¶è¾¹çš„è·ç¦»ï¼Œå³ç»å¯¹åæ ‡ã€‚ ç›¸ä¿¡é€šè¿‡ä¸Šå›¾ï¼Œè¯»è€…ä»¬åº”è¯¥å¯¹MotionEventå’ŒAndroidåæ ‡ç³»æœ‰äº†ä¸€ä¸ªæ¯”è¾ƒæ¸…æ¥šçš„è®¤è¯†ã€‚ åŸæ–‡åœ°å€æ»‘åŠ¨æ•ˆæœæ˜¯å¦‚ä½•äº§ç”Ÿçš„(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>5.Android Scrollåˆ†æ</category>
      </categories>
      <tags>
        <tag>5.Android Scrollåˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ListViewå¸¸ç”¨æ‹“å±•(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F07%2F25%2FlistView-expand-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ ListViewè™½ç„¶ä½¿ç”¨å¹¿æ³›ï¼Œä½†ç³»ç»ŸåŸç”Ÿçš„ListViewæ˜¾ç„¶æ˜¯ä¸èƒ½æ»¡è¶³ç”¨æˆ·åœ¨å®¡ç¾ã€åŠŸèƒ½ä¸Šä¸æ–­æé«˜çš„éœ€æ±‚ã€‚ä¸è¿‡ä¹Ÿä¸è¦ç´§ï¼ŒAndroidå®Œå…¨å¯ä»¥å®šåˆ¶åŒ–ï¼Œè®©æˆ‘ä»¬éå¸¸æ–¹ä¾¿åœ°å¯¹åŸç”ŸListViewè¿›è¡Œæ‹“å±•ã€ä¿®æ”¹ã€‚äºæ˜¯ï¼Œåœ¨å¼€å‘è€…çš„åˆ›æ–°ä¸‹ï¼ŒListViewè¶Šæ¥è¶Šä¸°å¯Œå¤šå½©ï¼Œå„ç§å„æ ·çš„åŸºäºåŸç”ŸListViewçš„æ‹“å±•è®©äººç›®ä¸æš‡æ¥ã€‚ä¸‹é¢æ¥çœ‹å‡ ä¸ªå¸¸ç”¨çš„ListViewæ‹“å±•ã€‚ å…·æœ‰å¼¹æ€§çš„ListView Androidé»˜è®¤çš„ListViewåœ¨æ»šåŠ¨åˆ°é¡¶ç«¯æˆ–è€…åº•ç«¯çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰å¾ˆå¥½çš„æç¤ºã€‚åœ¨Android5.Xä¸­ï¼ŒGoogleä¸ºè¿™æ ·çš„è¡Œä¸ºåªæ·»åŠ äº†ä¸€ä¸ªåŠæœˆå½¢çš„é˜´å½±æ•ˆæœï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ è€Œåœ¨iOSç³»ç»Ÿä¸­ï¼Œåˆ—è¡¨éƒ½æ˜¯å…·æœ‰å¼¹æ€§æ•ˆæœçš„ï¼Œå³æ»šåŠ¨åˆ°åº•ç«¯æˆ–è€…é¡¶ç«¯åä¼šç»§ç»­å¾€ä¸‹æˆ–è€…å¾€ä¸Šæ»‘åŠ¨ä¸€æ®µè·ç¦»ã€‚ä¸å¾—ä¸è¯´ï¼Œè¿™æ ·çš„è®¾è®¡çš„ç¡®æ›´åŠ çš„å‹å¥½ï¼Œè™½ç„¶ä¸çŸ¥é“Googleä¸ºä»€ä¹ˆä¸æ¨¡ä»¿è¿™æ ·çš„è®¾è®¡ï¼Œä½†æˆ‘ä»¬å¯ä»¥è‡ªå·±ä¿®æ”¹ListViewï¼Œè®©ListViewä¹Ÿå¯ä»¥â€œå¼¹æ€§åè¶³â€ã€‚ ç½‘ä¸Šæœ‰å¾ˆå¤šé€šè¿‡é‡å†™ListViewæ¥å®ç°å¼¹æ€§æ•ˆæœçš„æ–¹æ³•ï¼Œæ¯”å¦‚å¢åŠ HeaderViewæˆ–è€…ä½¿ç”¨ScrollViewè¿›è¡ŒåµŒå¥—ï¼Œæ–¹æ³•æœ‰å¾ˆå¤šï¼Œä¸è¿‡è¿™é‡Œå¯ä»¥ä½¿ç”¨ä¸€ç§éå¸¸ç®€å•çš„æ–¹æ³•æ¥å®ç°è¿™ä¸ªæ•ˆæœã€‚è™½ç„¶ä¸å¦‚é‚£äº›æ–¹æ³•å¯å®šåˆ¶åŒ–é«˜ã€æ•ˆæœä¸°å¯Œï¼Œä½†ä¸»è¦ç›®çš„æ˜¯è®©è¯»è€…æœ‹å‹ä»¬å­¦ä¼šå¦‚ä½•ä»æºä»£ç ä¸­æ‰¾åˆ°é—®é¢˜çš„è§£å†³åŠæ³•ã€‚ æˆ‘ä»¬åœ¨æŸ¥çœ‹ListViewæºä»£ç çš„æ—¶å€™å¯ä»¥å‘ç°ï¼ŒListViewä¸­æœ‰ä¸€ä¸ªæ§åˆ¶æ»‘åŠ¨åˆ°è¾¹ç¼˜çš„å¤„ç†æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ 12345protected boolean overScrollBy(int deltaX, int deltaY, int scrollX, int scrollY, int scrollRangeX, int scrollRangeY, int maxOverScrollX, int maxOverScrollY, boolean isTouchEvent) å¯ä»¥çœ‹è§è¿™æ ·ä¸€ä¸ªå‚æ•°ï¼šmaxOverScrollYï¼Œæ³¨é‡Šä¸­è¿™æ ·å†™é“â€”â€”Number of pixels to overscroll by in either direction along the Y axisã€‚ç”±æ­¤å¯ä»¥å‘ç°ï¼Œè™½ç„¶å®ƒçš„é»˜è®¤å€¼æ˜¯0ï¼Œä½†å…¶å®åªè¦ä¿®æ”¹è¿™ä¸ªå‚æ•°çš„å€¼ï¼Œå°±å¯ä»¥è®©ListViewå…·æœ‰å¼¹æ€§äº†ï¼æ‰€ä»¥ï¼Œæ—¢ç„¶æˆ‘ä»¬ä¸çŸ¥é“ä¸ºä»€ä¹ˆGoogleä¸é‡‡ç”¨è¿™æ ·çš„ä¿®æ”¹ï¼Œé‚£æˆ‘ä»¬å°±è‡ªå·±æ¥ä¿®æ”¹ä¸€ä¸‹å§ã€‚é‡å†™è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶å°†maxOverScrollYæ”¹ä¸ºè®¾ç½®çš„å€¼â€”â€”mMaxOverDistanceï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234@Overrideprotected boolean overScrollBy(int deltaX, int deltaY, int scrollX, int scrollY, int scrollRangeX, int scrollRangeY, int maxOverScrollX, int maxOverScrollY, boolean isTouchEvent) &#123; return super.overScrollBy(deltaX, deltaY, scrollX, scrollY, scrollRangeX, scrollRangeY, maxOverScrollX, mMaxOverDistance, isTouchEvent);&#125; è¿™æ ·ï¼Œé€šè¿‡å¯¹è¿™ä¸ªå€¼å¾—ä¿®æ”¹ï¼Œå°±å®ç°äº†ä¸€ä¸ªå…·æœ‰å¼¹æ€§çš„ListViewäº†ã€‚æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å½“ç„¶ï¼Œä¸ºäº†èƒ½å¤Ÿæ»¡è¶³å¤šåˆ†è¾¨ç‡çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¿®æ”¹maxOverScrollYå€¼çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡å±å¹•çš„densityæ¥è®¡ç®—å…·ä½“çš„å€¼ï¼Œè®©ä¸åŒåˆ†è¾¨ç‡çš„å¼¹æ€§è·ç¦»åŸºæœ¬ä¸€è‡´ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345private void initView() &#123; DisplayMetrics metrics = mContext.getResources().getDisplayMetrics(); float density = metrics.density; mMaxOverDistance = (int) (density * mMaxOverDistance);&#125; è‡ªåŠ¨æ˜¾ç¤ºã€éšè—å¸ƒå±€çš„ListView ç›¸ä¿¡é€šè¿‡Google+çš„æœ‹å‹åº”è¯¥éå¸¸ç†Ÿæ‚‰è¿™æ ·ä¸€ä¸ªæ•ˆæœï¼šå½“æˆ‘ä»¬åœ¨ListViewä¸Šæ»‘åŠ¨çš„æ—¶å€™ï¼Œé¡¶éƒ¨çš„ActionBaræˆ–è€…Toolbarå°±ä¼šç›¸åº”çš„éšè—æˆ–è€…æ˜¾ç¤ºã€‚è¿™æ ·çš„æ•ˆæœä¸€å‡ºç°ï¼Œå„ç§Appç«ç›¸æ¨¡ä»¿ï¼Œä¸å¾—ä¸è¯´ï¼ŒGoogleçš„åº”ç”¨ä¸€ç›´éƒ½æ˜¯Androidè®¾è®¡çš„é£å‘æ ‡ã€‚ å¤§å®¶å¯ä»¥å‘ç°ï¼Œåœ¨æ»šåŠ¨å‰ç•Œé¢ä¸ŠåŠ è½½äº†ä¸Šæ–¹çš„æ ‡é¢˜æ å’Œå³ä¸‹è§’çš„æ‚¬æµ®ç¼–è¾‘æŒ‰é’®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å½“ç”¨æˆ·å‘ä¸‹æ»šåŠ¨æ—¶ï¼Œæ ‡é¢˜æ å’Œæ‚¬æµ®æŒ‰é’®æ¶ˆå¤±äº†ï¼Œè®©ç”¨æˆ·æœ‰æ›´å¤§çš„ç©ºé—´å»é˜…è¯»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ä¸‹é¢æˆ‘ä»¬å°±æ¥ä»¿ç…§è¿™ä¸ªä¾‹å­è®¾è®¡ä¸€ä¸ªç±»ä¼¼çš„æ•ˆæœã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œè®©ä¸€ä¸ªå¸ƒå±€æ˜¾ç¤ºæˆ–è€…éšè—å¹¶å¸¦æœ‰åŠ¨ç”»æ•ˆæœï¼Œå¯ä»¥é€šè¿‡å±æ€§åŠ¨ç”»æ¥å¾ˆæ–¹ä¾¿åœ°å®ç°ï¼Œæ‰€ä»¥è¿™ä¸ªæ•ˆæœçš„å…³é”®å°±åœ¨äºå¦‚ä½•è·å¾—ListViewçš„å„ç§æ»‘åŠ¨äº‹ä»¶ã€‚æ‰€ä»¥å€ŸåŠ©Viewçš„OnTouchListeneræ¥å£æ¥ç›‘å¬ListViewçš„æ»‘åŠ¨ï¼Œé€šè¿‡æ¯”è¾ƒä¸ä¸Šæ¬¡åæ ‡çš„å¤§å°ï¼Œæ¥åˆ¤æ–­æ»‘åŠ¨çš„æ–¹å‘ï¼Œå¹¶é€šè¿‡æ»‘åŠ¨çš„æ–¹å‘æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ˜¾ç¤ºæˆ–éšè—å¯¹åº”çš„å¸ƒå±€ã€‚åœ¨å¼€å§‹åˆ¤æ–­æ»‘åŠ¨äº‹ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜è¦åšä¸€äº›å‡†å¤‡å·¥ä½œï¼Œé¦–å…ˆéœ€è¦ç»™ListViewå¢åŠ ä¸€ä¸ªHeaderViewï¼Œé¿å…ç¬¬ä¸€ä¸ªItemè¢«Toolbaré®æŒ¡ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234View header = new View(this);header.setLayoutParams(new AbsListView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, (int) getResources().getDimension(R.dimen.abc_action_bar_default_height_material)));mListView.addHeaderView(header); åœ¨ä»£ç ä¸­ï¼Œé€šè¿‡ä½¿ç”¨abc_action_bar_default_height_materialå±æ€§è·å–ç³»ç»ŸActionbarçš„é«˜åº¦ï¼Œå¹¶è®¾ç½®ç»™HeaderViewã€‚å¦å¤–ï¼Œå®šä¹‰ä¸€ä¸ªmTouchSlopå˜é‡æ¥è·å–ç³»ç»Ÿè®¤ä¸ºçš„æœ€ä½æ»‘åŠ¨è·ç¦»ï¼Œå³è¶…è¿‡è¿™ä¸ªè·ç¦»çš„ç§»åŠ¨ï¼Œç³»ç»Ÿå°±å°†å…¶å®šä¹‰ä¸ºæ»‘åŠ¨çŠ¶æ€äº†ï¼Œå¯¹è¿™ä¸ªå€¼å¾—è·å–éå¸¸ç®€å•ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1mTouchSlop = ViewConfiguration.get(this).getScaledTouchSlop(); æœ‰äº†å‰é¢çš„å‡†å¤‡å·¥ä½œï¼Œä¸‹é¢æˆ‘ä»¬å°±å¯ä»¥åˆ¤æ–­æ»‘åŠ¨çš„äº‹ä»¶äº†ï¼Œå…³é”®ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314151617181920212223242526@Overridepublic boolean onTouch(View v, MotionEvent event) &#123; switch (event.getAction()) &#123; case MotionEvent.ACTION_DOWN: mFirstY = event.getY(); break; case MotionEvent.ACTION_MOVE: mCurrentY = event.getY(); if (mCurrentY - mFirstY &gt; mTouchSlop) &#123; // down if (mShow) &#123; toolbarAnim(0); &#125; mShow = !mShow; &#125; else if (mCurrentY - mFirstY &lt; mTouchSlop) &#123; // up if (mShow) &#123; toolbarAnim(1); &#125; mShow = !mShow; &#125; break; case MotionEvent.ACTION_UP: break; &#125; return false; ä»£ç é€»è¾‘éå¸¸ç®€å•ï¼Œåªæ˜¯é€šè¿‡æ»‘åŠ¨ç‚¹çš„åæ ‡æ”¹å˜å¤§å°ï¼Œæ¥åˆ¤æ–­ç§»åŠ¨çš„æ–¹å‘ï¼Œå¹¶æ ¹æ®ç§»åŠ¨æ–¹å‘æ¥æ‰§è¡Œä¸åŒçš„åŠ¨ç”»æ•ˆæœã€‚ æœ‰äº†å‰é¢çš„åˆ†æï¼Œå®ç°è¿™æ ·ä¸€ä¸ªæ•ˆæœå°±éå¸¸ç®€å•äº†ï¼Œæœ€ååŠ ä¸Šæ§åˆ¶å¸ƒå±€æ˜¾ç¤ºéšè—çš„åŠ¨ç”»ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314private void toolbarAnim(int flag) &#123; if (mAnimator != null &amp;&amp; mAnimator.isRunning()) &#123; mAnimator.cancel(); &#125; if (flag == 0) &#123; mAnimator = ObjectAnimator.ofFloat(mToolbar, "translationY", mToolbar.getTranslationY(), 0); &#125; else &#123; mAnimator = ObjectAnimator.ofFloat(mToolbar, "translationY", mToolbar.getTranslationY(), -mToolbar.getHeight()); &#125; mAnimator.start();&#125; åŠ¨ç”»ä¹Ÿæ˜¯æœ€ç®€å•çš„ä½ç§»å±æ€§åŠ¨ç”»ã€‚ä¸è¿‡è¿™é‡Œéœ€è¦è¯´ä¸€ç‚¹é¢˜å¤–è¯ï¼Œè¿™é‡Œä½¿ç”¨äº†Toorbarè¿™æ ·ä¸€ä¸ªæ–°æ§ä»¶ï¼ŒGoogleå·²ç»æ¨èå®ƒæ¥é€æ¸å–ä»£ActionBaräº†ï¼Œå› ä¸ºå®ƒæ›´åŠ çµæ´»ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œä¸€å®šè¦æ³¨æ„ä½¿ç”¨çš„themeä¸€å®šæ˜¯è¦NoActionBarçš„ï¼Œä¸ç„¶ä¼šå¼•èµ·å†²çªã€‚åŒæ—¶ï¼Œä¸è¦å¿˜è®°å¼•å…¥ç¼–è¯‘ï¼Œä»£ç å¦‚ä¸‹ã€‚ 1234dependencies &#123; compile fileTree(dir: 'libs', include: ['*.jar']) compile 'com.android.support:appcompat-v7:23.4.0'&#125; è¿è¡Œç¨‹åºååˆå§‹çŠ¶æ€å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒToorbaræ˜¾ç¤ºåœ¨æœ€ä¸Šæ–¹ã€‚ å½“å‘ä¸Šæ»‘åŠ¨æ—¶ï¼ŒToolbaréšè—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å†å‘ä¸‹æ»‘åŠ¨æ—¶ï¼ŒToolbaræ˜¾ç¤ºã€‚ èŠå¤©ListView é€šå¸¸æˆ‘ä»¬ä½¿ç”¨çš„ListViewçš„æ¯ä¸€é¡¹éƒ½å…·æœ‰ç›¸åŒçš„å¸ƒå±€ï¼Œæ‰€ä»¥å±•ç°å‡ºæ¥çš„æ—¶å€™ï¼Œé™¤äº†æ•°æ®ä¸åŒï¼Œåªè¦ä½ ä¸éšè—å¸ƒå±€ï¼Œå…¶ä»–çš„å¸ƒå±€åº”è¯¥éƒ½æ˜¯ç±»ä¼¼çš„ã€‚è€Œæˆ‘ä»¬ç†ŸçŸ¥çš„QQã€å¾®ä¿¡ç­‰èŠå¤©Appï¼Œåœ¨èŠå¤©ç•Œé¢ï¼Œä¼šå±•ç¤ºè‡³å°‘ä¸¤ç§å¸ƒå±€ï¼Œå³æ”¶åˆ°çš„æ¶ˆæ¯å’Œè‡ªå·±å‘é€çš„æ¶ˆæ¯ï¼Œå…¶å®è¿™æ ·çš„æ•ˆæœä¹Ÿæ˜¯é€šè¿‡ListViewæ¥å®ç°çš„ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥æ¨¡ä»¿ä¸€ä¸ªèŠå¤©è½¯ä»¶çš„èŠå¤©åˆ—è¡¨ç•Œé¢ï¼Œå…¶æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ è¿™æ ·ä¸€ä¸ªListViewä¸æˆ‘ä»¬å¹³æ—¶æ‰€ä½¿ç”¨çš„ListViewæœ€å¤§çš„ä¸åŒï¼Œå°±æ˜¯å®ƒæ‹¥æœ‰ä¸¤ä¸ªä¸åŒçš„å¸ƒå±€â€”â€”æ”¶åˆ°çš„å¸ƒå±€å’Œå‘é€çš„å¸ƒå±€ã€‚è¦å®ç°è¿™æ ·çš„æ•ˆæœï¼Œå°±éœ€è¦æ‹¿ListViewçš„Adapterâ€œå¼€åˆ€â€ã€‚ åœ¨å®šä¹‰BaseAdapterçš„æ—¶å€™ï¼Œéœ€è¦å»é‡å†™å®ƒçš„getView()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯ç”¨æ¥è·å–å¸ƒå±€çš„ï¼Œé‚£ä¹ˆåªéœ€è¦åœ¨è·å–å¸ƒå±€çš„æ—¶å€™ï¼Œåˆ¤æ–­ä¸€ä¸‹è¯¥è·å–å“ªä¸€ç§å¸ƒå±€å°±å¯ä»¥äº†ã€‚è€Œä¸”ï¼ŒListViewåœ¨è®¾è®¡çš„æ—¶å€™å°±å·²ç»è€ƒè™‘åˆ°äº†è¿™ç§æƒ…å†µï¼Œæ‰€ä»¥å®ƒæä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678@Overridepublic int getItemViewType(int position) &#123; return super.getItemViewType(position);&#125;@Overridepublic int getViewTypeCount() &#123; return super.getViewTypeCount();&#125; getItemViewType()æ–¹æ³•ç”¨æ¥è¿”å›ç¬¬positionä¸ªItemæ˜¯ä½•ç§ç±»å‹ï¼Œè€ŒgetViewTypeCount()æ–¹æ³•ç”¨æ¥è¿”å›ä¸åŒå¸ƒå±€çš„æ€»æ•°ã€‚é€šè¿‡è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œå†ç»“åˆgetView()æ–¹æ³•ï¼Œå°±å¯ä»¥å¾ˆè½»æ¾åœ°è®¾è®¡å‡ºä¸Šé¢çš„èŠå¤©å¸ƒå±€äº†ã€‚ é¦–å…ˆæ¥å®ç°ä¸¤ä¸ªå¸ƒå±€â€”â€”chat_item_iteminå’Œchat_item_itemoutã€‚å¸ƒå±€å¤§åŒå°å¼‚ï¼Œåªæ˜¯æ–¹å‘ä¸Šæœ‰åŒºåˆ«ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ˜¾ç¤ºèŠå¤©ä¿¡æ¯å†…å®¹çš„TextViewä½¿ç”¨äº†9patchçš„å›¾ç‰‡ï¼Œè¿™ç§å›¾ç‰‡æ ¼å¼æ˜¯Androidä¸­ç”¨æ¥æ‹‰ä¼¸å›¾ç‰‡çš„ï¼Œä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆåœ¨æŸäº›æ–¹å‘ä¸Šæ‹‰ä¼¸å´ä¸ä¼šå¤±çœŸã€å½¢å˜çš„å›¾ç‰‡å°±å¯ä»¥äº†ï¼Œå¸ƒå±€ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ç”±äºinå’Œoutç•Œé¢å†…å®¹åªæ˜¯æ–¹å‘ä¸Šçš„åŒºåˆ«ï¼Œè¿™é‡Œåªè´´å‡ºä¸€ä¸ªå¸ƒå±€çš„ä»£ç ã€‚ 1234567891011121314151617181920212223&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="match_parent" android:gravity="center_vertical" android:orientation="horizontal" android:padding="10dp"&gt; &lt;ImageView android:id="@+id/icon_in" android:layout_width="wrap_content" android:layout_height="wrap_content" android:src="@mipmap/ic_launcher" /&gt; &lt;TextView android:id="@+id/text_in" android:layout_width="wrap_content" android:layout_height="wrap_content" android:background="@drawable/chatitem_in_bg" android:gravity="center" android:textSize="20sp" /&gt; &lt;/LinearLayout&gt; åŒæ—¶ï¼Œä¸ºäº†å°è£…ä¸‹èŠå¤©å†…å®¹ï¼Œä¾¿äºåœ¨Adapterä¸­è·å–æ•°æ®ä¿¡æ¯ï¼Œæˆ‘ä»¬å°è£…äº†ä¸€ä¸ªBeanæ¥ä¿å­˜èŠå¤©ä¿¡æ¯ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940import android.graphics.Bitmap; /********************************************** author: Blankj on 2016/7/25 14:01 * blog: http://blankj.com* e-mail: blankj@qq.com*********************************************/public class ChatListViewBean &#123; private int type; private String text; private Bitmap icon; public ChatListViewBean() &#123; &#125; public int getType() &#123; return type; &#125; public void setType(int type) &#123; this.type = type; &#125; public String getText() &#123; return text; &#125; public void setText(String text) &#123; this.text = text; &#125; public Bitmap getIcon() &#123; return icon; &#125; public void setIcon(Bitmap icon) &#123; this.icon = icon; &#125;&#125; éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªæ˜¯å£°æ˜äº†éœ€è¦çš„ä¿¡æ¯å¹¶æä¾›äº†getå’Œsetæ–¹æ³•ã€‚ æ¥ä¸‹æ¥ï¼Œéœ€è¦æ¥å®Œæˆæœ€é‡è¦çš„BaseAdapteräº†ï¼ŒåŒæ ·ä½¿ç”¨ViewHolderæ¨¡å¼æ¥æé«˜ListViewçš„æ•ˆç‡ï¼Œå¹¶åœ¨getView()æ–¹æ³•ä¸­è¿›è¡Œå¸ƒå±€ç±»å‹çš„åˆ¤æ–­ï¼Œä»è€Œç¡®å®šä½¿ç”¨å“ªç§å¸ƒå±€ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.ImageView;import android.widget.TextView; import java.util.List; /********************************************* * author: Blankj on 2016/7/25 14:01 * blog: http://blankj.com * e-mail: blankj@qq.com*********************************************/public class ChatListViewAdapter extends BaseAdapter &#123; private List&lt;ChatListViewBean&gt; mData; private LayoutInflater mInflater; public ChatListViewAdapter(Context context, List&lt;ChatListViewBean&gt; data) &#123; this.mData = data; mInflater = LayoutInflater.from(context); &#125; @Override public int getCount() &#123; return mData.size(); &#125; @Override public Object getItem(int position) &#123; return mData.get(position); &#125; @Override public long getItemId(int position) &#123; return position; &#125; @Override public int getItemViewType(int position) &#123; ChatListViewBean bean = mData.get(position); return bean.getType(); &#125; @Override public int getViewTypeCount() &#123; return 2; &#125; @Override public View getView(int position, View convertView, ViewGroup parent) &#123; ViewHolder viewHolder = null; if (convertView == null) &#123; viewHolder = new ViewHolder(); if (getItemViewType(position) == 0) &#123; convertView = mInflater.inflate(R.layout.chat_item_itemin, null); viewHolder.icon = (ImageView) convertView.findViewById(R.id.icon_in); viewHolder.text = (TextView) convertView.findViewById(R.id.text_in); &#125; else &#123; convertView = mInflater.inflate(R.layout.chat_item_itemout, null); viewHolder.icon = (ImageView) convertView.findViewById(R.id.icon_out); viewHolder.text = (TextView) convertView.findViewById(R.id.text_out); &#125; convertView.setTag(viewHolder); &#125; else &#123; viewHolder = (ViewHolder) convertView.getTag(); &#125; viewHolder.icon.setImageBitmap(mData.get(position).getIcon()); viewHolder.text.setText(mData.get(position).getText()); return convertView; &#125; public final class ViewHolder &#123; public ImageView icon; public TextView text; &#125;&#125; åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œé€šè¿‡åœ¨getView()ä¸­åˆ¤æ–­getItemType(position)çš„å€¼æ¥å†³å®šå…·ä½“å®ä¾‹åŒ–å“ªä¸€ä¸ªå¸ƒå±€ï¼Œä»è€Œå®ç°åœ¨ä¸€ä¸ªListViewä¸­å¤šä¸ªå¸ƒå±€å†…å®¹çš„æ·»åŠ ã€‚æœ€åï¼Œåœ¨æµ‹è¯•çš„Activityé‡Œé¢æ·»åŠ äº†ä¸€äº›æµ‹è¯•ä»£ç ï¼Œæ¥æµ‹è¯•è¿™ä¸ªå¸ƒå±€ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162import android.app.Activity;import android.graphics.BitmapFactory;import android.os.Bundle;import android.widget.ListView; import java.util.ArrayList;import java.util.List; /********************************************** author: Blankj on 2016/7/25 13:30 * blog: http://blankj.com* e-mail: blankj@qq.com*********************************************/public class ChatListViewTest extends Activity &#123; private ListView mListView; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_chat); mListView = (ListView) findViewById(R.id.lv_chat); ChatListViewBean bean1 = new ChatListViewBean(); bean1.setType(0); bean1.setIcon(BitmapFactory.decodeResource(getResources(), R.drawable.in_icon)); bean1.setText("Hello how are you?"); ChatListViewBean bean2 = new ChatListViewBean(); bean2.setType(1); bean2.setIcon(BitmapFactory.decodeResource(getResources(), R.drawable.out_icon)); bean2.setText("Fine thank you, and you?"); ChatListViewBean bean3 = new ChatListViewBean(); bean3.setType(0); bean3.setIcon(BitmapFactory.decodeResource(getResources(), R.drawable.in_icon)); bean3.setText("I am fine, too"); ChatListViewBean bean4 = new ChatListViewBean(); bean4.setType(1); bean4.setIcon(BitmapFactory.decodeResource(getResources(), R.drawable.out_icon)); bean4.setText("Bye bye"); ChatListViewBean bean5 = new ChatListViewBean(); bean5.setType(0); bean5.setIcon(BitmapFactory.decodeResource(getResources(), R.drawable.in_icon)); bean5.setText("See you"); List&lt;ChatListViewBean&gt; data = new ArrayList&lt;ChatListViewBean&gt;(); data.add(bean1); data.add(bean2); data.add(bean3); data.add(bean4); data.add(bean5); mListView.setAdapter(new ChatListViewAdapter(this, data)); &#125;&#125; åœ¨æµ‹è¯•ä»£ç ä¸­ï¼Œç®€å•åœ°æ·»åŠ äº†ä¸€äº›æ¨¡æ‹Ÿçš„èŠå¤©å†…å®¹ï¼Œå¹¶å°†ä¿¡æ¯å°è£…åˆ°è®¾ç½®çš„Beanå¯¹è±¡ä¸­ï¼Œæœ€åè¿è¡Œç¨‹åºï¼Œå³å¯å¾—åˆ°ä¹‹å‰æ‰€ç¤ºçš„èŠå¤©æ•ˆæœç•Œé¢ã€‚ åŠ¨æ€æ”¹å˜ListViewå¸ƒå±€ é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœè¦åŠ¨æ€åœ°æ”¹å˜ç‚¹å‡»Itemçš„å¸ƒå±€æ¥è¾¾åˆ°ä¸€ä¸ªFocusçš„æ•ˆæœï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•ã€‚ä¸€ç§æ˜¯å°†ä¸¤ç§å¸ƒå±€å†™åœ¨ä¸€èµ·ï¼Œé€šè¿‡æ§åˆ¶å¸ƒå±€çš„æ˜¾ç¤ºã€éšè—ï¼Œæ¥è¾¾åˆ°åˆ‡æ¢å¸ƒå±€çš„æ•ˆæœï¼›å¦ä¸€ç§åˆ™æ˜¯åœ¨getView()çš„æ—¶å€™ï¼Œé€šè¿‡åˆ¤æ–­æ¥é€‰æ‹©åŠ è½½ä¸åŒçš„å¸ƒå±€ã€‚ä¸¤ç§æ–¹æ³•å„æœ‰åˆ©å¼Šï¼Œå…³é”®è¿˜æ˜¯çœ‹ä½¿ç”¨çš„åœºåˆã€‚ä¸‹é¢å°±ä»¥ç¬¬äºŒç§æ–¹å¼ï¼Œæ¥æ¼”ç¤ºä¸€ä¸‹è¿™æ ·çš„æ•ˆæœï¼Œç¨‹åºè¿è¡Œååˆå§‹æ•ˆæœä¸‹å›¾æ‰€ç¤ºï¼Œç¬¬ä¸€ä¸ªItemä¸ºé»˜è®¤FocusçŠ¶æ€ã€‚ å½“ç‚¹å‡»å…¶ä»–Itemçš„æ—¶å€™ï¼Œç‚¹å‡»çš„Itemå˜ä¸ºFocusçŠ¶æ€ï¼Œå…¶ä»–Itemè¿˜åŸï¼Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ è¯¥æ•ˆæœå®ç°çš„å…³é”®è¿˜æ˜¯åœ¨äºBaseAdapterã€‚åœ¨è¿™ä¸ªå®ä¾‹ä¸­ï¼Œé€šè¿‡å¦‚ä¸‹æ‰€ç¤ºçš„ä¸¤ä¸ªæ–¹æ³•æ¥ç»™Itemè®¾ç½®ä¸¤ç§ä¸åŒçš„å¸ƒå±€â€”â€”Focuså’ŒNormalã€‚ 12345678910111213141516171819202122private View addFocusView(int i) &#123; ImageView iv = new ImageView(mContext); iv.setImageResource(R.mipmap.ic_launcher); return iv;&#125;private View addNormalView(int i) &#123; LinearLayout layout = new LinearLayout(mContext); layout.setOrientation(LinearLayout.HORIZONTAL); ImageView iv = new ImageView(mContext); iv.setImageResource(R.drawable.in_icon); layout.addView(iv, new LinearLayout.LayoutParams( LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT)); TextView tv = new TextView(mContext); tv.setText(mData.get(i)); layout.addView(tv, new LinearLayout.LayoutParams( LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT)); layout.setGravity(Gravity.CENTER); return layout;&#125; åœ¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¸­ï¼Œå¯ä»¥æ ¹æ®Itemä½ç½®çš„ä¸åŒæ¥è®¾ç½®ä¸åŒçš„æ˜¾ç¤ºå›¾ç‰‡ç­‰ä¿¡æ¯ï¼Œä½†è¿™é‡Œä¸ºäº†æ–¹ä¾¿ï¼Œå°±ç»Ÿä¸€åªæ˜¾ç¤ºä¸€å¼ å›¾ç‰‡ã€‚ ä¸‹é¢å›åˆ°BaseAdapterï¼Œåœ¨getView()æ–¹æ³•ä¸­ï¼Œé€šè¿‡åˆ¤æ–­ç‚¹å‡»çš„ä½ç½®æ¥æ”¹å˜ç›¸åº”çš„è§†å›¾ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011@Overridepublic View getView(int position, View convertView, ViewGroup parent) &#123; LinearLayout layout = new LinearLayout(mContext); layout.setOrientation(LinearLayout.VERTICAL); if (mCurrentItem == position) &#123; layout.addView(addFocusView(position)); &#125; else &#123; layout.addView(addNormalView(position)); &#125; return layout;&#125; åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œé€šè¿‡åˆ¤æ–­å½“å‰CurrentItemæ˜¯å¦æ˜¯ç‚¹å‡»çš„é‚£ä¸ªpositionï¼Œå°±å¯ä»¥åŠ¨æ€æ§åˆ¶æ˜¾ç¤ºçš„å¸ƒå±€äº†ã€‚å½“ç„¶ï¼Œä»…ä»…è¿™æ ·æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºgetView()æ˜¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™è°ƒç”¨ï¼Œåé¢å†ç‚¹å‡»Itemçš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰å†æ¬¡è°ƒç”¨getView()ã€‚æ‰€ä»¥ï¼Œå¿…é¡»è¦è®©ListViewåœ¨ç‚¹å‡»åï¼Œå†åˆ·æ–°ä¸€æ¬¡ã€‚äºæ˜¯æˆ‘ä»¬è¯·å‡ºäº†notifyDataSetChanged()æ–¹æ³•æ¥å¸®åŠ©å®ç°åˆ·æ–°å¸ƒå±€çš„åŠŸèƒ½ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678mListView.setOnItemClickListener(new AdapterView.OnItemClickListener() &#123; @Override public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) &#123; mAdapter.setCurrentItem(position); mAdapter.notifyDataSetChanged(); &#125; &#125;); é¡¹ç›®åœ°å€â†’ListViewExpandation åŸæ–‡åœ°å€ListViewå¸¸ç”¨æ‹“å±•(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>4.ListViewä½¿ç”¨æŠ€å·§</category>
      </categories>
      <tags>
        <tag>4.ListViewä½¿ç”¨æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ListViewå¸¸ç”¨ä¼˜åŒ–æŠ€å·§(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F07%2F24%2FlistView-skills-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ å‰è¨€ï¼šListViewâ€”â€”åˆ—è¡¨ï¼Œå®ƒä½œä¸ºä¸€ä¸ªéå¸¸é‡è¦çš„æ˜¾ç¤ºæ–¹å¼ï¼Œä¸ç®¡æ˜¯åœ¨Webä¸­è¿˜æ˜¯ç§»åŠ¨å¹³å°ä¸­ï¼Œéƒ½æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ã€ä¸å¼€æˆ–ç¼ºçš„å±•ç¤ºä¿¡æ¯çš„å·¥å…·ã€‚åœ¨Androidä¸­ï¼ŒListViewæ§ä»¶æ¥ç®¡äº†è¿™ä¸€é‡æ‹…ï¼Œåœ¨å¤§é‡çš„åœºåˆä¸‹ï¼Œæˆ‘ä»¬éƒ½éœ€è¦ä½¿ç”¨è¿™ä¸ªæ§ä»¶ã€‚è™½ç„¶åœ¨Android 5.Xæ—¶ä»£ï¼ŒRecyclerViewåœ¨å¾ˆå¤šåœ°æ–¹éƒ½åœ¨é€æ¸å–ä»£ListViewï¼Œä½†ListViewçš„ä½¿ç”¨èŒƒå›´ä¾ç„¶éå¸¸çš„å¹¿æ³›ï¼Œå®ƒè¿™ä¸‡å¹´è€å¤§å“¥çš„åœ°ä½ä¹Ÿä¸æ˜¯è½»æ˜“å°±èƒ½æ’¼åŠ¨çš„ã€‚ä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹ListViewå¸¸ç”¨ä¼˜åŒ–æŠ€å·§ã€‚ ä½¿ç”¨ViewHolderæ¨¡å¼æé«˜æ•ˆç‡ ViewHolderæ¨¡å¼æ˜¯æé«˜ListViewæ•ˆç‡çš„ä¸€ä¸ªå¾ˆé‡è¦çš„æ–¹æ³•ã€‚ViewHolderæ¨¡å¼å……åˆ†åˆ©ç”¨äº†ListViewçš„è§†å›¾ç¼“å­˜æœºåˆ¶ï¼Œé¿å…äº†æ¯æ¬¡åœ¨è°ƒç”¨getView()çš„æ—¶å€™éƒ½å»é€šè¿‡findViewById()å®ä¾‹åŒ–æ§ä»¶ã€‚æ®æµ‹è¯•ï¼Œä½¿ç”¨ViewHolderå°†æé«˜50%ä»¥ä¸Šçš„æ•ˆç‡ã€‚ä½¿ç”¨ViewHolderæ¨¡å¼æ¥ä¼˜åŒ–ListViewéå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨è‡ªå®šä¹‰Adapterä¸­å®šä¹‰ä¸€ä¸ªå†…éƒ¨ç±»ViewHolderï¼Œå¹¶å°†å¸ƒå±€ä¸­çš„æ§ä»¶ä½œä¸ºæˆå‘˜å˜é‡ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234public final class ViewHolder &#123; public ImageView img; public TextView title;&#125; æ¥ä¸‹æ¥ï¼Œåªè¦åœ¨getView()æ–¹æ³•ä¸­é€šè¿‡è§†å›¾ç¼“å­˜æœºåˆ¶æ¥é‡ç”¨ä»¥ç¼“å­˜å³å¯ï¼Œå®Œæ•´çš„ä½¿ç”¨ViewHolderåˆ›å»ºListView Adapterçš„å®ä¾‹ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.ImageView;import android.widget.TextView; import java.util.List; /********************************************** author: Blankj on 2016/7/23 15:39 * blog: http://blankj.com* e-mail: blankj@qq.com*********************************************/public class ViewHolderAdapter extends BaseAdapter &#123; private List&lt;String&gt; mData; private LayoutInflater mInflater; public ViewHolderAdapter(Context context, List&lt;String&gt; data) &#123; this.mData = data; mInflater = LayoutInflater.from(context); &#125; @Override public int getCount() &#123; return mData.size(); &#125; @Override public Object getItem(int position) &#123; return mData.get(position); &#125; @Override public long getItemId(int position) &#123; return position; &#125; @Override public View getView(int position, View convertView, ViewGroup parent) &#123; ViewHolder viewHolder = null; // åˆ¤æ–­æ˜¯å¦ç¼“å­˜ if (convertView == null) &#123; viewHolder = new ViewHolder(); // é€šè¿‡LayoutInflaterå®ä¾‹åŒ–å¸ƒå±€ convertView = mInflater.inflate(R.layout.viewholder_item, null); viewHolder.img = (ImageView) convertView.findViewById(R.id.imageView); viewHolder.title = (TextView) convertView.findViewById(R.id.textView); convertView.setTag(viewHolder); &#125;else &#123; // é€šè¿‡tagæ‰¾åˆ°ç¼“å­˜çš„å¸ƒå±€ viewHolder = (ViewHolder) convertView.getTag(); &#125; // è®¾ç½®å¸ƒå±€ä¸­æ§ä»¶è¦æ˜¾ç¤ºçš„è§†å›¾ viewHolder.img.setBackgroundResource(R.mipmap.ic_launcher); viewHolder.title.setText(mData.get(position)); return convertView; &#125; public final class ViewHolder &#123; public ImageView img; public TextView title; &#125;&#125; æ•ˆæœå¾ˆç®€å•ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„ListViewï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ è®¾ç½®é¡¹ç›®é—´åˆ†éš”çº¿ ListViewçš„å„ä¸ªé¡¹ç›®ä¹‹é—´ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®åˆ†éš”çº¿æ¥è¿›è¡ŒåŒºåˆ†ï¼Œç³»ç»Ÿæä¾›äº†dividerå’ŒdividerHeightè¿™æ ·ä¸¤ä¸ªå±æ€§æ¥å¸®åŠ©æˆ‘ä»¬å®ç°è¿™ä¸€åŠŸèƒ½ã€‚é€šè¿‡è¿™ä¸¤ä¸ªå±æ€§ï¼Œä¹Ÿå¯ä»¥æ§åˆ¶ListViewä¹‹é—´çš„åˆ†éš”çº¿å’Œå®ƒçš„é«˜åº¦ã€‚å½“ç„¶ï¼Œåˆ†éš”çº¿ä¸ä»…ä»…å¯ä»¥è®¾ç½®ä¸ºä¸€ä¸ªé¢œè‰²ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºä¸€ä¸ªå›¾ç‰‡èµ„æºï¼Œåˆ†éš”çº¿çš„ä½¿ç”¨ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12android:divider="@color/colorAccent"android:dividerHeight="10dp" ä»¥ä¸Šä»£ç æ‰€å®è¡Œçš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå½“è®¾ç½®åˆ†éš”çº¿ä¸ºå¦‚ä¸‹ä»£ç æ—¶ï¼Œå°±å¯ä»¥æŠŠåˆ†éš”çº¿è®¾ç½®ä¸ºé€æ˜äº†ã€‚ 1android:divider="@null" éšè—ListViewçš„æ»šåŠ¨æ¡ é»˜è®¤çš„ListViewåœ¨æ»šåŠ¨æ—¶ï¼Œåœ¨å³è¾¹ä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡ï¼ŒæŒ‡ç¤ºå½“å‰æ»‘åŠ¨çš„ä½ç½®ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®scrollbarså±æ€§ï¼Œæ§åˆ¶ListViewçš„æ»šåŠ¨æ¡çŠ¶æ€ã€‚ç‰¹åˆ«åœ°ï¼Œå½“è®¾ç½®scrollbarså±æ€§ä¸ºnoneçš„æ—¶å€™ï¼ŒListViewæ»šåŠ¨æˆ–è€…ä¸æ»šåŠ¨ï¼Œå°±éƒ½ä¸ä¼šå‡ºç°æ»šåŠ¨æ¡äº†ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1android:divider="@null" å–æ¶ˆListViewçš„Itemç‚¹å‡»æ•ˆæœ å½“ç‚¹å‡»ListViewä¸­çš„ä¸€é¡¹æ—¶ï¼Œç³»ç»Ÿé»˜è®¤ä¼šå‡ºç°ä¸€ä¸ªç‚¹å‡»æ•ˆæœï¼Œåœ¨Android5.Xä¸Šæ˜¯ä¸€ä¸ªæ³¢çº¹æ•ˆæœï¼Œè€Œåœ¨Android5.Xä¹‹ä¸‹çš„ç‰ˆæœ¬åˆ™æ˜¯ä¸€ä¸ªæ”¹å˜èƒŒæ™¯é¢œè‰²çš„æ•ˆæœï¼Œä½†å¯ä»¥é€šè¿‡ä¿®æ”¹listSelectorå±æ€§æ¥å–æ¶ˆæ‰ç‚¹å‡»åçš„å›é¦ˆæ•ˆæœï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1android:listSelector="#00000000" å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Androidè‡ªå¸¦çš„é€æ˜è‰²æ¥å®ç°è¿™ä¸ªæ•ˆæœï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1android:listSelector="@android:color/transparent" è®¾ç½®ListViewéœ€è¦æ˜¾ç¤ºåœ¨ç¬¬å‡ é¡¹ ListViewä»¥Itemä¸ºå•ä½è¿›è¡Œæ˜¾ç¤ºï¼Œé»˜è®¤æ˜¾ç¤ºåœ¨ç¬¬ä¸€ä¸ªItemï¼Œå½“éœ€è¦æŒ‡å®šå…·ä½“æ˜¾ç¤ºçš„Itemæ—¶ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç æ¥å®ç°ã€‚ 1mListView.setSelection(N); å…¶ä¸­Nå°±æ˜¯éœ€è¦æ˜¾ç¤ºçš„ç¬¬Nä¸ªItemã€‚ å½“ç„¶ï¼Œè¿™ä¸ªæ–¹æ³•ç±»ä¼¼scrollToï¼Œæ˜¯ç¬é—´å®Œæˆçš„ç§»åŠ¨ã€‚é™¤æ­¤ä»¥å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç æ¥å®ç°å¹³æ»‘ç§»åŠ¨ã€‚ 123mListView.smoothScrollBy(distance,duration);mListView.smoothScrollByOffset(offset);mListView.smoothScrollToPosition(index); åŠ¨æ€ä¿®æ”¹ListView ListViewä¸­çš„æ•°æ®åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯éœ€è¦å˜åŒ–çš„ï¼Œå½“ç„¶å¯ä»¥é€šè¿‡é‡æ–°è®¾ç½®ListViewçš„Adapteræ¥æ›´æ–°ListViewçš„æ˜¾ç¤ºï¼Œä½†è¿™ä¹Ÿå°±éœ€è¦é‡æ–°è·å–ä¸€ä¸‹æ•°æ®ï¼Œç›¸å½“äºé‡æ–°åˆ·æ–°åˆ›å»ºçš„ListViewï¼Œè¿™æ ·æ˜¾ç„¶ä¸æ˜¯éå¸¸å‹å¥½ï¼Œè€Œä¸”æ•ˆç‡ä¹Ÿä¸ä¼šå¤ªé«˜ã€‚å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•æ¥å®ç°ListViewçš„åŠ¨æ€ä¿®æ”¹ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12mData.add("new");mAdapter.notifyDataSetChanged(); å½“ä¿®æ”¹äº†ä¼ é€’ç»™Adapterçš„æ˜ å°„Listä¹‹åï¼Œåªéœ€è¦é€šè¿‡è°ƒç”¨Adapterçš„notifyDataSetChanged()æ–¹æ³•ï¼Œé€šçŸ¥ListViewæ›´æ”¹æ•°æ®æºå³å¯å®Œæˆå¯¹ListViewçš„åŠ¨æ€ä¿®æ”¹ã€‚ä¸è¿‡ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨mAdapter.notifyDataSetChanged()æ–¹æ³•æ—¶ï¼Œå¿…é¡»ä¿è¯ä¼ è¿›Adapterçš„æ•°æ®Listæ˜¯åŒä¸€ä¸ªListè€Œä¸èƒ½æ˜¯å…¶ä»–å¯¹è±¡ï¼Œå¦åˆ™å°†æ— æ³•å®ç°è¯¥æ•ˆæœã€‚ä¸‹é¢è¿™ä¸ªå®ä¾‹å°±æ¼”ç¤ºäº†å¦‚ä½•åŠ¨æ€åœ°ä¿®æ”¹ListViewã€‚é€šè¿‡ç‚¹å‡»æŒ‰é’®ï¼Œä¸æ–­åœ°ç»™åŸæœ‰çš„Listå¢åŠ ä¸€ä¸ªæ–°çš„Itemï¼Œå¹¶è°ƒç”¨notifyDataSetChanged()æ–¹æ³•æ¥å®ç°ListViewçš„åŠ¨æ€æ›´æ–°ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112131415161718192021222324252627282930313233343536import android.os.Bundle;import android.support.v7.app.AppCompatActivity;import android.view.View;import android.widget.ListView; import java.util.ArrayList; public class MainActivity extends AppCompatActivity &#123; ListView mListView; ViewHolderAdapter mAdapter; ArrayList&lt;String&gt; mData; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); mListView = (ListView) findViewById(R.id.listView); mData = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; 20; ++i) &#123; mData.add(i + ""); &#125; mAdapter = new ViewHolderAdapter(this, mData); mListView.setAdapter(mAdapter); mAdapter.notifyDataSetChanged(); for (int i = 0, len = mListView.getCheckedItemCount(); i &lt; len; i++) &#123; View view = mListView.getChildAt(i); &#125; &#125; public void btnAdd(View view) &#123; mData.add("new"); mAdapter.notifyDataSetChanged(); mListView.setSelection(mData.size() - 1); &#125;&#125; å®ç°çš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ éå†ListViewä¸­çš„æ‰€æœ‰Item ListViewä½œä¸ºä¸€ä¸ªViewGroupï¼Œä¸ºæˆ‘ä»¬æä¾›äº†æ“çºµå­Viewçš„å„ç§æ–¹æ³•ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯é€šè¿‡getChildAt()æ¥è·å–ç¬¬iä¸ªå­Viewï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123for (int i = 0, len = mListView.getCheckedItemCount(); i &lt; len; i++) &#123; View view = mListView.getChildAt(i);&#125; å¤„ç†ç©ºListView ListViewç”¨äºå±•ç¤ºåˆ—è¡¨æ•°æ®ï¼Œä½†å½“åˆ—è¡¨ä¸­æ— æ•°æ®æ—¶ï¼ŒListViewä¸ä¼šæ˜¾ç¤ºä»»ä½•æ•°æ®æˆ–æç¤ºï¼ŒæŒ‰ç…§å®Œå–„ç”¨æˆ·ä½“éªŒçš„éœ€æ±‚ï¼Œè¿™é‡Œåº”è¯¥ç»™ä»¥æ— æ•°æ®çš„æç¤ºã€‚å¹¸å¥½ï¼ŒListViewæä¾›äº†ä¸€ä¸ªæ–¹æ³•â€”â€”setEmptyView()ï¼Œé€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ListViewè®¾ç½®ä¸€ä¸ªåœ¨ç©ºæ•°æ®ä¸‹æ˜¾ç¤ºçš„é»˜è®¤æç¤ºã€‚åŒ…å«ListViewçš„å¸ƒå±€è®¾ç½®å¦‚ä¸‹ã€‚ 12345678910111213141516171819202122&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;FrameLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="match_parent" tools:context="com.blankj.listviewskill.MainActivity"&gt; &lt;ListView android:id="@+id/listView" android:layout_width="match_parent" android:layout_height="match_parent" android:divider="@null" android:listSelector="@android:color/transparent" android:paddingBottom="40dp"/&gt; &lt;ImageView android:id="@+id/empty_view" android:layout_width="match_parent" android:layout_height="match_parent" android:src="@mipmap/ic_launcher"/&gt;&lt;/FrameLayout&gt; åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ–¹å¼ç»™ListViewè®¾ç½®ç©ºæ•°æ®æ—¶è¦æ˜¾ç¤ºçš„å¸ƒå±€ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1mListView.setEmptyView(findViewById(R.id.empty_view)); é€šè¿‡ä»¥ä¸Šä»£ç ï¼Œå°±ç»™ListViewåœ¨ç©ºæ•°æ®æ—¶æ˜¾ç¤ºäº†ä¸€å¼ é»˜è®¤çš„å›¾ç‰‡ï¼Œç”¨æ¥æç¤ºç”¨æˆ·ï¼›è€Œåœ¨æœ‰æ•°æ®æ—¶ï¼Œåˆ™ä¸ä¼šæ˜¾ç¤ºã€‚ ListViewçš„æ»‘åŠ¨ç›‘å¬ ListViewçš„æ»‘åŠ¨ç›‘å¬ï¼Œæ˜¯ListViewä¸­æœ€é‡è¦çš„æŠ€å·§ï¼Œå¾ˆå¤šé‡å†™çš„ListViewåŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨æ»‘åŠ¨äº‹ä»¶çš„å¤„ç†ä¸Šä¸‹åŠŸå¤«ï¼Œé€šè¿‡åˆ¤æ–­æ»‘åŠ¨äº‹ä»¶è¿›è¡Œä¸åŒçš„é€»è¾‘å¤„ç†ã€‚è€Œä¸ºäº†æ›´ä½³ç²¾ç¡®åœ°ç›‘å¬æ»‘åŠ¨äº‹ä»¶ï¼Œå¼€å‘è€…é€šå¸¸è¿˜éœ€è¦ä½¿ç”¨GestureDetectoræ‰‹åŠ¿è¯†åˆ«ã€VelocityTrackeræ»‘åŠ¨é€Ÿåº¦æ£€æµ‹ç­‰è¾…åŠ©ç±»æ¥å®Œæˆæ›´å¥½çš„ç›‘å¬ã€‚è¿™é‡Œä»‹ç»ä¸¤ç§ç›‘å¬ListViewæ»‘åŠ¨äº‹ä»¶çš„æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯é€šè¿‡OnTouchListeneræ¥å®ç°ç›‘å¬ï¼Œå¦ä¸€ä¸ªæ˜¯ä½¿ç”¨OnScrollListeneræ¥å®ç°ç›‘å¬ã€‚ OnTouchListener OnTouchListeneræ˜¯Viewä¸­çš„ç›‘å¬äº‹ä»¶ï¼Œé€šè¿‡ç›‘å¬ACTION_DOWNã€ACTION_MOVEã€ACTION_UPè¿™ä¸‰ä¸ªäº‹ä»¶å‘ç”Ÿæ—¶çš„åæ ‡ï¼Œå°±å¯ä»¥æ ¹æ®åæ ‡åˆ¤æ–­ç”¨æˆ·æ»‘åŠ¨çš„æ–¹å‘ï¼Œå¹¶åœ¨ä¸åŒçš„äº‹ä»¶ä¸­è¿›è¡Œç›¸åº”çš„é€»è¾‘å¤„ç†ï¼Œè¿™ç§æ–¹å¼çš„ä½¿ç”¨ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314151617mListView.setOnTouchListener(new View.OnTouchListener() &#123; @Override public boolean onTouch(View v, MotionEvent event) &#123; switch (event.getAction()) &#123; case MotionEvent.ACTION_DOWN: // è§¦æ‘¸æ—¶æ“ä½œ break; case MotionEvent.ACTION_MOVE: // ç§»åŠ¨æ—¶æ“ä½œ break; case MotionEvent.ACTION_UP: // ç¦»å¼€æ—¶æ“ä½œ break; &#125; return false; &#125;&#125;); OnScrollListener OnScrollListeneræ˜¯AbsListViewä¸­çš„ç›‘å¬äº‹ä»¶ï¼Œå®ƒå°è£…äº†å¾ˆå¤šListViewç›¸å…³çš„ä¿¡æ¯ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿæ›´åŠ çµæ´»ã€‚é¦–å…ˆæ¥çœ‹ä¸€ä¸‹OnScrollListenerçš„ä¸€èˆ¬ä½¿ç”¨æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112131415161718192021222324mListView.setOnScrollListener(new AbsListView.OnScrollListener() &#123; @Override public void onScrollStateChanged(AbsListView view, int scrollState) &#123; switch (scrollState) &#123; case SCROLL_STATE_IDLE: // æ»‘åŠ¨åœæ­¢æ—¶ Log.d("Test", "SCROLL_STATE_IDLE"); break; case SCROLL_STATE_TOUCH_SCROLL: // æ­£åœ¨æ»šåŠ¨ Log.d("Test", "SCROLL_STATE_TOUCH_SCROLL"); break; case SCROLL_STATE_FLING: // æ‰‹æŒ‡æŠ›åŠ¨æ—¶ï¼Œå³æ‰‹æŒ‡ç”¨åŠ›æ»‘åŠ¨ // åœ¨ç¦»å¼€åListViewç”±äºæƒ¯æ€§ç»§ç»­æ»‘åŠ¨ Log.d("Test", "SCROLL_STATE_FLING"); break; &#125; &#125; @Override public void onScroll(AbsListView view, int firstVisibleItem, int visibleItemCount, int totalItemCount) &#123; // æ»šåŠ¨æ—¶ä¸€ç›´è°ƒç”¨ Log.d("Test", "onScroll"); &#125; OnScrollListenerä¸­æœ‰ä¸¤ä¸ªå›è°ƒæ–¹æ³•â€”â€”onScrollStateChanged()å’ŒonScroll()ã€‚ å…ˆæ¥çœ‹ç¬¬ä¸€ä¸ªæ–¹æ³•onScrollStateChanged()ï¼Œè¿™ä¸ªæ–¹æ³•æ ¹æ®å®ƒçš„å‚æ•°scrollStateæ¥å†³å®šå…¶å›è°ƒçš„æ¬¡æ•°ï¼ŒscrollStateæœ‰ä»¥ä¸‹ä¸‰ç§æ¨¡å¼ï¼š SCROLL_STATE_IDLEï¼šæ»šåŠ¨åœæ­¢æ—¶ã€‚ SCROLL_STATE_TOUCH_SCROLLï¼šæ­£åœ¨æ»šåŠ¨æ—¶ã€‚ SCROLL_STATE_FLINGï¼šæ‰‹æŒ‡æŠ›åŠ¨æ—¶ï¼Œå³æ‰‹æŒ‡ç”¨åŠ›æ»‘åŠ¨ï¼Œåœ¨ç¦»å¼€åListViewç”±äºæƒ¯æ€§ç»§ç»­æ»‘åŠ¨ å½“ç”¨æˆ·æ²¡æœ‰åšæ‰‹æŒ‡æŠ›åŠ¨çš„çŠ¶æ€æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•åªä¼šå›è°ƒ2æ¬¡ï¼Œå¦åˆ™ä¼šå›è°ƒä¸‰æ¬¡ï¼Œå·®åˆ«å°±æ˜¯æ‰‹æŒ‡æŠ›åŠ¨çš„è¿™ä¸ªçŠ¶æ€ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨è¿™ä¸ªæ–¹æ³•ä¸­é€šè¿‡ä¸åŒçš„çŠ¶æ€æ¥è®¾ç½®ä¸€äº›æ ‡å¿—Flagï¼Œæ¥åŒºåˆ†ä¸åŒçš„æ»‘åŠ¨çŠ¶æ€ï¼Œä¾›å…¶ä»–æ–¹æ³•å¤„ç†ã€‚ ä¸‹é¢å†æ¥çœ‹çœ‹onScroll()è¿™ä¸ªå›è°ƒæ–¹æ³•ï¼Œå®ƒåœ¨ListViewæ»šåŠ¨æ—¶ä¼šä¸€ç›´å›è°ƒï¼Œè€Œæ–¹æ³•ä¸­çš„åä¸‰ä¸ªintç±»å‹çš„å‚æ•°ï¼Œåˆ™éå¸¸ç²¾ç¡®åœ°æ˜¾ç¤ºäº†å½“å‰ListViewæ»šåŠ¨çš„çŠ¶æ€ï¼Œè¿™ä¸‰ä¸ªå‚æ•°å¦‚ä¸‹æ‰€ç¤ºã€‚ firstVisibleItemï¼šå½“å‰èƒ½çœ‹è§çš„ç¬¬ä¸€ä¸ªItemçš„ID(ä»0å¼€å§‹) visibleItemCountï¼šå½“å‰èƒ½çœ‹è§çš„Itemçš„æ€»æ•°ã€‚ totalItemCountï¼šæ•´ä¸ªListViewçš„Itemæ€»æ•°ã€‚ è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“å‰èƒ½çœ‹è§çš„Itemæ•°ï¼ŒåŒ…æ‹¬æ²¡æœ‰æ˜¾ç¤ºå®Œæ•´çš„Itemï¼Œå³æ˜¾ç¤ºä¸€å°åŠçš„Itemä¹ŸåŒ…æ‹¬åœ¨å†…äº†ã€‚é€šè¿‡è¿™å‡ ä¸ªå‚æ•°ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œä¸€äº›åˆ¤æ–­ï¼Œæ¯”å¦‚åˆ¤æ–­æ˜¯å¦æ»šåŠ¨åˆ°æœ€åä¸€è¡Œï¼Œå°±å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç è¿›è¡Œåˆ¤æ–­ï¼Œå½“å‰å¯è§†çš„å¦ä¸€ä¸ªItemçš„IDåŠ ä¸Šå½“å‰å¯è§†Itemçš„å’Œç­‰äºItemæ€»æ•°çš„æ—¶å€™ï¼Œå³æ»šåŠ¨åˆ°äº†æœ€åä¸€è¡Œã€‚ 123if (firstVisibleItem + visibleItemCount == totalItemCount &amp;&amp; totalItemCount &gt; 0) &#123; Log.d("Test", "æ»šåŠ¨åˆ°æœ€åä¸€è¡Œ");&#125; å†æ¯”å¦‚ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç æ¥åˆ¤æ–­æ»šåŠ¨çš„æ–¹å‘ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456if(firstVisibleItem &gt; lastVisibleItem)&#123; // ä¸Šæ»‘&#125;else if(firstVisibleItem &lt; lastVisibleItem)&#123; // ä¸‹æ»‘&#125;lastVisibleItem = firstVisibleItem; é€šè¿‡ä¸€ä¸ªæˆå‘˜å˜é‡lastVisibleItemæ¥è®°å½•ä¸Šæ¬¡ç¬¬ä¸€ä¸ªå¯è§†çš„Itemçš„IDå¹¶äºå½“å‰çš„å¯è§†Itemçš„IDè¿›è¡Œæ¯”è¾ƒï¼Œå³å¯çŸ¥é“å½“å‰æ»šåŠ¨çš„æ–¹å‘ã€‚ è¦ç†è§£æ•´ä¸ªOnScrollListenerï¼Œæœ€å¥½çš„æ–¹æ³•è¿˜æ˜¯åœ¨ä»£ç ä¸­æ·»åŠ Logï¼Œå¹¶æ‰“å°å‡ºçŠ¶æ€ä¿¡æ¯æ¥è¿›è¡Œåˆ†æå­¦ä¹ ã€‚åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œå·²ç»æ·»åŠ äº†ç›¸åº”çš„Logï¼Œå¯¹ç…§Logè¿›è¡Œåˆ†æï¼Œä¼šå¾ˆå¿«æŒæ¡OnScrollListenerçš„ç”¨æ³•ã€‚ å½“ç„¶ï¼ŒListViewä¹Ÿç»™æˆ‘ä»¬æä¾›äº†ä¸€äº›å°è£…çš„æ–¹æ³•æ¥è·å¾—å½“å‰å¯è§†çš„Itemçš„ä½ç½®ç­‰ä¿¡æ¯ã€‚ 1234// è·å–å¯è§†åŒºåŸŸå†…æœ€åä¸€ä¸ªItemçš„idmListView.getLastVisiblePosition();// è·å–å¯è§†åŒºåŸŸå†…ç¬¬ä¸€ä¸ªItemçš„idmListView.getFirstVisiblePosition(); é¡¹ç›®åœ°å€â†’ListViewSkill åŸæ–‡åœ°å€ListViewå¸¸ç”¨ä¼˜åŒ–æŠ€å·§(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>4.ListViewä½¿ç”¨æŠ€å·§</category>
      </categories>
      <tags>
        <tag>4.ListViewä½¿ç”¨æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[344. Reverse String]]></title>
    <url>%2F2016%2F07%2F22%2F344-reverse-string%2F</url>
    <content type="text"><![CDATA[Total Accepted: 71392Total Submissions: 188974Difficulty: Easy Write a function that takes a string as input and returns the string reversed. Example: Given s = â€œhelloâ€, return â€œollehâ€. jså­—ç¬¦ä¸²æ˜¯å¼•ç”¨ç±»å‹ï¼Œè¦è½¬ä¸ºå€¼ç±»å‹æ¥å¤„ç†ã€‚ JS:1234567891011121314/** * @param &#123;string&#125; s * @return &#123;string&#125; */var reverseString = function(s) &#123; var arr = s.split(''); var len = arr.length; for(var i = 0;i &lt; len / 2; i++)&#123; var temp = arr[i]; arr[i] = arr[len - 1 - i]; arr[len - i - 1] = temp; &#125; return arr.join('');&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>String</tag>
        <tag>Two Pointers</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ©ç”¨EditTextçš„RightDrawableåˆ‡æ¢å¯†ç æ˜¾ç¤º]]></title>
    <url>%2F2016%2F07%2F21%2Fuse-editText-rightDrawable-toggle-password%2F</url>
    <content type="text"><![CDATA[ç›¸ä¿¡å¤§å®¶éƒ½è§è¿‡å¦‚ä¸‹å›¾æ‰€ç¤ºçš„å¯†ç æ–‡æœ¬è¾“å…¥æ¡†ï¼Œç‚¹å‡»å³æ–¹çš„å›¾æ ‡ä¾¿å¯åˆ‡æ¢ä¸ºæ˜æ–‡æ˜¾ç¤ºå¯†ç ã€‚ åœ¨å®‰å“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å……åˆ†åˆ©ç”¨EditTextçš„RightDrawableæ¥å®ç°è¿™æ ·çš„æ•ˆæœï¼ŒåŒç†ä¸€é”®æ¸…é™¤ä¹Ÿå¯å®ç°ï¼Œå…¶æ•ˆæœå›¾å¦‚ä¸‹æ‰€ç¤ºã€‚ ä¸‹é¢å¯¹å…¶è¿›è¡Œç®€å•ä»‹ç»ï¼Œé¦–å…ˆæ˜¯å¸ƒå±€æ–‡ä»¶ï¼Œå¾ˆç®€å•ï¼Œå°±ä¸€ä¸ªImageViewå’Œä¸€ä¸ªè‡ªå®šä¹‰çš„EditTextï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚12345678910111213141516171819202122232425262728&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent" android:layout_height="match_parent" android:layout_marginLeft="8dp" android:layout_marginRight="8dp"&gt; &lt;ImageView android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_gravity="center_vertical" android:layout_marginRight="8dp" android:background="@drawable/locked"/&gt; &lt;blankj.edittextpassword.EditTextPassword android:id="@+id/etp_input" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_gravity="center_vertical" android:background="@drawable/input" android:drawableRight="@drawable/eye_grey" android:singleLine="true" android:textColor="#ff7000" android:textCursorDrawable="@null"/&gt; &lt;/LinearLayout&gt; å†æ˜¯å¯¹EditTextè¿›è¡Œæ‹“å±•ï¼Œé¦–å…ˆè¦è·å–åˆ°EditTextçš„RightDrawableï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12final int DRAWABLE_RIGHT = 2;drawableRight = getCompoundDrawables()[DRAWABLE_RIGHT]; ç„¶åå®šä¹‰å®ƒçš„å›è°ƒæ¥å£å’Œå¤–éƒ¨è®¿é—®æ¥å£å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456public interface DrawableRightListener &#123; void onDrawableRightClick();&#125;public void setDrawableRightListener(DrawableRightListener listener) &#123; this.mRightListener = listener;&#125; åœ¨onTouchEvent()ä¸­åˆ¤æ–­æ˜¯å¦ç‚¹å‡»åˆ°RightDrawableæ¥è®¾ç½®æ˜¯å¦å¯ç”¨å›è°ƒï¼Œåœ¨æ­¤è¿˜éœ€ä¿å­˜å…‰æ ‡ä½ç½®ï¼Œå†ç‚¹å‡»å®Œä¹‹åè¿›è¡Œå¤ä½ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314151617@Overridepublic boolean onTouchEvent(MotionEvent event) &#123; if (drawableRight != null &amp;&amp; mRightListener != null &amp;&amp; event.getAction() == MotionEvent.ACTION_UP) &#123; int x = (int) event.getX(); int y = (int) event.getY(); //åˆ¤æ–­ç‚¹å‡»æ˜¯å¦è½åœ¨rightDrawableä¸­ if (x &gt; getWidth() - getTotalPaddingRight() &amp;&amp; x &lt; getWidth() &amp;&amp; y &gt; 0 &amp;&amp; y &lt; getHeight()) &#123; //è·å–ç‚¹å‡»ä¹‹å‰å…‰æ ‡çš„ä½ç½® int pos = getSelectionStart(); //è®¾ç½®å›è°ƒ mRightListener.onDrawableRightClick(); //æ¢å¤ç‚¹å‡»ä¹‹å‰å…‰æ ‡çš„ä½ç½® this.setSelection(pos); &#125; &#125; return super.onTouchEvent(event);&#125; æœ€åå°±æ˜¯åœ¨ä½¿ç”¨çš„åœ°æ–¹è¿›è¡Œå®šä¹‰å›è°ƒå‡½æ•°çš„ä½œç”¨äº†ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314inputETP.setDrawableRightListener(this);//åŒæ ·åœ°å¯ä»¥åœ¨è¿™å¯ä»¥å®ç°å…¶ä»–çš„æ•ˆæœï¼Œæ¯”å¦‚ä¸€é”®æ¸…ç©º@Overridepublic void onDrawableRightClick() &#123; if (mIsShow) &#123; inputETP.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.eye_grey, 0) ; inputETP.setInputType(InputType.TYPE_CLASS_TEXT | EditorInfo.TYPE_TEXT_VARIATION_PASSWORD); &#125; else &#123; inputETP.setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.eye_orange, 0) ; inputETP.setInputType(InputType.TYPE_TEXT_VARIATION_VISIBLE_PASSWORD); &#125; mIsShow = !mIsShow ;&#125; é¡¹ç›®åœ°å€â†’EditTextPassword åŸæ–‡åœ°å€åˆ©ç”¨EditTextçš„RightDrawableåˆ‡æ¢å¯†ç æ˜¾ç¤º æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>è‡ªå®šä¹‰View</category>
      </categories>
      <tags>
        <tag>è‡ªå®šä¹‰View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äº‹ä»¶æ‹¦æˆªæœºåˆ¶åˆ†æ(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F07%2F21%2Fanalyse-event-interception-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ å½“Androidç³»ç»Ÿæ•è·åˆ°ç”¨æˆ·çš„å„ç§è¾“å…¥äº‹ä»¶åï¼Œå¦‚ä½•å‡†ç¡®åœ°ä¼ é€’ç»™çœŸæ­£éœ€è¦è¿™ä¸ªäº‹ä»¶çš„æ§ä»¶å‘¢ï¼ŸAndroidç»™æˆ‘ä»¬æä¾›äº†ä¸€æ•´å¥—å®Œå–„çš„äº‹ä»¶ä¼ é€’ã€å¤„ç†æœºåˆ¶ï¼Œæ¥å¸®åŠ©å¼€å‘è€…å®Œæˆå‡†ç¡®çš„äº‹ä»¶åˆ†é…ä¸å¤„ç†ã€‚ è¦äº†è§£è§¦æ‘¸äº‹ä»¶çš„æ‹¦æˆªæœºåˆ¶ï¼Œé¦–å…ˆè¦äº†è§£ä»€ä¹ˆæ˜¯è§¦æ‘¸äº‹ä»¶ï¼Ÿé¡¾åæ€ä¹‰ï¼Œè§¦æ‘¸äº‹ä»¶å°±æ˜¯æ•è·è§¦æ‘¸å±å¹•åäº§ç”Ÿçš„äº‹ä»¶ã€‚å½“ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®æ—¶ï¼Œé€šå¸¸å°±ä¼šäº§ç”Ÿä¸¤ä¸ªæˆ–è€…ä¸‰ä¸ªäº‹ä»¶â€”â€”æŒ‰é’®æŒ‰ä¸‹ï¼Œè¿™æ˜¯äº‹ä»¶ä¸€ï¼›å¦‚æœä¸å°å¿ƒæ»‘åŠ¨ä¸€ç‚¹ï¼Œè¿™å°±æ˜¯äº‹ä»¶äºŒï¼›å½“æ‰‹æŠ¬èµ·ï¼Œè¿™æ˜¯äº‹ä»¶ä¸‰ã€‚Androidä¸ºè§¦æ‘¸äº‹ä»¶å°è£…äº†ä¸€ä¸ªç±»â€”â€”MotionEventï¼Œå¦‚æœé‡å†™onTouchEvent()æ–¹æ³•ï¼Œé‚£å°±ä¼šå‘ç°ç»™æ–¹æ³•çš„å‚æ•°å°±æ˜¯è¿™æ ·ä¸€ä¸ªMotionEventã€‚å…¶å®ï¼Œåªè¦æ˜¯é‡å†™è§¦æ‘¸ç›¸å…³çš„æ–¹æ³•ï¼Œå‚æ•°ä¸€èˆ¬éƒ½å«æœ‰MotionEventï¼Œå¯è§å®ƒçš„é‡è¦æ€§ã€‚ åœ¨MotionEventé‡Œé¢å°è£…äº†ä¸å°‘å¥½ä¸œè¥¿ï¼Œæ¯”å¦‚è§¦æ‘¸ç‚¹çš„åæ ‡ï¼Œå¯ä»¥é€šè¿‡event.getX()æ–¹æ³•å’Œevent.getRawX()æ–¹æ³•å–å‡ºåæ ‡ç‚¹ï¼›å†æ¯”å¦‚è·å¾—ç‚¹å‡»çš„äº‹ä»¶ç±»å‹ï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„Action(å¦‚MotionEvent.ACTION_DOWNã€MotionEvent.ACTION_MOVE)æ¥è¿›è¡ŒåŒºåˆ†ï¼Œå¹¶å®ç°ä¸åŒçš„é€»è¾‘ã€‚ å¦‚æ­¤çœ‹æ¥ï¼Œè§¦æ‘¸äº‹ä»¶è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªåŠ¨ä½œç±»å‹åŠ åæ ‡è€Œå·²ã€‚ä½†æ˜¯æˆ‘ä»¬çŸ¥é“ï¼ŒAndroidçš„Viewç»“æ„æ˜¯æ ‘å½¢ç»“æ„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒViewå¯ä»¥æ”¾åœ¨ViewGroupé‡Œé¢ï¼Œé€šè¿‡ä¸åŒçš„ç»„åˆæ¥å®ç°ä¸åŒçš„æ ·å¼ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒViewæ”¾åœ¨ä¸€ä¸ªViewGroupé‡Œé¢ï¼Œè¿™ä¸ªViewGroupåˆæ”¾åœ¨å¦ä¸€ä¸ªViewGroupé‡Œé¢ï¼Œç”šè‡³è¿˜æœ‰å¯èƒ½ç»§ç»­åµŒå¥—ï¼Œä¸€å±‚å±‚åœ°å èµ·æ¥ã€‚å¯æˆ‘ä»¬çš„è§¦æ‘¸äº‹ä»¶å°±ä¸€ä¸ªï¼Œåˆ°åº•è¯¥åˆ†ç»™è°å‘¢ï¼ŸåŒä¸€ä¸ªäº‹ä»¶ï¼Œå­Viewå’Œçˆ¶ViewGroupéƒ½æœ‰å¯èƒ½æƒ³è¦è¿›è¡Œå¤„ç†ã€‚å› æ­¤ï¼Œè¿™å°±äº§ç”Ÿäº†â€œäº‹ä»¶æ‹¦æˆªâ€è¿™ä¸ªâ€œéœ¸æ°”â€çš„ç§°å‘¼ã€‚ å½“ç„¶ï¼Œäº‹ä»¶æ‹¦æˆªå¯ä»¥å¾ˆå¤æ‚ï¼Œä¹Ÿå¯ä»¥å¾ˆç®€å•ã€‚ä½†æ˜¯åˆå­¦è€…å´ç»å¸¸â€œå¡â€åœ¨è¿™é‡Œä¸çŸ¥é“å¦‚ä½•ç»§ç»­è¿›è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸æƒ³é€šè¿‡è¿‡å¤šçš„æºä»£ç è®©å¤§å®¶ä¸çŸ¥æ‰€æªã€‚æˆ‘ä»¬é€šè¿‡æœ€ç›´è§‚çš„Logä¿¡æ¯ï¼Œè®©å¤§å®¶å…ˆæœ‰ä¸€ä¸ªå¤§æ¦‚çš„äº†è§£ï¼ŒçŸ¥é“äº‹ä»¶æ‹¦æˆªçš„æœ¬è´¨ï¼Œç„¶åå¤§å®¶åœ¨ç»“åˆæºä»£ç å­¦ä¹ æ—¶ï¼Œå°±å¯ä»¥æœ‰æ–¹å‘ã€æœ‰ç›®çš„æ€§å»ç†è§£äº†ã€‚ é¦–å…ˆï¼Œè¯·æƒ³è±¡ä¸€ä¸‹ç”Ÿæ´»ä¸­éå¸¸å¸¸è§çš„åœºæ™¯ï¼šå‡è®¾ä½ æ‰€åœ¨çš„å…¬å¸ï¼Œæœ‰ä¸€ä¸ªæ€»ç»ç†ï¼Œçº§åˆ«æœ€é«˜ï¼›ä»–ä¸‹é¢æœ‰ä¸€ä¸ªéƒ¨é•¿ï¼Œçº§åˆ«æ¬¡ä¹‹ï¼›æœ€ä½å±‚ï¼Œå°±æ˜¯å¹²æ´»çš„ä½ ï¼Œæ²¡æœ‰çº§åˆ«ã€‚ç°åœ¨è‘£äº‹ä¼šäº¤ç»™æ€»ç»ç†ä¸€é¡¹ä»»åŠ¡ï¼Œæ€»ç»ç†å°†è¿™é¡¹ä»»åŠ¡å¸ƒç½®ç»™äº†éƒ¨é•¿ï¼Œéƒ¨é•¿åˆæŠŠä»»åŠ¡å®‰æ’ç»™äº†ä½ ã€‚è€Œå½“ä½ å¥½ä¸å®¹æ˜“å¹²å®Œæ´»äº†ï¼Œä½ å°±æŠŠä»»åŠ¡äº¤ç»™éƒ¨é•¿ï¼Œéƒ¨é•¿è§‰å¾—ä»»åŠ¡å®Œæˆå¾—ä¸é”™ï¼Œäºæ˜¯å°±ç­¾äº†ä»–çš„åå­—äº¤ç»™æ€»ç»ç†ï¼Œæ€»ç»ç†çœ‹äº†ä¹Ÿè§‰å¾—ä¸é”™ï¼Œå°±ä¸šç­¾äº†åå­—äº¤ç»™è‘£äº‹ä¼šã€‚è¿™æ ·ï¼Œä¸€ä¸ªä»»åŠ¡å°±é¡ºåˆ©å®Œæˆäº†ã€‚å¦‚æœå¤§å®¶èƒ½éå¸¸æ¸…æ¥šåœ°ç†è§£è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œé‚£ä¹ˆå¯¹äºäº‹ä»¶æ‹¦æˆªæœºåˆ¶ï¼Œä½ å°±è¶…è¿‡äº†40%çš„å¼€å‘è€…äº†ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å†æ¥è¶…è¶Šå‰©ä¸‹çš„å¼€å‘è€…ã€‚ä¸ºäº†èƒ½è¿‡æ–¹ä¾¿åœ°äº†è§£æ•´ä¸ªäº‹ä»¶çš„æµç¨‹ï¼Œæˆ‘ä»¬è®¾è®¡äº†è¿™æ ·ä¸€ä¸ªå®ä¾‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ä¸€ä¸ªæ€»ç»ç†â€”â€”MyViewGroupAï¼Œæœ€å¤–å±‚çš„ViewGroupï¼ˆçº¢è‰²ï¼‰ã€‚ ä¸€ä¸ªéƒ¨é•¿â€”â€”MyViewGroupBï¼Œä¸­é—´çš„ViewGroupï¼ˆç»¿è‰²ï¼‰ã€‚ ä¸€ä¸ªå¹²æ´»çš„ä½ â€”â€”MyViewï¼Œåœ¨æœ€åº•å±‚ï¼ˆè“è‰²ï¼‰ã€‚ æœ¬å®ä¾‹çš„æ•´ä¸ªå¸ƒå±€ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ä»£ç éå¸¸ç®€å•ï¼Œåªæ˜¯é‡å†™äº†äº‹ä»¶æ‹¦æˆªå’Œå¤„ç†çš„å‡ ä¸ªæ–¹æ³•ï¼Œå¹¶ç»™å®ƒåŠ ä¸Šäº†ä¸€äº›Logè€Œå·²ã€‚ å¯¹äºViewGroupæ¥è¯´ï¼Œé‡å†™äº†å¦‚ä¸‹æ‰€ç¤ºçš„ä¸‰ä¸ªæ–¹æ³•ã€‚ 123456789101112131415@Overridepublic boolean dispatchTouchEvent(MotionEvent ev) &#123; Log.d("blankj", "ViewGroupA dispatchTouchEvent" + ev.getAction()); return super.dispatchTouchEvent(ev);&#125;@Overridepublic boolean onInterceptTouchEvent(MotionEvent ev) &#123; Log.d("blankj", "ViewGroupA onInterceptTouchEvent" + ev.getAction()); return super.onInterceptTouchEvent(ev);&#125;@Overridepublic boolean onTouchEvent(MotionEvent event) &#123; Log.d("blankj", "ViewGroupA onTouchEvent" + event.getAction()); return super.onTouchEvent(event);&#125; è€Œå¯¹äºViewæ¥è¯´ï¼Œé‡å†™äº†å¦‚ä¸‹æ‰€ç¤ºçš„ä¸¤ä¸ªæ–¹æ³•ã€‚ 12345678910@Overridepublic boolean onTouchEvent(MotionEvent event) &#123; Log.d("blankj", "View onTouchEvent" + event.getAction()); return super.onTouchEvent(event);&#125;@Overridepublic boolean dispatchTouchEvent(MotionEvent event) &#123; Log.d("blankj", "View dispatchTouchEvent" + event.getAction()); return super.dispatchTouchEvent(event);&#125; ä»ä¸Šé¢çš„ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒViewGroupçº§åˆ«æ¯”è¾ƒé«˜ï¼Œæ¯”Viewå¤šäº†ä¸€ä¸ªæ–¹æ³•â€”â€”onInterceptTouchEvent()ã€‚è¿™ä¸ªæ–¹æ³•çœ‹åå­—å°±èƒ½çŒœåˆ°æ˜¯äº‹ä»¶æ‹¦æˆªçš„æ ¸å¿ƒæ–¹æ³•ã€‚æˆ‘ä»¬å…ˆä¸ä¿®æ”¹ä»»ä½•è¿”å›å€¼ï¼Œåªæ˜¯ç‚¹å‡»ä¸€ä¸‹Viewï¼Œç„¶åçœ‹Logä¼šæ€æ ·è®°å½•æˆ‘ä»¬çš„æ“ä½œå’Œç¨‹åºå“åº”ã€‚ç‚¹å‡»Viewåçš„Logå¦‚ä¸‹æ‰€ç¤ºã€‚ D/blankj: ViewGroupA dispatchTouchEvent0D/blankj: ViewGroupA onInterceptTouchEvent0D/blankj: ViewGroupB dispatchTouchEvent0D/blankj: ViewGroupB onInterceptTouchEvent0D/blankj: View dispatchTouchEvent0D/blankj: View onTouchEvent0D/blankj: ViewGroupB onTouchEvent0D/blankj: ViewGroupA onTouchEvent0 å¯ä»¥çœ‹è§ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œæ—¶é—´çš„ä¼ é€’é¡ºåºæ˜¯ï¼š æ€»ç»ç†(MyViewGroupA)â†’éƒ¨é•¿(MyViewGroupB)â†’ä½ (View)ã€‚äº‹ä»¶ä¼ é€’çš„æ—¶å€™ï¼Œå…ˆæ‰§è¡ŒdispatchTouchEvent()æ–¹æ³•ï¼Œå†æ‰§è¡ŒonInterceptTouchEvent()æ–¹æ³•ã€‚ äº‹ä»¶çš„å¤„ç†é¡ºåºæ˜¯ï¼š ä½ (View)â†’éƒ¨é•¿(MyViewGroupB)â†’æ€»ç»ç†(MyViewGroupA)ã€‚äº‹ä»¶å¤„ç†éƒ½æ˜¯æ‰§è¡ŒonTouchEvent()æ–¹æ³•ã€‚ äº‹ä»¶ä¼ é€’çš„è¿”å›å€¼éå¸¸å®¹æ˜“ç†è§£ï¼štrueï¼Œæ‹¦æˆªï¼Œä¸ç»§ç»­ï¼›falseï¼Œä¸æ‹¦æˆªï¼Œç»§ç»­æµç¨‹ã€‚ äº‹ä»¶å¤„ç†çš„è¿”å›å€¼ä¹Ÿç±»ä¼¼ï¼štrueï¼Œå¤„ç†äº†ï¼Œä¸ç”¨å®¡æ ¸äº†ï¼›falseï¼Œç»™ä¸Šçº§å¤„ç†ã€‚ åˆå§‹æƒ…å†µä¸‹ï¼Œè¿”å›å€¼éƒ½æ˜¯falseã€‚ è¿™é‡Œä¸ºäº†èƒ½å¤Ÿæ–¹ä¾¿å¤§å®¶ç†è§£äº‹ä»¶æ‹¦æˆªçš„è¿‡ç¨‹ï¼Œåœ¨äº‹ä»¶ä¼ é€’ä¸­ï¼Œæˆ‘ä»¬åªå…³å¿ƒonInterceptTouchEvent()ï¼Œè€ŒdispatchTouchEvent()æ–¹æ³•è™½ç„¶æ˜¯äº‹ä»¶åˆ†å‘çš„ç¬¬ä¸€æ­¥ï¼Œä½†ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸å¤ªä¼šå»æ”¹å†™è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥æš‚æ—¶ä¸ç®¡è¿™ä¸ªæ–¹æ³•ã€‚å¯ä»¥æŠŠä¸Šé¢çš„æ•´ä¸ªäº‹ä»¶è¿‡ç¨‹æ•´ç†æˆå¦‚ä¸‹å›¾æ‰€ç¤ºçš„ä¸€å¼ å›¾ã€‚ ç›¸ä¿¡å¤§å®¶åªè¦æŠŠMyViewæƒ³æˆè‡ªå·±ï¼Œå°±èƒ½å……åˆ†ç†è§£äº‹ä»¶åˆ†å‘ã€æ‹¦æˆªã€å¤„ç†çš„æ•´ä¸ªæµç¨‹äº†ã€‚ ä¸‹é¢æˆ‘ä»¬ç¨å¾®æ”¹åŠ¨ä¸€ä¸‹ï¼Œå‡è®¾æ€»ç»ç†(MyViewGroupA)å‘ç°è¿™ä¸ªä»»åŠ¡å¤ªç®€å•äº†ï¼Œè§‰å¾—è‡ªå·±å®Œæˆå°±å¯ä»¥äº†ï¼Œå®Œå…¨æ²¡å¿…è¦å†æ‰¾ä¸‹å±ã€‚å› æ­¤æ—¶é—´å°±è¢«æ€»ç»ç†(MyViewGroupA)ä½¿ç”¨onInterceptTouchEvent()æ–¹æ³•æŠŠäº‹ä»¶ç»™æ‹¦æˆªäº†ï¼Œå³è®©MyViewGroupAçš„onInterceptTouchEvent()æ–¹æ³•è¿”å›trueï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹Logã€‚ D/blankj: ViewGroupA dispatchTouchEvent0D/blankj: ViewGroupA onInterceptTouchEvent0D/blankj: ViewGroupA onTouchEvent0 è·Ÿæˆ‘ä»¬è®¾æƒ³çš„ä¸€æ ·ï¼Œæ€»ç»ç†(MyViewGroupA)æŠŠæ‰€æœ‰äº‹æƒ…éƒ½å¹²äº†ï¼Œæ²¡åé¢äººçš„äº‹äº†ã€‚åŒç†ï¼Œæˆ‘ä»¬è®©éƒ¨é•¿(MyViewGroupB)ä¹Ÿæ¥å½“ä¸€æ¬¡å¥½äººï¼Œå³è®©éƒ¨é•¿(MyViewGroupB)ä½¿ç”¨onInterceptTouchEvent()æ–¹æ³•è¿”å›trueï¼ŒæŠŠäº‹ä»¶æ‹¦æˆªä¸‹æ¥ï¼ŒLogå°±ä¼šä½¿ä»¥ä¸‹è¿™æ ·ã€‚ D/blankj: ViewGroupA dispatchTouchEvent0D/blankj: ViewGroupA onInterceptTouchEvent0D/blankj: ViewGroupB dispatchTouchEvent0D/blankj: ViewGroupB onInterceptTouchEvent0D/blankj: ViewGroupB onTouchEvent0D/blankj: ViewGroupA onTouchEvent0 å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ¬¡éƒ¨é•¿(MyViewGroupB)å½“äº†å¥½äººï¼Œä½ (MyView)å°±ä¸ç”¨å¹²æ´»äº†ã€‚ é‚£ä¹ˆè¿™ä¸¤ç§æƒ…å†µï¼Œä¹Ÿå¯ä»¥æ•´ç†æˆç±»ä¼¼å¦‚ä¸Šå›¾æ‰€ç¤ºçš„å›¾ã€‚ æ€»ç»ç†(MyViewGroupA)æ‹¦æˆªäº‹ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ éƒ¨é•¿(MyViewGroupB)æ‹¦æˆªäº‹ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å¯¹äº‹ä»¶çš„åˆ†å‘ã€æ‹¦æˆªï¼Œç°åœ¨å¤§å®¶åº”è¯¥æ¯”è¾ƒæ¸…æ¥šäº†ï¼Œä¸‹é¢æˆ‘ä»¬å†çœ‹çœ‹äº‹ä»¶çš„å¤„ç†ã€‚å…ˆæ¥çœ‹çœ‹åº•å±‚äººæ°‘â€”â€”ä½ (MyView)ã€‚æœ€å¼€å§‹çš„æ—¶å€™è®²äº†ï¼Œå½“ä½ å¤„ç†å®Œä»»åŠ¡åä¼šå‘ä¸Šçº§æŠ¥å‘Šï¼Œéœ€è¦ä¸Šçº§çš„ç¡®è®¤ï¼Œæ‰€ä»¥ä½ çš„äº‹ä»¶å¤„ç†è¿”å›falseã€‚é‚£ä¹ˆä½ çªç„¶æœ‰ä¸€å¤©å—ä¸äº†è€æ¿çš„å‹è¿«äº†ï¼Œç½¢å·¥ä¸å¹²äº†ï¼Œé‚£ä¹ˆä½ çš„ä»»åŠ¡å°±æ²¡äººåšäº†ï¼Œä¹Ÿå°±ä¸ç”¨æŠ¥å‘Šä¸Šæœºäº†ï¼Œæ‰€ä»¥å°±ç›´æ¥è¿”å›trueã€‚ç°åœ¨å†æ¥çœ‹çœ‹Logï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ D/blankj: ViewGroupA dispatchTouchEvent0D/blankj: ViewGroupA onInterceptTouchEvent0D/blankj: ViewGroupB dispatchTouchEvent0D/blankj: ViewGroupB onInterceptTouchEvent0D/blankj: View dispatchTouchEvent0D/blankj: View onTouchEvent0 å¯ä»¥çœ‹è§ï¼Œäº‹ä»¶ä¼ é€’è·Ÿä»¥å‰ä¸€æ ·ï¼Œä½†æ˜¯äº‹ä»¶å¤„ç†ï¼Œåˆ°ä½ (MyView)è¿™å°±ç»“æŸäº†ï¼Œå› ä¸ºä½ è¿”å›trueï¼Œè¡¨ç¤ºä¸ç”¨å‘ä¸Šçº§æ±‡æŠ¥äº†ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬åŒæ ·æ¥æ•´ç†ä¸‹å…³ç³»å›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ ä½ (MyView)ç»ˆäºç¿»èº«åšäº†ä¸»ï¼Œå†³å®šäº†è‡ªå·±çš„å‘½è¿ã€‚ä½†æ˜¯ï¼Œå¦‚æœéƒ¨é•¿(MyViewGroupB)çœ‹åˆ°äº†ä½ çš„æŠ¥å‘Šï¼Œè§‰å¾—å¤ªä¸¢äººï¼Œä¸æ•¢ç»™ç»ç†çœ‹ï¼Œæ‰€ä»¥ä»–å°±å·å·åœ°è¿”å›trueï¼Œæ•´ä¸ªäº‹ä»¶ä¹Ÿå°±åˆ°æ­¤ä¸ºæ­¢äº†ï¼Œå³éƒ¨é•¿(MyViewGroupB)å°†è‡ªå·±çš„onTouchEventè¿”å›trueï¼ŒLogå¦‚ä¸‹æ‰€ç¤ºã€‚ D/blankj: ViewGroupA dispatchTouchEvent0D/blankj: ViewGroupA onInterceptTouchEvent0D/blankj: ViewGroupB dispatchTouchEvent0D/blankj: ViewGroupB onInterceptTouchEvent0D/blankj: View dispatchTouchEvent0D/blankj: View onTouchEvent0D/blankj: ViewGroupB onTouchEvent0 ä»–ä»¬ä¹‹é—´çš„å…³ç³»å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ é€šè¿‡å¯¹å‰é¢å‡ ç§æƒ…å†µçš„åˆ†æï¼Œç›¸ä¿¡å¤§å®¶èƒ½æ¯”è¾ƒå®¹æ˜“åœ°äº†è§£äº‹ä»¶çš„åˆ†å‘ã€æ‹¦æˆªã€å¤„ç†äº‹ä»¶çš„æµç¨‹äº†ã€‚åœ¨åé¢çš„å­¦ä¹ ä¸­ï¼Œç»“åˆæºç ï¼Œä½ ä¼šæ›´åŠ æ·±å…¥åœ°ç†è§£ï¼Œä¸ºä»€ä¹ˆæµç¨‹ä¼šæ˜¯è¿™æ ·çš„ï¼Ÿåˆå­¦è€…åœ¨å­¦ä¹ çš„æ—¶å€™ï¼Œæœ€å¥½å…ˆå¯¹æµç¨‹æœ‰ä¸€ä¸ªå¤§è‡´çš„è®¤è¯†ä¹‹åï¼Œå†å»æ¥è§¦æºç ï¼Œè¿™æ ·å°±ä¸ä¼šä¸€å¤´é›¾æ°´ï¼Œæ‘¸ä¸ç€å¤´è„‘ï¼Œä»è€Œä¸§å¤±å­¦ä¹ çš„å…´è¶£ã€‚ é¡¹ç›®åœ°å€â†’EventIntercept åŸæ–‡åœ°å€äº‹ä»¶æ‹¦æˆªæœºåˆ¶åˆ†æ(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</category>
      </categories>
      <tags>
        <tag>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰ViewGroup(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F07%2F20%2Fcustom-viewgroup-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ å‰é¢æˆ‘ä»¬åˆ†æäº†å¦‚ä½•è‡ªå®šä¹‰Viewï¼Œä¸‹é¢æˆ‘ä»¬ç»§ç»­æ¥åˆ†æå¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰ViewGroupã€‚ViewGroupå­˜åœ¨çš„ç›®çš„å°±æ˜¯ä¸ºäº†å¯¹å…¶å­Viewè¿›è¡Œç®¡ç†ï¼Œä¸ºå…¶å­Viewæ·»åŠ æ˜¾ç¤ºã€å“åº”çš„è§„åˆ™ã€‚å› æ­¤ï¼Œè‡ªå®šä¹‰ViewGroupé€šå¸¸éœ€è¦é‡å†™onMeasure()æ–¹æ³•æ¥å¯¹å­Viewè¿›è¡Œæµ‹é‡ï¼Œé‡å†™onLayout()æ–¹æ³•æ¥ç¡®å®šå­Viewçš„ä½ç½®ï¼Œé‡å†™onTouchEvent()æ–¹æ³•å¢åŠ å“åº”äº‹ä»¶ã€‚ä¸‹é¢é€šè¿‡ä¸€ä¸ªå®ä¾‹ï¼Œæ¥çœ‹çœ‹å¦‚ä½•è‡ªå®šä¹‰ViewGroupã€‚ æœ¬ä¾‹å‡†å¤‡å®ç°ä¸€ä¸ªç±»ä¼¼AndroidåŸç”Ÿæ§ä»¶ScrollViewçš„è‡ªå®šä¹‰ViewGroupï¼Œè‡ªå®šä¹‰ViewGroupå¯ä»¥å®ç°ScrollViewæ‰€å…·æœ‰çš„ä¸Šä¸‹æ»‘åŠ¨åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨æ»‘åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå¢åŠ ä¸€ä¸ªé»æ€§çš„æ•ˆæœï¼Œå³å½“ä¸€ä¸ªå­Viewå‘ä¸Šæ»‘åŠ¨å¤§äºä¸€å®šçš„è·ç¦»åï¼Œæ¾å¼€æ‰‹æŒ‡ï¼Œå®ƒå°†è‡ªåŠ¨æ´»åŠ¨åˆ°å¼€å§‹çš„ä½ç½®ï¼Œç›¸ä¿¡å¤§å®¶åœ¨å¾ˆå¤šAppåº”ç”¨ä¸­éƒ½çœ‹è§è¿‡è¿™æ ·çš„æ•ˆæœã€‚ é¦–å…ˆè®©è‡ªå®šä¹‰ViewGroupèƒ½å¤Ÿå®ç°ç±»ä¼¼ScrollViewçš„åŠŸèƒ½ã€‚ å½“ç„¶ï¼Œåœ¨ViewGroupèƒ½å¤Ÿæ»šåŠ¨ä¹‹å‰ï¼Œéœ€è¦å…ˆæ”¾ç½®å¥½å®ƒçš„å­Viewã€‚ä½¿ç”¨éå†çš„æ–¹å¼æ¥é€šçŸ¥å­Viewå¯¹è‡ªèº«è¿›è¡Œæµ‹é‡ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789@Overrideprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123; super.onMeasure(widthMeasureSpec, heightMeasureSpec); int count = getChildCount(); for (int i = 0; i &lt; count; ++i) &#123; View childView = getChildAt(i); measureChild(childView, widthMeasureSpec, heightMeasureSpec); &#125;&#125; æ¥ä¸‹æ¥ï¼Œå°±è¦å¯¹å­Viewè¿›è¡Œæ”¾ç½®ä½ç½®çš„è®¾å®šã€‚è®©æ¯ä¸ªå­Viewéƒ½æ˜¾ç¤ºå®Œæ•´çš„ä¸€å±ï¼Œè¿™æ ·åœ¨æ»‘åŠ¨çš„æ—¶å€™ï¼Œå¯ä»¥æ¯”è¾ƒå¥½åœ°å®ç°åé¢çš„æ•ˆæœã€‚åœ¨æ”¾ç½®å­Viewå‰ï¼Œéœ€è¦ç¡®å®šæ•´ä¸ªViewGroupçš„é«˜åº¦ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œç”±äºè®©æ¯ä¸ªå­Viewå ä¸€å±çš„é«˜åº¦ï¼Œå› æ­¤æ•´ä¸ªViewGroupçš„é«˜åº¦å³å­Viewçš„ä¸ªæ•°ä¹˜ä»¥å±å¹•çš„é«˜åº¦ï¼Œæˆ‘ä»¬é€šè¿‡å¦‚ä¸‹ä»£ç æ¥ç¡®å®šæ•´ä¸ªViewGroupçš„é«˜åº¦ã€‚ 1234// è®¾ç½®ViewGroupçš„é«˜åº¦MarginLayoutParams mlp = (MarginLayoutParams) getLayoutParams();mlp.height = mScreenHeight * childCount;setLayoutParams(mlp); åœ¨è·å–äº†æ•´ä¸ªViewGroupçš„é«˜åº¦ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡éå†æ¥è®¾å®šæ¯ä¸ªå­Viewéœ€è¦æ”¾ç½®çš„ä½ç½®äº†ï¼Œç›´æ¥é€šè¿‡è°ƒç”¨å­Viewçš„layout()æ–¹æ³•ï¼Œå¹¶å°†å…·ä½“çš„ä½ç½®ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»å³å¯ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314@Overrideprotected void onLayout(boolean changed, int l, int t, int r, int b) &#123; int childCount = getChildCount(); // è®¾ç½®ViewGroupçš„é«˜åº¦ MarginLayoutParams mlp = (MarginLayoutParams) getLayoutParams(); mlp.height = mScreenHeight * childCount; setLayoutParams(mlp); for (int i = 0; i &lt; childCount; ++i) &#123; View child = getChildAt(i); if (child.getVisibility() != View.GONE) &#123; child.layout(l, i * mScreenHeight, r, (i + 1) * mScreenHeight); &#125; &#125;&#125; åœ¨ä»£ç ä¸­ä¸»è¦æ˜¯å»ä¿®æ”¹æ¯ä¸ªå­Viewçš„topå’Œbottomè¿™ä¸¤ä¸ªå±æ€§ï¼Œè®©å®ƒä»¬èƒ½ä¾æ¬¡æ’åˆ—ä¸‹æ¥ã€‚ é€šè¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå°±å¯ä»¥å°†å­Viewæ”¾ç½®åˆ°ViewGroupä¸­äº†ã€‚ä½†æ­¤æ—¶çš„ViewGroupè¿˜ä¸èƒ½å“åº”ä»»ä½•è§¦æ§äº‹ä»¶ï¼Œè‡ªç„¶ä¹Ÿä¸èƒ½æ»‘åŠ¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é‡å†™onTouchEvent()æ–¹æ³•ï¼Œä¸ºViewGroupæ·»åŠ å“åº”äº‹ä»¶ã€‚åœ¨ViewGroupä¸­æ·»åŠ æ»‘åŠ¨äº‹ä»¶ï¼Œé€šå¸¸å¯ä»¥ä½¿ç”¨scrollBy()æ–¹æ³•æ¥è¾…åŠ©æ»‘åŠ¨ã€‚åœ¨onTouchEvent()çš„ACTION_MOVEäº‹ä»¶ä¸­ï¼Œåªè¦ä½¿ç”¨scrollBy(0,dy)æ–¹æ³•ï¼Œè®©æ‰‹æŒ‡æ»‘åŠ¨çš„æ—¶å€™è®©ViewGroupä¸­çš„æ‰€æœ‰å­Viewä¹Ÿè·Ÿç€æ»šåŠ¨dyå³å¯ï¼Œè®¡ç®—dyçš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå¦‚ä¸‹ä»£ç å°±æä¾›äº†ä¸€ç§æ€è·¯ã€‚ 1234567891011121314case MotionEvent.ACTION_DOWN: mLastY = y; break;case MotionEvent.ACTION_MOVE: if (!mScroller.isFinished()) &#123; mScroller.abortAnimation(); &#125; int dy = mLastY - y; if (getScrollY() &lt; 0 || getScrollY() &gt; getHeight() - mScreenHeight) &#123; dy = 0; &#125; scrollBy(0, dy); mLastY = y; break; æŒ‰å¦‚ä¸Šæ–¹æ³•æ“ä½œå°±å¯ä»¥å®ç°ç±»ä¼¼ScrollViewçš„æ»šåŠ¨æ•ˆæœäº†ã€‚å½“ç„¶ï¼Œç³»ç»Ÿçš„åŸç”ŸScrollViewæœ‰æ›´å¤§çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ»‘åŠ¨çš„æƒ¯æ€§æ•ˆæœç­‰ï¼Œè¿™äº›åŠŸèƒ½å¯ä»¥åœ¨åé¢æ…¢æ…¢æ·»åŠ ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæ§ä»¶çš„è¿­ä»£è¿‡ç¨‹ã€‚ æœ€åï¼Œæˆ‘ä»¬æ¥å®ç°è¿™ä¸ªè‡ªå®šä¹‰ViewGroupçš„é»æ€§æ•ˆæœã€‚è¦å®ç°æ‰‹æŒ‡ç¦»å¼€åViewGroupçš„é»æ€§æ•ˆæœï¼Œæˆ‘ä»¬å¾ˆè‡ªç„¶åœ°æƒ³åˆ°onTouchEvent()çš„ACTION_UPäº‹ä»¶å’ŒScrollerç±»ã€‚åœ¨ACTION_UPäº‹ä»¶ä¸­åˆ¤æ–­æ‰‹æŒ‡æ»‘åŠ¨çš„è·ç¦»ï¼Œå¦‚æœè¶…è¿‡ä¸€å®šè·ç¦»ï¼Œåˆ™ä½¿ç”¨Scrollerç±»æ¥å¹³æ»‘ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå­Viewï¼›å¦‚æœå°äºä¸€å®šè·ç¦»ï¼Œåˆ™å›æ»šåˆ°åŸæ¥çš„ä½ç½®ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112131415161718192021222324252627282930case MotionEvent.ACTION_DOWN: // è®°å½•è§¦æ‘¸èµ·ç‚¹ mStart = getScrollY(); break;case MotionEvent.ACTION_UP: // è®°å½•è§¦æ‘¸ç»ˆç‚¹ mEnd = getScrollY(); int dScrollY = mEnd - mStart; if (dScrollY &gt; 0) &#123; if (dScrollY &lt; mScreenHeight / 3) &#123; mScroller.startScroll( 0, getScrollY(), 0, -dScrollY); &#125; else &#123; mScroller.startScroll( 0, getScrollY(), 0, mScreenHeight - dScrollY); &#125; &#125; else &#123; if (-dScrollY &lt; mScreenHeight / 3) &#123; mScroller.startScroll( 0, getScrollY(), 0, -dScrollY); &#125; else &#123; mScroller.startScroll( 0, getScrollY(), 0, -mScreenHeight - dScrollY); &#125; &#125; break; é€šè¿‡ä»¥ä¸Šæ“ä½œï¼Œæˆ‘ä»¬å°±èƒ½åœ¨onTouchEvent()ä¸­å®ç°æ»šåŠ¨çš„é€»è¾‘å’Œâ€œé»æ€§â€çš„é€»è¾‘ï¼Œæ•´ä¸ªonTouchEvent()çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950@Overridepublic boolean onTouchEvent(MotionEvent event) &#123; int y = (int) event.getY(); switch (event.getAction()) &#123; case MotionEvent.ACTION_DOWN: // è®°å½•è§¦æ‘¸èµ·ç‚¹ mStart = getScrollY(); mLastY = y; break; case MotionEvent.ACTION_MOVE: if (!mScroller.isFinished()) &#123; mScroller.abortAnimation(); &#125; int dy = mLastY - y; if (getScrollY() &lt; 0 || getScrollY() &gt; getHeight() - mScreenHeight) &#123; dy = 0; &#125; scrollBy(0, dy); mLastY = y; break; case MotionEvent.ACTION_UP: // è®°å½•è§¦æ‘¸ç»ˆç‚¹ mEnd = getScrollY(); int dScrollY = mEnd - mStart; if (dScrollY &gt; 0) &#123; if (dScrollY &lt; mScreenHeight / 3) &#123; mScroller.startScroll( 0, getScrollY(), 0, -dScrollY); &#125; else &#123; mScroller.startScroll( 0, getScrollY(), 0, mScreenHeight - dScrollY); &#125; &#125; else &#123; if (-dScrollY &lt; mScreenHeight / 3) &#123; mScroller.startScroll( 0, getScrollY(), 0, -dScrollY); &#125; else &#123; mScroller.startScroll( 0, getScrollY(), 0, -mScreenHeight - dScrollY); &#125; &#125; break; &#125; postInvalidate(); return true;&#125; å½“ç„¶ï¼Œæœ€åä¸è¦å¿˜è®°åŠ ä¸ŠcomputeScroll()çš„ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678@Overridepublic void computeScroll() &#123; super.computeScroll(); if(mScroller.computeScrollOffset())&#123; scrollTo(0,mScroller.getCurrY()); postInvalidate(); &#125;&#125; ç¨‹åºè¿è¡Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ é¡¹ç›®åœ°å€â†’CustomViewGroup åŸæ–‡åœ°å€è‡ªå®šä¹‰ViewGroup(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</category>
      </categories>
      <tags>
        <tag>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰View(ä¸‰)(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F07%2F20%2Fcustom-view3-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ ä¸Šä¸€ç¯‡è‡ªå®šä¹‰View(äºŒ)(Androidç¾¤è‹±ä¼ )ä¸­è¯´çš„æ˜¯åˆ›å»ºå¤åˆæ§ä»¶ï¼Œè¿™ç¯‡ä»‹ç»ç¬¬ä¸‰ç§è‡ªå®šä¹‰Viewæ–¹æ³•ï¼Œé‡å†™Viewæ¥å®ç°å…¨æ–°çš„æ§ä»¶ã€‚ é‡å†™Viewæ¥å®ç°å…¨æ–°çš„æ§ä»¶ å½“Androidç³»ç»ŸåŸç”Ÿçš„æ§ä»¶æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®Œå…¨åˆ›å»ºä¸€ä¸ªæ–°çš„è‡ªå®šä¹‰Viewæ¥å®ç°éœ€è¦çš„åŠŸèƒ½ã€‚åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰Viewï¼Œéš¾ç‚¹åœ¨äºç»˜åˆ¶æ§ä»¶å’Œå®ç°äº¤äº’ï¼Œè¿™ä¹Ÿæ˜¯è¯„ä»·ä¸€ä¸ªè‡ªå®šä¹‰Viewä¼˜åŠ£çš„æ ‡å‡†ä¹‹ä¸€ã€‚é€šå¸¸éœ€è¦ç»§æ‰¿Viewç±»ï¼Œå¹¶é‡å†™å®ƒçš„onDraw()ã€onMeasure()ç­‰æ–¹æ³•æ¥å®ç°ç»˜åˆ¶é€»è¾‘ï¼ŒåŒæ—¶é€šè¿‡é‡å†™onTouchEvent()ç­‰è§¦æ§äº‹ä»¶æ¥å®ç°äº¤äº’é€»è¾‘ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åƒå®ç°ç»„åˆæ§ä»¶æ–¹å¼é‚£æ ·ï¼Œé€šè¿‡å¼•å…¥è‡ªå®šä¹‰å±æ€§ï¼Œä¸°å¯Œè‡ªå®šä¹‰Viewçš„å¯å®šåˆ¶æ€§ã€‚ ä¸‹é¢å°±é€šè¿‡å‡ ä¸ªå®ä¾‹ï¼Œè®©å¤§å®¶äº†è§£å¦‚ä½•åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰Viewï¼Œä¸è¿‡ä¸ºäº†è®©ç¨‹åºå°½å¯èƒ½ç®€å•ï¼Œæˆ‘ä»¬å°±ä¸å»è‡ªå®šä¹‰å±æ€§å€¼äº†ã€‚ å¼§çº¿å±•ç¤ºå›¾ åœ¨PPTçš„å¾ˆå¤šæ¨¡æ¿ä¸­ï¼Œéƒ½æœ‰å¦‚ä¸‹å›¾æ‰€ç¤ºçš„è¿™æ ·ä¸€å¼ æ¯”ä¾‹å›¾ã€‚ è¿™ä¸ªæ¯”ä¾‹å›¾å¯ä»¥éå¸¸æ¸…æ¥šåœ°å±•ç¤ºä¸€ä¸ªé¡¹ç›®æ‰€å çš„æ¯”ä¾‹ï¼Œç®€ä»‹æ˜äº†ã€‚å› æ­¤ï¼Œå®ç°è¿™æ ·ä¸€ä¸ªè‡ªå®šä¹‰Viewç”¨åœ¨æˆ‘ä»¬çš„ç¨‹åºä¸­ï¼Œå¯ä»¥è®©æ•´ä¸ªç¨‹åºå®ç°æ¯”è¾ƒæ¸…æ™°åœ°æ•°æ®å±•ç¤ºæ•ˆæœã€‚é‚£ä¹ˆè¯¥å¦‚ä½•åˆ›å»ºä¸€ä¸ªè¿™æ ·çš„è‡ªå®šä¹‰Viewå‘¢ï¼Ÿå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªè‡ªå®šä¹‰Viewå…¶å®åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯ä¸­é—´çš„åœ†å½¢ã€ä¸­é—´æ˜¾ç¤ºçš„æ–‡å­—å’Œå¤–åœˆçš„å¼§çº¿ã€‚æ—¢ç„¶æœ‰äº†è¿™æ ·çš„æ€è·¯ï¼Œåªè¦åœ¨onDraw()æ–¹æ³•ä¸­ä¸€ä¸ªä¸ªå»ç»˜åˆ¶å°±å¯ä»¥äº†ã€‚è¿™é‡Œä¸ºäº†ç®€å•ï¼Œæˆ‘ä»¬æŠŠViewçš„ç»˜åˆ¶é•¿åº¦ç›´æ¥è®¾ç½®ä¸ºå±å¹•çš„å®½åº¦ã€‚é¦–å…ˆï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œè®¾ç½®å¥½ç»˜åˆ¶ä¸‰ç§å›¾å½¢çš„å‚æ•°ã€‚åœ†çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12mCircleXY = length / 2;mRadius = (float) (length * 0.5 / 2); ç»˜åˆ¶å¼§çº¿ï¼Œéœ€è¦æŒ‡å®šå…¶æ¤­åœ†çš„å¤–æ¥çŸ©å½¢ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345mArcRectF = new RectF( (float) (length * 0.1), (float) (length * 0.1), (float) (length * 0.9), (float) (length * 0.9)); ç»˜åˆ¶æ–‡å­—ï¼Œåªéœ€è¦è®¾ç½®å¥½æ–‡å­—çš„èµ·å§‹ç»˜åˆ¶ä½ç½®å³å¯ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨onDraw()æ–¹æ³•ä¸­è¿›è¡Œç»˜åˆ¶äº†ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456// ç»˜åˆ¶åœ†canvas.drawCircle(mCircleXY, mCircleXY, mRadius, mCirclePaint);// ç»˜åˆ¶å¼§çº¿canvas.drawArc(mArcRectF, 270, mSweepAngle, false, mArcPaint);// ç»˜åˆ¶æ–‡å­—canvas.drawText(mShowText, 0, mShowText.length(), mCircleXY, mCircleXY + mShowTextSize / 4, mTextPaint); ç›¸ä¿¡è¿™äº›å›¾å½¢å¦‚æœå•ç‹¬è®©ä½ å»ç»˜åˆ¶ï¼Œåº”è¯¥æ˜¯éå¸¸å®¹æ˜“çš„äº‹æƒ…ï¼Œåªæ˜¯è¿™é‡Œè¿›è¡Œäº†ä¸€ä¸‹ç»„åˆï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„Viewã€‚å…¶å®ï¼Œä¸è®ºæ˜¯å¤šä¹ˆå¤æ‚çš„å›¾å½¢ã€æ§ä»¶ï¼Œå®ƒéƒ½æ˜¯ç”±è¿™äº›æœ€åŸºæœ¬çš„å›¾å½¢ç»˜åˆ¶å‡ºæ¥çš„ï¼Œå…³é”®å°±åœ¨äºä½ å¦‚ä½•å»åˆ†è§£ã€è®¾è®¡è¿™äº›å›¾å½¢ï¼Œå½“ä½ è„‘æµ·ä¸­æœ‰äº†ä¸€å¹…è®¾è®¡å›¾ä¹‹åï¼Œå‰©ä¸‹çš„äº‹æƒ…å°±åªæ˜¯å¯¹åæ ‡çš„è®¡ç®—äº†ã€‚ å½“ç„¶ï¼Œå¯¹äºè¿™ä¸ªç®€å•çš„Viewï¼Œæœ‰ä¸€äº›æ–¹æ³•å¯ä»¥è®©è°ƒç”¨è€…æ¥è®¾ç½®ä¸åŒçš„çŠ¶æ€å€¼ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678public void setSweepValue(float sweepValue) &#123; if (sweepValue != 0) &#123; mSweepValue = sweepValue; &#125; else &#123; mSweepValue = 25; &#125; this.invalidate();&#125; ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·ä¸æŒ‡å®šå…·ä½“çš„æ¯”ä¾‹å€¼æ—¶ï¼Œå¯ä»¥é»˜è®¤è®¾ç½®ä¸º25ï¼Œè€Œè°ƒç”¨è€…å¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç æ¥è®¾ç½®ç›¸åº”çš„æ¯”ä¾‹å€¼ã€‚ 12CircleProgressView circle = (CircleProgressView) findViewById(R.id.circle);circle.setSweepValue(70); éŸ³é¢‘æ¡å½¢å›¾ ä»¥ä¸‹è¿™ä¸ªé—®é¢˜æ¥æºäºç¾¤é‡Œä¸€ä½å¼€å‘è€…çš„é—®é¢˜ï¼Œä»–æƒ³å®ç°ç±»ä¼¼åœ¨PCä¸ŠæŸäº›éŸ³ä¹æ’­æ”¾å™¨ä¸Šæ ¹æ®éŸ³é¢‘éŸ³é‡å¤§å°æ˜¾ç¤ºéŸ³é¢‘æ¡å½¢å›¾ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å¦‚æœè¦å®ç°ä¸€ä¸ªå¦‚ä¸‹å›¾æ‰€ç¤ºçš„é™æ€éŸ³é¢‘æ¡ï¼Œç›¸ä¿¡å¤§å®¶å¯ä»¥å¾ˆå¿«æ‰¾åˆ°æ€è·¯ï¼Œä¹Ÿå°±æ˜¯ç»˜åˆ¶ä¸€ä¸ªä¸ªçŸ©å½¢ï¼Œæ¯ä¸ªçŸ©å½¢ä¹‹é—´ç¨å¾®åç§»ä¸€ç‚¹è·ç¦»å³å¯ã€‚ å¦‚ä¸‹ä»£ç å°±å±•ç¤ºäº†ä¸€ç§è®¡ç®—åæ ‡çš„æ–¹æ³•ã€‚ 1234567891011@Overrideprotected void onDraw(Canvas canvas) &#123; super.onDraw(canvas); for (int i = 0; i &lt; mRectCount; ++i) &#123; canvas.drawRect(mRectWidth * i + offset, currentHeight, mRectWidth * (i + 1), mRectHeight, mPaint); &#125;&#125; å¦‚ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¾ªç¯åˆ›å»ºè¿™äº›å°çš„çŸ©å½¢ï¼Œå…¶ä¸­currnetHeightå°±æ˜¯æ¯ä¸ªå°çŸ©å½¢çš„é«˜ï¼Œé€šè¿‡æ¨ªåæ ‡çš„ä¸æ–­åç§»ï¼Œå°±ç»˜åˆ¶å‡ºäº†è¿™äº›é™æ€çš„å°çŸ©å½¢ã€‚ä¸‹é¢æˆ‘ä»¬å†è®©è¿™äº›å°çŸ©å½¢çš„é«˜åº¦è¿›è¡Œéšæœºå˜åŒ–ï¼Œé€šè¿‡Math.random()æ–¹æ³•æ¥éšæœºæ”¹å˜è¿™äº›é«˜åº¦å€¼ï¼Œå¹¶èµ‹å€¼ç»™currentHeightï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12mRandom = Math.random();float currentHeight = (float) (mRectHeight * mRandom); è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†é™æ€æ•ˆæœçš„ç»˜åˆ¶ï¼Œé‚£ä¹ˆå¦‚ä½•å®ç°åŠ¨æ€æ•ˆæœå‘¢ï¼Ÿå…¶å®éå¸¸ç®€å•ï¼Œåªè¦åœ¨onDraw()æ–¹æ³•ä¸­å†å»è°ƒç”¨invalidete()æ–¹æ³•é€šçŸ¥Viewè¿›è¡Œé‡ç»˜å°±å¯ä»¥äº†ã€‚ä¸è¿‡ï¼Œåœ¨è¿™é‡Œä¸éœ€è¦æ¯æ¬¡ä¸€ç»˜åˆ¶å®Œæ–°çš„çŸ©å½¢å°±é€šçŸ¥Viewè¿›è¡Œé‡ç»˜ï¼Œè¿™æ ·ä¼šå› ä¸ºåˆ·æ–°é€Ÿåº¦å¤ªå¿«åè€Œå½±å“æ•ˆæœã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç è¿›è¡ŒViewçš„å»¶è¿Ÿé‡ç»˜ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1postInvalidateDelayed(300); è¿™æ ·æ¯éš”300msé€šçŸ¥Viewè¿›è¡Œé‡ç»˜ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ¯”è¾ƒå¥½çš„è§†è§‰æ•ˆæœäº†ã€‚æœ€åï¼Œä¸ºäº†è®©è‡ªå®šä¹‰Viewæ›´åŠ é€¼çœŸï¼Œå¯ä»¥åœ¨ç»˜åˆ¶å°çŸ©å½¢çš„æ—¶å€™ï¼Œç»™ç»˜åˆ¶çš„Paintå¯¹è±¡å¢åŠ ä¸€ä¸ªLinearGradientæ¸å˜æ•ˆæœï¼Œè¿™æ ·ä¸åŒé«˜åº¦çš„çŸ©å½¢å°±ä¼šæœ‰ä¸åŒé¢œè‰²çš„æ¸å˜æ•ˆæœï¼Œæ›´åŠ èƒ½å¤Ÿæ¨¡æ‹ŸéŸ³é¢‘æ¡å½¢å›¾çš„é£æ ¼ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112@Overrideprotected void onSizeChanged(int w, int h, int oldw, int oldh) &#123; super.onSizeChanged(w, h, oldw, oldh); mWidth = getWidth(); mRectHeight = getHeight(); mRectWidth = mWidth / mRectCount; mLinearGradient = new LinearGradient(0, 0, mRectWidth, mRectHeight, Color.YELLOW, Color.GREEN, Shader.TileMode.CLAMP); mPaint.setShader(mLinearGradient);&#125; ä»è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œåœ¨åˆ›å»ºè‡ªå®šä¹‰Viewçš„æ—¶å€™ï¼Œéœ€è¦ä¸€æ­¥æ­¥æ¥ï¼Œä»ä¸€ä¸ªåŸºæœ¬çš„æ•ˆæœå¼€å§‹ï¼Œæ…¢æ…¢åœ°å¢åŠ åŠŸèƒ½ï¼Œç»˜åˆ¶æ›´å¤æ‚çš„æ•ˆæœã€‚ä¸è®ºæ˜¯å¤šä¹ˆå¤æ‚çš„è‡ªå®šä¹‰Viewï¼Œå®ƒä¸€å®šæ˜¯æ…¢æ…¢è¿­ä»£èµ·æ¥çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸è¦è§‰å¾—è‡ªå®šä¹‰Viewæœ‰å¤šéš¾ã€‚åƒé‡Œä¹‹è¡Œå§‹äºè¶³ä¸‹ï¼Œåªè¦å¼€å§‹åšï¼Œæ…¢æ…¢åœ°å°±èƒ½è¶Šæ¥è¶Šç†Ÿç»ƒã€‚ é¡¹ç›®åœ°å€â†’RewriteView åŸæ–‡åœ°å€è‡ªå®šä¹‰View(ä¸‰)(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</category>
      </categories>
      <tags>
        <tag>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰View(äºŒ)(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F07%2F17%2Fcustom-view2-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ ä¸Šä¸€ç¯‡è‡ªå®šä¹‰View(ä¸€)(Androidç¾¤è‹±ä¼ )ä¸­è¯´çš„æ˜¯å¯¹ç°æœ‰æ§ä»¶è¿›è¡Œæ‹“å±•ï¼Œè¿™ç¯‡ä»‹ç»ç¬¬äºŒç§è‡ªå®šä¹‰Viewæ–¹æ³•ï¼Œåˆ›å»ºå¤åˆæ§ä»¶ã€‚ åˆ›å»ºå¤åˆæ§ä»¶ åˆ›å»ºå¤åˆæ§ä»¶å¯ä»¥å¾ˆå¥½åœ°åˆ›å»ºå‡ºå…·æœ‰é‡ç”¨åŠŸèƒ½çš„æ§ä»¶é›†åˆã€‚è¿™ç§æ–¹å¼é€šå¸¸éœ€è¦ç»§æ‰¿ä¸€ä¸ªåˆé€‚çš„ViewGroupï¼Œå†ç»™å®ƒæ·»åŠ æŒ‡å®šåŠŸèƒ½çš„æ§ä»¶ï¼Œä»è€Œç»„åˆæˆæ–°çš„å¤åˆæ§ä»¶ã€‚é€šè¿‡è¿™ç§æ–¹å¼åˆ›å»ºçš„æ§ä»¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šç»™å®ƒæŒ‡å®šä¸€äº›å¯é…ç½®çš„å±æ€§ï¼Œè®©å®ƒå…·æœ‰æ›´å¼ºçš„æ‹“å±•æ€§ã€‚ä¸‹é¢å°±ä»¥ä¸€ä¸ªTopBarä¸ºç¤ºä¾‹ï¼Œè®²è§£å¦‚ä½•åˆ›å»ºå¤åˆæ§ä»¶ã€‚ æˆ‘ä»¬çŸ¥é“ä¸ºäº†åº”ç”¨ç¨‹åºé£æ ¼çš„ç»Ÿä¸€ï¼Œå¾ˆå¤šåº”ç”¨ç¨‹åºéƒ½æœ‰ä¸€äº›å…±é€šçš„UIç•Œé¢ï¼Œæ¯”å¦‚ä¸‹å›¾ä¸­æ‰€ç¤ºçš„TopBarè¿™æ ·ä¸€ä¸ªæ ‡é¢˜æ ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™äº›ç•Œé¢éƒ½ä¼šè¢«æŠ½è±¡å‡ºæ¥ï¼Œå½¢æˆä¸€ä¸ªå…±é€šçš„UIç»„ä»¶ã€‚æ‰€æœ‰éœ€è¦æ·»åŠ æ ‡é¢˜æ çš„ç•Œé¢éƒ½ä¼šå¼•ç”¨è¿™æ ·ä¸€ä¸ªTopBarï¼Œè€Œä¸æ˜¯æ¯ä¸ªç•Œé¢éƒ½åœ¨å¸ƒå±€æ–‡ä»¶ä¸­å†™è¿™æ ·ä¸€ä¸ªTopBarã€‚åŒæ—¶ï¼Œè®¾è®¡è€…è¿˜å¯ä»¥ç»™TopBarå¢åŠ å“åº”çš„æ¥å£ï¼Œè®©è°ƒç”¨è€…èƒ½å¤Ÿæ›´åŠ çµæ´»åœ°æ§åˆ¶TopBarï¼Œè¿™æ ·ä¸ä»…å¯ä»¥æé«˜ç•Œé¢çš„å¤ç”¨ç‡ï¼Œæ›´èƒ½åœ¨éœ€è¦ä¿®æ”¹UIæ—¶ï¼Œåšåˆ°å¿«é€Ÿä¿®æ”¹ï¼Œè€Œä¸éœ€è¦å¯¹æ¯ä¸ªé¡µé¢çš„æ ‡é¢˜æ éƒ½è¿›è¡Œä¿®æ”¹ã€‚ ä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹è¯¥å¦‚ä½•åˆ›å»ºä¸€ä¸ªè¿™æ ·çš„UIæ¨¡æ¿ã€‚é¦–å…ˆï¼Œæ¨¡æ¿åº”è¯¥å…·æœ‰é€šç”¨æ€§ä¸å¯å®šåˆ¶æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦ç»™è°ƒç”¨è€…ä»¥ä¸°å¯Œçš„æ¥å£ï¼Œè®©ä»–ä»¬å¯ä»¥æ›´æ”¹æ¨¡æ¿ä¸­çš„æ–‡å­—ã€é¢œè‰²ã€è¡Œä¸ºç­‰ä¿¡æ¯ï¼Œè€Œä¸æ˜¯æ‰€æœ‰çš„æ¨¡æ¿éƒ½ä¸€æ ·ï¼Œé‚£æ ·å°±å¤±å»äº†æ¨¡æ¿çš„æ„ä¹‰ã€‚ å®šä¹‰å±æ€§ ä¸ºä¸€ä¸ªViewæä¾›å¯è‡ªå®šä¹‰çš„å±æ€§éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨resèµ„æºç›®å½•çš„valuesç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªattrs.xmlçš„å±æ€§å®šä¹‰æ–‡ä»¶ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶ä¸­é€šè¿‡å¦‚ä¸‹ä»£ç å®šä¹‰ç›¸åº”çš„å±æ€§å³å¯ã€‚ 1234567891011121314&lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;resources&gt; &lt;declare-styleable name="TopBar"&gt; &lt;attr name="_title" format="string" /&gt; &lt;attr name="_titleTextSize" format="dimension" /&gt; &lt;attr name="_titleTextColor" format="color" /&gt; &lt;attr name="leftTextColor" format="color" /&gt; &lt;attr name="leftBackground" format="reference|color" /&gt; &lt;attr name="leftText" format="string" /&gt; &lt;attr name="rightTextColor" format="color" /&gt; &lt;attr name="rightBackground" format="reference|color" /&gt; &lt;attr name="rightText" format="string" /&gt; &lt;/declare-styleable&gt;&lt;/resources&gt; æˆ‘ä»¬åœ¨ä»£ç ä¸­é€šè¿‡æ ‡ç­¾å£°æ˜äº†ä½¿ç”¨è‡ªå®šä¹‰å±æ€§ï¼Œå¹¶é€šè¿‡nameå±æ€§æ¥ç¡®å®šå¼•ç”¨çš„åç§°ã€‚æœ€åï¼Œé€šè¿‡æ ‡ç­¾æ¥å£°æ˜å…·ä½“çš„è‡ªå®šä¹‰å±æ€§ï¼Œæ¯”å¦‚åœ¨è¿™é‡Œå®šä¹‰äº†æ ‡é¢˜æ–‡å­—çš„å­—ä½“ã€å¤§å°ã€é¢œè‰²ï¼Œå·¦è¾¹æŒ‰é’®çš„æ–‡å­—é¢œè‰²ã€èƒŒæ™¯ã€å­—ä½“ï¼Œå³è¾¹æŒ‰é’®çš„æ–‡å­—é¢œè‰²ã€èƒŒæ™¯ã€å­—ä½“ç­‰å±æ€§ï¼Œå¹¶é€šè¿‡formatå±æ€§æ¥æŒ‡å®šå±æ€§çš„ç±»å‹ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„å°±æ˜¯ï¼Œæœ‰äº›å±æ€§å¯ä»¥æ˜¯é¢œè‰²å±æ€§ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨å±æ€§ã€‚æ¯”å¦‚æŒ‰é’®çš„èƒŒæ™¯ï¼Œå¯ä»¥æŠŠå®ƒæŒ‡å®šä¸ºå…·ä½“çš„é¢œè‰²ï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒæŒ‡å®šä¸ºä¸€å¼ å›¾ç‰‡ï¼Œæ‰€ä»¥ä½¿ç”¨â€œ|â€æ¥åˆ†éš”ä¸åŒçš„å±æ€§â€”â€”â€œreference|colorâ€ã€‚ åœ¨ç¡®å®šå¥½å±æ€§åï¼Œå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰æ§ä»¶â€”-TopBarï¼Œå¹¶è®©å®ƒç»§æ‰¿è‡ªViewGroupï¼Œä»è€Œç»„åˆä¸€äº›éœ€è¦çš„æ§ä»¶ã€‚è¿™é‡Œä¸ºäº†ç®€å•ï¼Œæˆ‘ä»¬ç»§æ‰¿RelativeLayoutã€‚åœ¨æ„é€ æ–¹æ³•ä¸­ï¼Œé€šè¿‡å¦‚ä¸‹æ‰€ç¤ºä»£ç æ¥è·å–XMLå¸ƒå±€æ–‡ä»¶ä¸­è‡ªå®šä¹‰çš„é‚£äº›å±æ€§ï¼Œå³ä¸æˆ‘ä»¬ä½¿ç”¨ç³»ç»Ÿæä¾›çš„é‚£äº›å±æ€§ä¸€æ ·ã€‚ 1TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.TopBar); ç³»ç»Ÿæä¾›äº†TypedArrayè¿™æ ·çš„æ•°æ®ç»“æ„æ¥è·å–è‡ªå®šä¹‰å±æ€§é›†ï¼Œåé¢å¼•ç”¨çš„styleableçš„TopBarï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨XMLä¸­é€šè¿‡æ‰€æŒ‡å®šçš„nameåã€‚æ¥ä¸‹æ¥ï¼Œé€šè¿‡TypedArrayå¯¹è±¡çš„getString()ã€getColor()ç­‰æ–¹æ³•ï¼Œå°±å¯ä»¥è·å–è¿™äº›å®šä¹‰çš„å±æ€§å€¼ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314// é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œå°†ä½ åœ¨attrs.xmlä¸­å®šä¹‰çš„declare-styleableçš„æ‰€æœ‰å±æ€§å€¼å­˜å‚¨åˆ°TypedArrayä¸­TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.TopBar);// ä»TypedArrayä¸­å–å‡ºå¯¹åº”çš„å€¼æ¥ä¸ºè¦è®¾ç½®çš„å±æ€§èµ‹å€¼mLeftTextColor = ta.getColor(R.styleable.TopBar_leftTextColor, 0);mLeftBackground = ta.getDrawable(R.styleable.TopBar_leftBackground);mLeftText = ta.getString(R.styleable.TopBar_leftText);mRightTextColor = ta.getColor(R.styleable.TopBar_rightTextColor, 0);mRightBackground = ta.getDrawable(R.styleable.TopBar_rightBackground);mRightText = ta.getString(R.styleable.TopBar_rightText);mTitleTextSize = ta.getDimension(R.styleable.TopBar__titleTextSize, 10);mTitleTextColor = ta.getColor(R.styleable.TopBar__titleTextColor, 0);mTitle = ta.getString(R.styleable.TopBar__title);// è·å–å®ŒTypedArrayçš„å€¼åï¼Œä¸€èˆ¬è¦è°ƒç”¨recycleæ–¹æ³•æ¥é¿å…é‡æ–°åˆ›å»ºæ—¶çš„é”™è¯¯ta.recycle(); è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“è·å–å®Œæ‰€æœ‰çš„å±æ€§å€¼åï¼Œéœ€è¦è°ƒç”¨TypedArrayçš„recycleæ–¹æ³•æ¥å®Œæˆèµ„æºçš„å›æ”¶ã€‚ ç»„åˆæ§ä»¶ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ç»„åˆæ§ä»¶äº†ã€‚UIæ¨¡æ¿TopBarå®é™…ä¸Šç”±ä¸‰ä¸ªæ§ä»¶ç»„æˆï¼Œå³å·¦è¾¹çš„ç‚¹å‡»æŒ‰é’®mLeftButtonï¼Œå³è¾¹çš„ç‚¹å‡»æŒ‰é’®mRightButtonå’Œä¸­é—´çš„æ ‡é¢˜æ mTitleViewã€‚é€šè¿‡åŠ¨æ€æ·»åŠ æ§ä»¶çš„æ–¹å¼ï¼Œä½¿ç”¨addView()æ–¹æ³•å°†è¿™ä¸‰ä¸ªæ§ä»¶åŠ å…¥åˆ°å®šä¹‰çš„TopBaræ¨¡æ¿ä¸­ï¼Œå¹¶ç»™å®ƒä»¬è®¾ç½®æˆ‘ä»¬å‰é¢æ‰€è·å–åˆ°çš„å…·ä½“çš„å±æ€§å€¼ï¼Œæ¯”å¦‚æ ‡é¢˜çš„æ–‡å­—é¢œè‰²ã€å¤§å°ç­‰ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678910111213141516171819202122232425262728// ä¸ºåˆ›å»ºçš„ç»„ä»¶å…ƒç´ èµ‹å€¼// å€¼å°±æ¥æºäºæˆ‘ä»¬åœ¨å¼•ç”¨çš„xmlæ–‡ä»¶ä¸­ç»™å¯¹åº”å±æ€§çš„èµ‹å€¼mLeftButton.setTextColor(mLeftTextColor);mLeftButton.setBackground(mLeftBackground);mLeftButton.setText(mLeftText); mRightButton.setTextColor(mRightTextColor);mRightButton.setBackground(mRightBackground);mRightButton.setText(mRightText); mTitleView.setText(mTitle);mTitleView.setTextColor(mTitleTextColor);mTitleView.setTextSize(mTitleTextSize);mTitleView.setGravity(Gravity.CENTER); // ä¸ºç»„ä»¶å…ƒç´ è®¾ç½®ç›¸åº”çš„å¸ƒå±€å…ƒç´ mLeftLayoutParams = new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.MATCH_PARENT);mLeftLayoutParams.addRule(RelativeLayout.ALIGN_PARENT_LEFT, TRUE);// æ·»åŠ åˆ°ViewGroupaddView(mLeftButton, mLeftLayoutParams); mRightLayoutParams = new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.MATCH_PARENT);mRightLayoutParams.addRule(RelativeLayout.ALIGN_PARENT_RIGHT, TRUE);addView(mRightButton, mRightLayoutParams); mTitleLayoutParams = new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.MATCH_PARENT);mTitleLayoutParams.addRule(RelativeLayout.CENTER_IN_PARENT, TRUE);addView(mTitleView, mTitleLayoutParams); å®šä¹‰æ¥å£ åœ¨UIæ¨¡æ¿ç±»ä¸­å®šä¹‰ä¸€ä¸ªå·¦å³æŒ‰é’®ç‚¹å‡»çš„æ¥å£ï¼Œå¹¶åˆ›å»ºä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«ç”¨äºå·¦è¾¹æŒ‰é’®çš„ç‚¹å‡»å’Œå³è¾¹æŒ‰é’®çš„ç‚¹å‡»ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678910// æ¥å£å¯¹è±¡ï¼Œå®ç°å›è°ƒæœºåˆ¶ï¼Œåœ¨å›è°ƒæ–¹æ³•ä¸­// é€šè¿‡æ˜ å°„çš„æ¥å£å¯¹è±¡è°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•// è€Œä¸ç”¨å»è€ƒè™‘å¦‚ä½•å®ç°ï¼Œå…·ä½“çš„å®ç°ç”±è°ƒç”¨è€…å»åˆ›å»ºpublic interface topbarClickListener &#123; // å·¦æŒ‰é’®ç‚¹å‡»äº‹ä»¶ void leftClick(); // å³æŒ‰é’®ç‚¹å‡»äº‹ä»¶ void rightClick();&#125; æš´éœ²æ¥å£ç»™è°ƒç”¨è€… åœ¨æ¨¡æ¿æ–¹æ³•ä¸­ï¼Œä¸ºå·¦ã€å³æŒ‰é’®å¢åŠ ç‚¹å‡»äº‹ä»¶ï¼Œä½†ä¸å»å®ç°å…·ä½“çš„é€»è¾‘ï¼Œè€Œæ˜¯è°ƒç”¨æ¥å£ä¸­ç›¸åº”çš„ç‚¹å‡»æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314151617181920// æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼Œä¸éœ€è¦å…·ä½“çš„å®ç°ï¼Œ// åªéœ€è°ƒç”¨æ¥å£çš„æ–¹æ³•ï¼Œå›è°ƒçš„æ—¶å€™ï¼Œä¼šæœ‰å…·ä½“çš„å®ç°mRightButton.setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View v) &#123; mListener.rightClick(); &#125;&#125;);mLeftButton.setOnClickListener(new OnClickListener() &#123; @Override public void onClick(View v) &#123; mListener.leftClick(); &#125;&#125;); // æš´éœ²ä¸€ä¸ªæ–¹æ³•ç»™è°ƒç”¨è€…æ¥æ³¨å†Œæ¥å£å›è°ƒ// é€šè¿‡æ¥å£æ¥è·å¾—å›è°ƒè€…å¯¹æ¥å£æ–¹æ³•çš„å®ç°public void setOnTopbarClickListener(topbarClickListener mListener) &#123; this.mListener = mListener;&#125; å®ç°æ¥å£å›è°ƒ åœ¨è°ƒç”¨è€…çš„ä»£ç ä¸­ï¼Œè°ƒç”¨è€…éœ€è¦å®ç°è¿™æ ·ä¸€ä¸ªæ¥å£ï¼Œå¹¶å®Œæˆæ¥å£ä¸­çš„æ–¹æ³•ï¼Œç¡®å®šå…·ä½“çš„å®ç°é€»è¾‘ï¼Œå¹¶ä½¿ç”¨ç¬¬äºŒæ­¥ä¸­æš´éœ²çš„æ–¹æ³•ï¼Œå°†æ¥å£çš„å¯¹è±¡ä¼ é€’è¿›å»ï¼Œä»è€Œå®Œæˆå›è°ƒã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„å½¢å¼æ¥å®ç°æ¥å£ä¸­çš„æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567891011121314mTopBar.setOnTopbarClickListener(new MyTopBar.topbarClickListener() &#123; @Override public void leftClick() &#123; Toast.makeText(MainActivity.this, "left", Toast.LENGTH_SHORT) .show(); &#125; @Override public void rightClick() &#123; Toast.makeText(MainActivity.this, "right", Toast.LENGTH_SHORT) .show(); &#125;&#125;); è¿™é‡Œä¸ºäº†ç®€å•æ¼”ç¤ºï¼Œåªæ˜¾ç¤ºä¸¤ä¸ªToastæ¥åŒºåˆ†ä¸åŒçš„æŒ‰é’®ç‚¹å‡»äº‹ä»¶ã€‚é™¤äº†é€šè¿‡æ¥å£å›è°ƒçš„æ–¹å¼æ¥å®ç°åŠ¨æ€çš„æ§åˆ¶UIæ¨¡æ¿ï¼ŒåŒæ ·å¯ä»¥ä½¿ç”¨å…¬å…±æ–¹æ³•æ¥åŠ¨æ€åœ°ä¿®æ”¹UIæ¨¡æ¿ä¸­çš„UIï¼Œè¿™æ ·å°±è¿›ä¸€æ­¥æé«˜äº†æ¨¡æ¿çš„å¯å®šåˆ¶æ€§ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112131415161718192021/*** è®¾ç½®æŒ‰é’®çš„æ˜¾ç¤ºä¸å¦ é€šè¿‡idåŒºåˆ†æŒ‰é’®ï¼ŒflagåŒºåˆ†æ˜¯å¦æ˜¾ç¤º** @param id id* @param flag æ˜¯å¦æ˜¾ç¤º*/public void setButtonVisable(int id, boolean flag) &#123; if (flag) &#123; if (id == 0) &#123; mLeftButton.setVisibility(View.VISIBLE); &#125; else &#123; mRightButton.setVisibility(View.VISIBLE); &#125; &#125; else &#123; if (id == 0) &#123; mLeftButton.setVisibility(View.GONE); &#125; else &#123; mRightButton.setVisibility(View.GONE); &#125; &#125;&#125; é€šè¿‡å¦‚ä¸Šæ‰€ç¤ºä»£ç ï¼Œå½“è°ƒç”¨è€…é€šè¿‡TopBarå¯¹è±¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•åï¼Œæ ¹æ®å‚æ•°ï¼Œè°ƒç”¨è€…å°±å¯ä»¥äº†åŠ¨æ€åœ°æ§åˆ¶æŒ‰é’®çš„æ˜¾ç¤ºï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123// æ§åˆ¶topbarä¸Šç»„ä»¶çš„çŠ¶æ€mTopBar.setButtonVisable(0, true);mTopBar.setButtonVisable(1, false); å¼•ç”¨UIæ¨¡æ¿ æœ€åä¸€æ­¥ï¼Œè‡ªç„¶æ˜¯åœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹å¼•ç”¨UIæ¨¡æ¿ï¼Œåœ¨å¼•ç”¨å‰ï¼Œéœ€è¦æŒ‡å®šå¼•ç”¨ç¬¬ä¸‰æ–¹æ§ä»¶çš„åå­—ç©ºé—´ã€‚åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ä¸€è¡Œä»£ç ã€‚ 1xmlns:android="http://schemas.android.com/apk/res/android" è¿™è¡Œä»£ç å°±æ˜¯åœ¨æŒ‡å®šå¼•ç”¨çš„åå­—ç©ºé—´xmlnsï¼Œå³xml namespaceã€‚è¿™é‡ŒæŒ‡å®šäº†åå­—ç©ºé—´ä¸ºâ€œandroidâ€ï¼Œå› æ­¤åœ¨æ¥ä¸‹æ¥ä½¿ç”¨ç³»ç»Ÿå±æ€§çš„æ—¶å€™ï¼Œæ‰å¯ä»¥ä½¿ç”¨â€œandroid:â€æ¥å¼•ç”¨Androidçš„ç³»ç»Ÿå±æ€§ã€‚åŒæ ·åœ°ï¼Œå¦‚æœè¦ä½¿ç”¨è‡ªå®šä¹‰çš„å±æ€§ï¼Œé‚£ä¹ˆå°±éœ€è¦åˆ›å»ºè‡ªå·±çš„åå­—ç©ºé—´ï¼Œåœ¨Android Studioä¸­ï¼Œç¬¬ä¸‰æ–¹çš„æ§ä»¶éƒ½ä½¿ç”¨å¦‚ä¸‹ä»£ç æ¥å¼•å…¥åå­—ç©ºé—´ã€‚ 1xmlns:custom="http://schemas.android.com/apk/res-auto" è¿™é‡Œæˆ‘ä»¬å°†å¼•å…¥çš„ç¬¬ä¸‰æ–¹æ§ä»¶çš„åå­—ç©ºé—´å–ä¸ºcustomï¼Œä¹‹åå†XMLæ–‡ä»¶ä¸­ä½¿ç”¨è‡ªå®šä¹‰çš„å±æ€§æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªåå­—ç©ºé—´æ¥å¼•ç”¨ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678910111213&lt;cmj.com.delsys.MyTopBar android:id="@+id/topBar" android:layout_width="match_parent" android:layout_height="40dp" custom:_title="è‡ªå®šä¹‰æ ‡é¢˜" custom:_titleTextColor="#123412" custom:_titleTextSize="10sp" custom:leftBackground="@color/colorPrimary" custom:leftText="Back" custom:leftTextColor="#ffffff" custom:rightBackground="@color/colorPrimary" custom:rightText="More" custom:rightTextColor="#ffffff"/&gt; ä½¿ç”¨è‡ªå®šä¹‰çš„Viewä¸ç³»ç»ŸåŸç”Ÿçš„Viewæœ€å¤§çš„åŒºåˆ«å°±æ˜¯åœ¨ç”³æ˜æ§ä»¶æ—¶ï¼Œéœ€è¦æŒ‡å®šå®Œæ•´çš„åŒ…åï¼Œè€Œåœ¨å¼•ç”¨è‡ªå®šä¹‰çš„å±æ€§æ—¶ï¼Œéœ€è¦ä½¿ç”¨è‡ªå®šä¹‰çš„xmlnsåå­—ã€‚ å†æ›´è¿›ä¸€æ­¥ï¼Œå¦‚æœå°†è¿™ä¸ªUIæ¨¡æ¿å†™åˆ°ä¸€ä¸ªå¸ƒå±€æ–‡ä»¶ä¸­ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112131415&lt;cmj.com.delsys.MyTopBar android:id="@+id/topBar" xmlns:android="http://schemas.android.com/apk/res/android" xmlns:custom="http://schemas.android.com/apk/res-auto" android:layout_width="match_parent" android:layout_height="40dp" custom:_title="è‡ªå®šä¹‰æ ‡é¢˜" custom:_titleTextColor="#123412" custom:_titleTextSize="10sp" custom:leftBackground="@color/colorPrimary" custom:leftText="Back" custom:leftTextColor="#ffffff" custom:rightBackground="@color/colorPrimary" custom:rightText="More" custom:rightTextColor="#ffffff"/&gt; é€šè¿‡å¦‚ä¸Šæ‰€ç¤ºçš„ä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å…¶ä»–çš„å¸ƒå±€æ–‡ä»¶ä¸­ï¼Œç›´æ¥é€šè¿‡æ ‡ç­¾æ¥å¼•ç”¨è¿™ä¸ªUIæ¨¡æ¿Viewï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1&lt;include layout="@layout/widget_topbar"/&gt; è¿™æ ·å°±æ›´åŠ æ»¡è¶³äº†æˆ‘ä»¬çš„æ¨¡æ¿éœ€æ±‚ã€‚ è¿è¡Œç¨‹åºåï¼Œæ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å½“è°ƒç”¨å…¬å…±æ–¹æ³•setButtonVisable()æ¥æ§åˆ¶å·¦å³ä¸¤ä¸ªæŒ‰é’®çš„æ˜¾ç¤ºå’Œéšè—çš„æ—¶å€™ï¼Œæ•ˆæœæ˜¾ç¤ºå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ é¡¹ç›®åœ°å€â†’MyTopBar åŸæ–‡åœ°å€è‡ªå®šä¹‰View(äºŒ)(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</category>
      </categories>
      <tags>
        <tag>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RxJavaç¬”è®°]]></title>
    <url>%2F2016%2F07%2F12%2Frxjava-note%2F</url>
    <content type="text"><![CDATA[åˆ†äº«ä¸€ç¯‡å…¥é—¨RxJavaå¾ˆå¥½çš„ä¸€ç¯‡æ–‡ç« ç»™ Android å¼€å‘è€…çš„ RxJava è¯¦è§£ï¼Œä»¥ä¸‹ç²¾é«“æ‘˜è‡ªå…¶ä¸­ã€‚ RxJava æœ‰å››ä¸ªåŸºæœ¬æ¦‚å¿µï¼šObservable (å¯è§‚å¯Ÿè€…ï¼Œå³è¢«è§‚å¯Ÿè€…)ã€ Observer (è§‚å¯Ÿè€…)ã€ subscribe (è®¢é˜…)ã€äº‹ä»¶ã€‚Observable å’Œ Observer é€šè¿‡ subscribe() æ–¹æ³•å®ç°è®¢é˜…å…³ç³»ï¼Œä»è€Œ Observable å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™å‘å‡ºäº‹ä»¶æ¥é€šçŸ¥ Observerã€‚ åŸºæœ¬å®ç° RxJava çš„åŸºæœ¬å®ç°ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç‚¹ï¼š åˆ›å»º Observerå¯ä»¥æ˜¯ Observer ï¼Œä¹Ÿå¯ä»¥æ˜¯ Subscriber ã€‚ åˆ›å»º Observablecreate(): æ˜¯ RxJava æœ€åŸºæœ¬çš„åˆ›é€ äº‹ä»¶åºåˆ—çš„æ–¹æ³•ã€‚just(T...): å°†ä¼ å…¥çš„å‚æ•°ä¾æ¬¡å‘é€å‡ºæ¥ã€‚from(T[]) / from(Iterable&lt;? extends T&gt;): å°†ä¼ å…¥çš„æ•°ç»„æˆ– Iterable æ‹†åˆ†æˆå…·ä½“å¯¹è±¡åï¼Œä¾æ¬¡å‘é€å‡ºæ¥ã€‚ SubscribeObservable.subscribe(Subscriber/Observer) çº¿ç¨‹æ§åˆ¶ åœ¨ä¸æŒ‡å®šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œ RxJava éµå¾ªçš„æ˜¯çº¿ç¨‹ä¸å˜çš„åŸåˆ™ï¼Œå³ï¼šåœ¨å“ªä¸ªçº¿ç¨‹è°ƒç”¨ subscribe()ï¼Œå°±åœ¨å“ªä¸ªçº¿ç¨‹ç”Ÿäº§äº‹ä»¶ï¼›åœ¨å“ªä¸ªçº¿ç¨‹ç”Ÿäº§äº‹ä»¶ï¼Œå°±åœ¨å“ªä¸ªçº¿ç¨‹æ¶ˆè´¹äº‹ä»¶ã€‚å¦‚æœéœ€è¦åˆ‡æ¢çº¿ç¨‹ï¼Œå°±éœ€è¦ç”¨åˆ° Scheduler ï¼ˆè°ƒåº¦å™¨ï¼‰ã€‚ Schedulers.immediate() : ç›´æ¥åœ¨å½“å‰çº¿ç¨‹è¿è¡Œï¼Œç›¸å½“äºä¸æŒ‡å®šçº¿ç¨‹ã€‚è¿™æ˜¯é»˜è®¤çš„ Scheduler ã€‚ Schedulers.newThread() : æ€»æ˜¯å¯ç”¨æ–°çº¿ç¨‹ï¼Œå¹¶åœ¨æ–°çº¿ç¨‹æ‰§è¡Œæ“ä½œã€‚ Schedulers.io() : I/O æ“ä½œï¼ˆè¯»å†™æ–‡ä»¶ã€è¯»å†™æ•°æ®åº“ã€ç½‘ç»œä¿¡æ¯äº¤äº’ç­‰ï¼‰æ‰€ä½¿ç”¨çš„ Schedulerã€‚è¡Œä¸ºæ¨¡å¼å’Œ newThread() å·®ä¸å¤šï¼ŒåŒºåˆ«åœ¨äº io() çš„å†…éƒ¨å®ç°æ˜¯æ˜¯ç”¨ä¸€ä¸ªæ— æ•°é‡ä¸Šé™çš„çº¿ç¨‹æ± ï¼Œå¯ä»¥é‡ç”¨ç©ºé—²çš„çº¿ç¨‹ï¼Œå› æ­¤å¤šæ•°æƒ…å†µä¸‹ io() æ¯” newThread() æ›´æœ‰æ•ˆç‡ã€‚ä¸è¦æŠŠè®¡ç®—å·¥ä½œæ”¾åœ¨ io() ä¸­ï¼Œå¯ä»¥é¿å…åˆ›å»ºä¸å¿…è¦çš„çº¿ç¨‹ã€‚ Schedulers.computation() : è®¡ç®—æ‰€ä½¿ç”¨çš„ Schedulerã€‚è¿™ä¸ªè®¡ç®—æŒ‡çš„æ˜¯ CPU å¯†é›†å‹è®¡ç®—ï¼Œå³ä¸ä¼šè¢« I/O ç­‰æ“ä½œé™åˆ¶æ€§èƒ½çš„æ“ä½œï¼Œä¾‹å¦‚å›¾å½¢çš„è®¡ç®—ã€‚è¿™ä¸ª Scheduler ä½¿ç”¨çš„å›ºå®šçš„çº¿ç¨‹æ± ï¼Œå¤§å°ä¸º CPU æ ¸æ•°ã€‚ä¸è¦æŠŠ I/O æ“ä½œæ”¾åœ¨ computation() ä¸­ï¼Œå¦åˆ™ I/O æ“ä½œçš„ç­‰å¾…æ—¶é—´ä¼šæµªè´¹ CPUã€‚ Schedulers.trampoline() :åœ¨å½“å‰çº¿ç¨‹ä¸­çš„å·¥ä½œæ”¾å…¥é˜Ÿåˆ—ä¸­æ’é˜Ÿï¼Œå¹¶ä¾æ¬¡æ“ä½œã€‚ AndroidSchedulers.mainThread() : å®ƒæŒ‡å®šçš„æ“ä½œå°†åœ¨ Android ä¸»çº¿ç¨‹è¿è¡Œã€‚ æœ‰äº†è¿™å‡ ä¸ª Scheduler ï¼Œå°±å¯ä»¥ä½¿ç”¨ subscribeOn() å’Œ observeOn() ä¸¤ä¸ªæ–¹æ³•æ¥å¯¹çº¿ç¨‹è¿›è¡Œæ§åˆ¶äº†ã€‚subscribeOn(): æŒ‡å®š subscribe() æ‰€å‘ç”Ÿçš„çº¿ç¨‹ï¼Œå³ Observable.OnSubscribe è¢«æ¿€æ´»æ—¶æ‰€å¤„çš„çº¿ç¨‹ã€‚æˆ–è€…å«åšäº‹ä»¶äº§ç”Ÿçš„çº¿ç¨‹ã€‚observeOn(): æŒ‡å®š Subscriber æ‰€è¿è¡Œåœ¨çš„çº¿ç¨‹ã€‚æˆ–è€…å«åšäº‹ä»¶æ¶ˆè´¹çš„çº¿ç¨‹ã€‚ æ–‡å­—å™è¿°æ€»å½’éš¾ç†è§£ï¼Œä¸Šä»£ç ï¼š 123456789Observable.just(1, 2, 3, 4) .subscribeOn(Schedulers.io()) // æŒ‡å®š subscribe() å‘ç”Ÿåœ¨ IO çº¿ç¨‹ .observeOn(AndroidSchedulers.mainThread()) // æŒ‡å®š Subscriber çš„å›è°ƒå‘ç”Ÿåœ¨ä¸»çº¿ç¨‹ .subscribe(new Action1&lt;Integer&gt;() &#123; @Override public void call(Integer number) &#123; Log.d(tag, "number:" + number); &#125; &#125;); ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼Œç”±äº subscribeOn(Schedulers.io()) çš„æŒ‡å®šï¼Œè¢«åˆ›å»ºçš„äº‹ä»¶çš„å†…å®¹ 1ã€2ã€3ã€4 å°†ä¼šåœ¨ IO çº¿ç¨‹å‘å‡ºï¼›è€Œç”±äº observeOn(AndroidScheculers.mainThread()) çš„æŒ‡å®šï¼Œå› æ­¤ subscriber æ•°å­—çš„æ‰“å°å°†å‘ç”Ÿåœ¨ä¸»çº¿ç¨‹ ã€‚äº‹å®ä¸Šï¼Œè¿™ç§åœ¨ subscribe() ä¹‹å‰å†™ä¸Šä¸¤å¥ subscribeOn(Scheduler.io()) å’Œ observeOn(AndroidSchedulers.mainThread()) çš„ä½¿ç”¨æ–¹å¼éå¸¸å¸¸è§ï¼Œå®ƒé€‚ç”¨äºå¤šæ•°çš„ ã€åå°çº¿ç¨‹å–æ•°æ®ï¼Œä¸»çº¿ç¨‹æ˜¾ç¤ºã€çš„ç¨‹åºç­–ç•¥ã€‚ å½“ä½¿ç”¨äº†å¤šä¸ª subscribeOn() çš„æ—¶å€™ï¼Œåªæœ‰ç¬¬ä¸€ä¸ª subscribeOn() èµ·ä½œç”¨ï¼Œå½“ä½¿ç”¨å¤šä¸ª observeOn() æ—¶å€™ï¼Œ observeOn() æŒ‡å®šçš„æ˜¯å®ƒä¹‹åçš„æ“ä½œæ‰€åœ¨çš„çº¿ç¨‹ã€‚ å¦‚æœå¯¹å‡†å¤‡å·¥ä½œçš„çº¿ç¨‹æœ‰è¦æ±‚ï¼ŒonStart() å°±ä¸é€‚ç”¨äº†ï¼Œå› ä¸ºå®ƒæ€»æ˜¯åœ¨ subscribe æ‰€å‘ç”Ÿçš„çº¿ç¨‹è¢«è°ƒç”¨ï¼Œè€Œä¸èƒ½æŒ‡å®šçº¿ç¨‹ã€‚è¦åœ¨æŒ‡å®šçš„çº¿ç¨‹æ¥åšå‡†å¤‡å·¥ä½œï¼Œå¯ä»¥ä½¿ç”¨ doOnSubscribe() æ–¹æ³•ï¼ŒdoOnSubscribe() ä¹‹åæœ‰ subscribeOn() çš„è¯ï¼Œå®ƒå°†æ‰§è¡Œåœ¨ç¦»å®ƒæœ€è¿‘çš„ subscribeOn() æ‰€æŒ‡å®šçš„çº¿ç¨‹ã€‚ å˜æ¢ æ‰€è°“å˜æ¢ï¼Œå°±æ˜¯å°†äº‹ä»¶åºåˆ—ä¸­çš„å¯¹è±¡æˆ–æ•´ä¸ªåºåˆ—è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œè½¬æ¢æˆä¸åŒçš„äº‹ä»¶æˆ–äº‹ä»¶åºåˆ—ã€‚ map(): äº‹ä»¶å¯¹è±¡çš„ä¸€å¯¹ä¸€çš„è½¬åŒ–ã€‚ flatMap(): è¿”å›çš„æ˜¯ä¸ª Observable å¯¹è±¡ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>ç¬¬ä¸‰æ–¹åº“</category>
      </categories>
      <tags>
        <tag>ç¬¬ä¸‰æ–¹åº“</tag>
        <tag>RxJava</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Studioæ··æ·†æ¨¡æ¿åŠå¸¸ç”¨ç¬¬ä¸‰æ–¹æ··æ·†(çœ‹äº†éƒ½è¯´å¥½)]]></title>
    <url>%2F2016%2F06%2F28%2Fandroid-proguard-templet%2F</url>
    <content type="text"><![CDATA[ç°å¯ä½¿ç”¨ FreeProGuard åº“æ¥åŠ©ä½ å¿«é€Ÿæ··æ·†ï¼ç°å¯ä½¿ç”¨ FreeProGuard åº“æ¥åŠ©ä½ å¿«é€Ÿæ··æ·†ï¼ç°å¯ä½¿ç”¨ FreeProGuard åº“æ¥åŠ©ä½ å¿«é€Ÿæ··æ·†ï¼ é¦–å…ˆè¦åœ¨build.gradleä¸­å¼€å¯æ··æ·†ï¼Œä¹Ÿå°±æ˜¯ minifyEnabled true ï¼Œæˆ‘ç”¨çš„build.gradleå…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233def releaseTime() &#123; return new Date().format("yyyy.MM.dd", TimeZone.getTimeZone("UTC"))&#125;android &#123; .... buildTypes &#123; release &#123; // æ··æ·† minifyEnabled true // Zipalignä¼˜åŒ– zipAlignEnabled true // ç§»é™¤æ— ç”¨çš„resourceæ–‡ä»¶ shrinkResources true // å‰ä¸€éƒ¨åˆ†ä»£è¡¨ç³»ç»Ÿé»˜è®¤çš„androidç¨‹åºçš„æ··æ·†æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å·²ç»åŒ…å«äº†åŸºæœ¬çš„æ··æ·†å£°æ˜ï¼Œåä¸€ä¸ªæ–‡ä»¶æ˜¯è‡ªå·±çš„å®šä¹‰æ··æ·†æ–‡ä»¶ proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' applicationVariants.all &#123; variant -&gt; variant.outputs.each &#123; output -&gt; def outputFile = output.outputFile if (outputFile != null &amp;&amp; outputFile.name.endsWith('.apk')) &#123; // è¾“å‡ºapkåç§°ä¸ºappname-1.0-beta1-xxxx-xx-xx.apk def fileName = "app-$&#123;defaultConfig.versionName&#125;-beta1-$&#123;releaseTime()&#125;.apk" output.outputFile = new File(outputFile.parent, fileName) &#125; &#125; &#125; &#125; &#125; ....&#125; ä¸Šé¢æ³¨é‡Šä¸­å†™åˆ°proguard-android.txtæ–‡ä»¶ï¼Œè¿™æ˜¯ç³»ç»Ÿé»˜è®¤çš„æ··æ·†æ–‡ä»¶ï¼Œå…·ä½“åœ¨../sdk/tools/proguard/ç›®å½•ä¸‹ï¼Œå…¶ä¸­åŒ…å«äº†androidæœ€åŸºæœ¬çš„æ··æ·†ï¼Œä¸€èˆ¬ä¸éœ€è¦æ”¹åŠ¨ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®çš„æ˜¯é¡¹ç›®ä¸­appä¸‹çš„proguard-rules.proæ–‡ä»¶ï¼Œåœ¨æ­¤æä¾›ä¸€ä»½æ··æ·†æ¨¡æ¿ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165############################################### å¯¹äºä¸€äº›åŸºæœ¬æŒ‡ä»¤çš„æ·»åŠ ############################################### ä»£ç æ··æ·†å‹ç¼©æ¯”ï¼Œåœ¨0~7ä¹‹é—´ï¼Œé»˜è®¤ä¸º5ï¼Œä¸€èˆ¬ä¸åšä¿®æ”¹-optimizationpasses 5 # æ··åˆæ—¶ä¸ä½¿ç”¨å¤§å°å†™æ··åˆï¼Œæ··åˆåçš„ç±»åä¸ºå°å†™-dontusemixedcaseclassnames # æŒ‡å®šä¸å»å¿½ç•¥éå…¬å…±åº“çš„ç±»-dontskipnonpubliclibraryclasses # è¿™å¥è¯èƒ½å¤Ÿä½¿æˆ‘ä»¬çš„é¡¹ç›®æ··æ·†åäº§ç”Ÿæ˜ å°„æ–‡ä»¶# åŒ…å«æœ‰ç±»å-&gt;æ··æ·†åç±»åçš„æ˜ å°„å…³ç³»-verbose # æŒ‡å®šä¸å»å¿½ç•¥éå…¬å…±åº“çš„ç±»æˆå‘˜-dontskipnonpubliclibraryclassmembers # ä¸åšé¢„æ ¡éªŒï¼Œpreverifyæ˜¯proguardçš„å››ä¸ªæ­¥éª¤ä¹‹ä¸€ï¼ŒAndroidä¸éœ€è¦preverifyï¼Œå»æ‰è¿™ä¸€æ­¥èƒ½å¤ŸåŠ å¿«æ··æ·†é€Ÿåº¦ã€‚-dontpreverify # ä¿ç•™Annotationä¸æ··æ·†-keepattributes *Annotation*,InnerClasses # é¿å…æ··æ·†æ³›å‹-keepattributes Signature # æŠ›å‡ºå¼‚å¸¸æ—¶ä¿ç•™ä»£ç è¡Œå·-keepattributes SourceFile,LineNumberTable # æŒ‡å®šæ··æ·†æ˜¯é‡‡ç”¨çš„ç®—æ³•ï¼Œåé¢çš„å‚æ•°æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨# è¿™ä¸ªè¿‡æ»¤å™¨æ˜¯è°·æ­Œæ¨èçš„ç®—æ³•ï¼Œä¸€èˆ¬ä¸åšæ›´æ”¹-optimizations !code/simplification/cast,!field/*,!class/merging/* ############################################### Androidå¼€å‘ä¸­ä¸€äº›éœ€è¦ä¿ç•™çš„å…¬å…±éƒ¨åˆ†############################################## # ä¿ç•™æˆ‘ä»¬ä½¿ç”¨çš„å››å¤§ç»„ä»¶ï¼Œè‡ªå®šä¹‰çš„Applicationç­‰ç­‰è¿™äº›ç±»ä¸è¢«æ··æ·†# å› ä¸ºè¿™äº›å­ç±»éƒ½æœ‰å¯èƒ½è¢«å¤–éƒ¨è°ƒç”¨-keep public class * extends android.app.Activity-keep public class * extends android.app.Appliction-keep public class * extends android.app.Service-keep public class * extends android.content.BroadcastReceiver-keep public class * extends android.content.ContentProvider-keep public class * extends android.app.backup.BackupAgentHelper-keep public class * extends android.preference.Preference-keep public class * extends android.view.View-keep public class com.android.vending.licensing.ILicensingService # ä¿ç•™supportä¸‹çš„æ‰€æœ‰ç±»åŠå…¶å†…éƒ¨ç±»-keep class android.support.** &#123;*;&#125; # ä¿ç•™ç»§æ‰¿çš„-keep public class * extends android.support.v4.**-keep public class * extends android.support.v7.**-keep public class * extends android.support.annotation.** # ä¿ç•™Rä¸‹é¢çš„èµ„æº-keep class **.R$* &#123;*;&#125; # ä¿ç•™æœ¬åœ°nativeæ–¹æ³•ä¸è¢«æ··æ·†-keepclasseswithmembernames class * &#123; native &lt;methods&gt;;&#125; # ä¿ç•™åœ¨Activityä¸­çš„æ–¹æ³•å‚æ•°æ˜¯viewçš„æ–¹æ³•ï¼Œ# è¿™æ ·ä»¥æ¥æˆ‘ä»¬åœ¨layoutä¸­å†™çš„onClickå°±ä¸ä¼šè¢«å½±å“-keepclassmembers class * extends android.app.Activity&#123; public void *(android.view.View);&#125; # ä¿ç•™æšä¸¾ç±»ä¸è¢«æ··æ·†-keepclassmembers enum * &#123; public static **[] values(); public static ** valueOf(java.lang.String);&#125; # ä¿ç•™æˆ‘ä»¬è‡ªå®šä¹‰æ§ä»¶ï¼ˆç»§æ‰¿è‡ªViewï¼‰ä¸è¢«æ··æ·†-keep public class * extends android.view.View&#123; *** get*(); void set*(***); public &lt;init&gt;(android.content.Context); public &lt;init&gt;(android.content.Context, android.util.AttributeSet); public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);&#125; # ä¿ç•™Parcelableåºåˆ—åŒ–ç±»ä¸è¢«æ··æ·†-keep class * implements android.os.Parcelable &#123; public static final android.os.Parcelable$Creator *;&#125; # ä¿ç•™Serializableåºåˆ—åŒ–çš„ç±»ä¸è¢«æ··æ·†-keepclassmembers class * implements java.io.Serializable &#123; static final long serialVersionUID; private static final java.io.ObjectStreamField[] serialPersistentFields; !static !transient &lt;fields&gt;; !private &lt;fields&gt;; !private &lt;methods&gt;; private void writeObject(java.io.ObjectOutputStream); private void readObject(java.io.ObjectInputStream); java.lang.Object writeReplace(); java.lang.Object readResolve();&#125; # å¯¹äºå¸¦æœ‰å›è°ƒå‡½æ•°çš„onXXEventã€**On*Listenerçš„ï¼Œä¸èƒ½è¢«æ··æ·†-keepclassmembers class * &#123; void *(**On*Event); void *(**On*Listener);&#125; # webViewå¤„ç†ï¼Œé¡¹ç›®ä¸­æ²¡æœ‰ä½¿ç”¨åˆ°webViewå¿½ç•¥å³å¯-keepclassmembers class fqcn.of.javascript.interface.for.webview &#123; public *;&#125;-keepclassmembers class * extends android.webkit.webViewClient &#123; public void *(android.webkit.WebView, java.lang.String, android.graphics.Bitmap); public boolean *(android.webkit.WebView, java.lang.String);&#125;-keepclassmembers class * extends android.webkit.webViewClient &#123; public void *(android.webkit.webView, jav.lang.String);&#125; # ç§»é™¤Logç±»æ‰“å°å„ä¸ªç­‰çº§æ—¥å¿—çš„ä»£ç ï¼Œæ‰“æ­£å¼åŒ…çš„æ—¶å€™å¯ä»¥åšä¸ºç¦logä½¿ç”¨ï¼Œè¿™é‡Œå¯ä»¥ä½œä¸ºç¦æ­¢logæ‰“å°çš„åŠŸèƒ½ä½¿ç”¨# è®°å¾—proguard-android.txtä¸­ä¸€å®šä¸è¦åŠ -dontoptimizeæ‰èµ·ä½œç”¨# å¦å¤–çš„ä¸€ç§å®ç°æ–¹æ¡ˆæ˜¯é€šè¿‡BuildConfig.DEBUGçš„å˜é‡æ¥æ§åˆ¶#-assumenosideeffects class android.util.Log &#123;# public static int v(...);# public static int i(...);# public static int w(...);# public static int d(...);# public static int e(...);#&#125; ############################################### é¡¹ç›®ä¸­ç‰¹æ®Šå¤„ç†éƒ¨åˆ†############################################## #-----------å¤„ç†åå°„ç±»--------------- #-----------å¤„ç†jsäº¤äº’--------------- #-----------å¤„ç†å®ä½“ç±»---------------# åœ¨å¼€å‘çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰çš„å®ä½“ç±»æ”¾åœ¨ä¸€ä¸ªåŒ…å†…ï¼Œè¿™æ ·æˆ‘ä»¬å†™ä¸€æ¬¡æ··æ·†å°±è¡Œäº†ã€‚#-keep public class com.ljd.example.entity.** &#123;# public void set*(***);# public *** get*();# public *** is*();#&#125; #-----------å¤„ç†ç¬¬ä¸‰æ–¹ä¾èµ–åº“--------- ä¸‹é¢ä»‹ç»å¸¸ç”¨ç¬¬ä¸‰æ–¹æ··æ·†é…ç½®ï¼ˆå·²æŒ‰å­—æ¯æ’åºï¼Œä¸å®šæœŸæ›´æ–°ï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275# AndroidEventBus-keep class org.simple.** &#123; *; &#125;-keep interface org.simple.** &#123; *; &#125;-keepclassmembers class * &#123; @org.simple.eventbus.Subscriber &lt;methods&gt;;&#125;# ç™¾åº¦åœ°å›¾ï¼ˆjaråŒ…æ¢æˆè‡ªå·±çš„ç‰ˆæœ¬ï¼Œè®°å¾—ç­¾åè¦åŒ¹é…ï¼‰-libraryjars libs/baidumapapi_v2_1_3.jar-keep class com.baidu.** &#123;*;&#125;-keep class vi.com.** &#123;*;&#125;-keep class com.sinovoice.** &#123;*;&#125;-keep class pvi.com.** &#123;*;&#125;-dontwarn com.baidu.**-dontwarn vi.com.**-dontwarn pvi.com.**# Bugly-dontwarn com.tencent.bugly.**-keep class com.tencent.bugly.** &#123;*;&#125;# ButterKnife-keep class butterknife.** &#123; *; &#125;-dontwarn butterknife.internal.**-keep class **$$ViewBinder &#123; *; &#125; -keepclasseswithmembernames class * &#123; @butterknife.* &lt;fields&gt;;&#125;-keepclasseswithmembernames class * &#123; @butterknife.* &lt;methods&gt;;&#125;# EventBus-keepattributes *Annotation*-keepclassmembers class ** &#123; @org.greenrobot.eventbus.Subscribe &lt;methods&gt;;&#125;-keep enum org.greenrobot.eventbus.ThreadMode &#123; *; &#125;# Facebook-keep class com.facebook.** &#123;*;&#125;-keep interface com.facebook.** &#123;*;&#125;-keep enum com.facebook.** &#123;*;&#125;# FastJson-dontwarn com.alibaba.fastjson.**-keep class com.alibaba.fastjson.** &#123; *; &#125;-keepattributes Signature-keepattributes *Annotation*# Fresco-keep class com.facebook.fresco.** &#123;*;&#125;-keep interface com.facebook.fresco.** &#123;*;&#125;-keep enum com.facebook.fresco.** &#123;*;&#125;# é«˜å¾·ç›¸å…³ä¾èµ–# é›†åˆåŒ…:3Dåœ°å›¾3.3.2 å¯¼èˆª1.8.0 å®šä½2.5.0-dontwarn com.amap.api.**-dontwarn com.autonavi.**-keep class com.amap.api.**&#123;*;&#125;-keep class com.autonavi.**&#123;*;&#125;# åœ°å›¾æœåŠ¡-dontwarn com.amap.api.services.**-keep class com.map.api.services.** &#123;*;&#125;# 3Dåœ°å›¾-dontwarn com.amap.api.mapcore.**-dontwarn com.amap.api.maps.**-dontwarn com.autonavi.amap.mapcore.**-keep class com.amap.api.mapcore.**&#123;*;&#125;-keep class com.amap.api.maps.**&#123;*;&#125;-keep class com.autonavi.amap.mapcore.**&#123;*;&#125;# å®šä½-dontwarn com.amap.api.location.**-dontwarn com.aps.**-keep class com.amap.api.location.**&#123;*;&#125;-keep class com.aps.**&#123;*;&#125;# å¯¼èˆª-dontwarn com.amap.api.navi.**-dontwarn com.autonavi.**-keep class com.amap.api.navi.** &#123;*;&#125;-keep class com.autonavi.** &#123;*;&#125;# Glide-keep public class * implements com.bumptech.glide.module.GlideModule-keep public enum com.bumptech.glide.load.resource.bitmap.ImageHeaderParser$** &#123; **[] $VALUES; public *;&#125;# Gson-keepattributes Signature-keepattributes *Annotation*-keep class sun.misc.Unsafe &#123; *; &#125;-keep class com.google.gson.stream.** &#123; *; &#125;# ä½¿ç”¨Gsonæ—¶éœ€è¦é…ç½®Gsonçš„è§£æå¯¹è±¡åŠå˜é‡éƒ½ä¸æ··æ·†ã€‚ä¸ç„¶Gsonä¼šæ‰¾ä¸åˆ°å˜é‡ã€‚# å°†ä¸‹é¢æ›¿æ¢æˆè‡ªå·±çš„å®ä½“ç±»-keep class com.example.bean.** &#123; *; &#125;# Jackson-dontwarn org.codehaus.jackson.**-dontwarn com.fasterxml.jackson.databind.**-keep class org.codehaus.jackson.** &#123; *;&#125;-keep class com.fasterxml.jackson.** &#123; *; &#125;# æå…‰æ¨é€-dontoptimize-dontpreverify-dontwarn cn.jpush.**-keep class cn.jpush.** &#123; *; &#125;# OkHttp-keep class com.squareup.okhttp.** &#123; *; &#125;-keep interface com.squareup.okhttp.** &#123; *; &#125;-dontwarn com.squareup.okhttp.**# OkHttp3-dontwarn com.squareup.okhttp3.**-keep class com.squareup.okhttp3.** &#123; *;&#125;-dontwarn okio.**# Okio-dontwarn com.squareup.** -dontwarn okio.** -keep public class org.codehaus.* &#123; *; &#125; -keep public class java.nio.* &#123; *; &#125;# OrmLite-keepattributes *DatabaseField* -keepattributes *DatabaseTable* -keepattributes *SerializedName* -keep class com.j256.**-keepclassmembers class com.j256.** &#123; *; &#125;-keep enum com.j256.**-keepclassmembers enum com.j256.** &#123; *; &#125;-keep interface com.j256.**-keepclassmembers interface com.j256.** &#123; *; &#125;# Realm-keep class io.realm.annotations.RealmModule-keep @io.realm.annotations.RealmModule class *-keep class io.realm.internal.Keep-keep @io.realm.internal.Keep class * &#123; *; &#125;-dontwarn javax.**-dontwarn io.realm.**# Retrofit-dontwarn retrofit2.**-keep class retrofit2.** &#123; *; &#125;-keepattributes Signature-keepattributes Exceptions# Retrolambda-dontwarn java.lang.invoke.*# RxJava RxAndroid-dontwarn sun.misc.**-keepclassmembers class rx.internal.util.unsafe.*ArrayQueue*Field* &#123; long producerIndex; long consumerIndex;&#125;-keepclassmembers class rx.internal.util.unsafe.BaseLinkedQueueProducerNodeRef &#123; rx.internal.util.atomic.LinkedQueueNode producerNode;&#125;-keepclassmembers class rx.internal.util.unsafe.BaseLinkedQueueConsumerNodeRef &#123; rx.internal.util.atomic.LinkedQueueNode consumerNode;&#125;# Universal-Image-Loader-v1.9.5-libraryjars libs/universal-image-loader-1.9.5-SNAPSHOT-with-sources.jar-dontwarn com.nostra13.universalimageloader.**-keep class com.nostra13.universalimageloader.** &#123; *; &#125;# å¾®ä¿¡æ”¯ä»˜-dontwarn com.tencent.mm.**-dontwarn com.tencent.wxop.stat.**-keep class com.tencent.mm.** &#123;*;&#125;-keep class com.tencent.wxop.stat.**&#123;*;&#125;# ä¿¡é¸½-keep public class * extends android.app.Service-keep public class * extends android.content.BroadcastReceiver-keep class com.tencent.android.tpush.** &#123;* ;&#125;-keep class com.tencent.mid.** &#123;* ;&#125;-keepattributes *Annotation*# æ–°æµªå¾®åš-keep class com.sina.weibo.sdk.* &#123; *; &#125; -keep class android.support.v4.* &#123; *; &#125; -keep class com.tencent.* &#123; *; &#125; -keep class com.baidu.* &#123; *; &#125; -keep class lombok.ast.ecj.* &#123; *; &#125; -dontwarn android.support.v4.** -dontwarn com.tencent.**s -dontwarn com.baidu.** # è®¯é£è¯­éŸ³-dontwarn com.iflytek.**-keep class com.iflytek.** &#123;*;&#125;# xUtils3.0-keepattributes Signature,Annotation-keep public class org.xutils.** &#123;public protected *;&#125;-keep public interface org.xutils.** &#123;public protected *;&#125;-keepclassmembers class * extends org.xutils.** &#123;public protected *;&#125;-keepclassmembers @org.xutils.db.annotation.* class * &#123;;&#125;-keepclassmembers @org.xutils.http.annotation. class * &#123;*;&#125;-keepclassmembers class * &#123;@org.xutils.view.annotation.Event ;&#125;# é“¶è”-dontwarn com.unionpay.**-keep class com.unionpay.** &#123; *; &#125;# å‹ç›Ÿç»Ÿè®¡åˆ†æ-keepclassmembers class * &#123; public &lt;init&gt;(org.json.JSONObject); &#125;-keepclassmembers enum com.umeng.analytics.** &#123; public static **[] values(); public static ** valueOf(java.lang.String);&#125;# å‹ç›Ÿè‡ªåŠ¨æ›´æ–°-keepclassmembers class * &#123; public &lt;init&gt;(org.json.JSONObject); &#125;-keep public class cn.irains.parking.cloud.pub.R$*&#123; public static final int *; &#125;-keep public class * extends com.umeng.**-keep class com.umeng.** &#123; *; &#125;# æ”¯ä»˜å®é’±åŒ…-dontwarn com.alipay.**-dontwarn HttpUtils.HttpFetcher-dontwarn com.ta.utdid2.**-dontwarn com.ut.device.**-keep class com.alipay.android.app.IAlixPay&#123;*;&#125;-keep class com.alipay.android.app.IAlixPay$Stub&#123;*;&#125;-keep class com.alipay.android.app.IRemoteServiceCallback&#123;*;&#125;-keep class com.alipay.android.app.IRemoteServiceCallback$Stub&#123;*;&#125;-keep class com.alipay.sdk.app.PayTask&#123; public *;&#125;-keep class com.alipay.sdk.app.AuthTask&#123; public *;&#125;-keep class com.alipay.mobilesecuritysdk.*-keep class com.ut.* åŸæ–‡åœ°å€Android Studioæ··æ·†æ¨¡æ¿åŠå¸¸ç”¨ç¬¬ä¸‰æ–¹æ··æ·†(çœ‹äº†éƒ½è¯´å¥½) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>Android Tips</category>
      </categories>
      <tags>
        <tag>Android Tips</tag>
        <tag>æ··æ·†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³WP Markdown Editorå’ŒCrayon Syntax Highlighterä¸€èµ·ä½¿ç”¨ä»£ç å—æ— æ•…å¤šä¸€è¡Œ]]></title>
    <url>%2F2016%2F06%2F17%2Fsolve-wp-markdown-editor-crayon-syntax-highlighter-one-more-line-bug%2F</url>
    <content type="text"><![CDATA[å½“ç”¨WP Markdown Editorå†™å®Œæ–‡ç« å‘å¸ƒåï¼Œå¦‚æœå­˜åœ¨ä»£ç å—çš„è¯ï¼Œåœ¨å‰å°ç”±Crayon Syntax Highlighteræ¸²æŸ“å‡ºæ¥ä¼šå­˜åœ¨å¦‚ä¸‹å›¾é—®é¢˜ã€‚ ä¹Ÿå°±æ˜¯ä»£ç å—æ— æ•…å¤šä¸€è¡Œå‡ºæ¥ï¼Œå½±å“ç¾è§‚ï¼Œç”±å®¡æŸ¥å…ƒç´ å¯ä»¥çœ‹åˆ°å¤šçš„æ˜¯ä¸€ä¸ªè½¬ä¹‰çš„ç©ºæ ¼&nbsp; å¤„ç†äº†å¤§åŠå¤©ï¼Œç»ˆäºè§£å†³äº†ï¼Œæ˜¯ç›®å‰æ¥è¯´æœ€å¥½çš„è§£å†³åŠæ³•äº†ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š åœ¨ä¸»é¢˜çš„footer.phpæœ€ååŠ ä¸Šå¦‚ä¸‹JSä»£ç å³å¯ï¼Œä»£ç ä¸€ç›®äº†ç„¶æ˜¯åœ¨åšä»€ä¹ˆã€‚123456789101112&lt;script&gt;var nodes = document.querySelectorAll('.crayon-pre'); for (var i = 0; i &lt; nodes.length; i++) &#123; var lastnode = nodes[i].lastChild; if (lastnode.innerHTML == ' ') &#123; nodes[i].removeChild(lastnode) var parent = nodes[i].parentNode.parentNode.parentNode.firstChild.childNodes[1].childNodes[1]; var parentLastNode = parent.lastChild; parent.removeChild(parentLastNode); &#125;&#125;&lt;/script&gt; å†æ¸…ä¸€ä¸‹ç¼“å­˜å»å‰å°æ¢æ¢è·¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å¤§åŠŸå‘Šæˆã€‚ åŸæ–‡åœ°å€è§£å†³WP Markdown Editorå’ŒCrayon Syntax Highlighterä¸€èµ·ä½¿ç”¨ä»£ç å—æ— æ•…å¤šä¸€è¡Œ æˆ‘çš„è‡ªåª’ä½“åšå®¢blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Blog</category>
        <category>WordPress</category>
      </categories>
      <tags>
        <tag>WordPress</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­£æ–¹æ•™åŠ¡ç³»ç»Ÿè‡ªåŠ¨è¯„æ•™]]></title>
    <url>%2F2016%2F06%2F15%2Fauto-teaching-evaluation%2F</url>
    <content type="text"><![CDATA[æœŸæœ«åˆ°äº†ï¼Œåˆåˆ°äº†è¯„æ•™çš„æ—¶åˆ»ï¼Œæ˜¯æ—¶å€™å±•ç¤ºæ›¾ç»å­¦çš„JSåŠŸåº•äº†ï¼Œè¿™é‡Œä»¥æ¨èè°·æ­Œæµè§ˆå™¨å»è¯„æ•™ï¼Œé¦–å…ˆåˆ°è¿›å…¥åˆ°è¯„æ•™é¡µé¢ï¼Œç‚¹å‡»è€å¸ˆåå¼¹å‡ºæ–°çš„é¡µé¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆCtrl + Shift + Cï¼‰ï¼Œç²˜è´´ä¸‹æ–¹çš„JSä»£ç åœ¨æ§åˆ¶å°ä¸­ï¼Œç‚¹å‡»å›è½¦å³å¯ï¼Œå…·ä½“æƒ…å†µå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 12345678910111213function autoPJXT_YONIIIIII_ZJCM() &#123; for(var j = 0; j &lt; 13; ++j) &#123; var sel = document.getElementsByTagName('select')[j]; for (var i = 0; i &lt; sel.length; i++) &#123; if (sel[i].value == "86-101") &#123; sel[i].selected = true; document.getElementsByTagName('input')[j+1].value=100.9; &#125; &#125; document.getElementById("txt_pjxx").value='è€å¸ˆå¤‡è¯¾å……åˆ†ï¼Œæˆè¯¾é‡ç‚¹çªå‡ºã€‚'; &#125; document.getElementById("Button1").click();&#125;autoPJXT_YONIIIIII_ZJCM(); å…³é—­æ§åˆ¶å°åï¼Œè¿”å›åˆ°é¡µé¢ä¸­ï¼Œå¯ä»¥å‘ç°ç»“æœéƒ½å·²è‡ªåŠ¨å†™å¥½ï¼Œå¹¶æäº¤å®Œæ¯•ï¼Œturn to next one æ˜¯ä¸æ˜¯çœäº‹å¤šäº†å“ˆã€‚]]></content>
      <categories>
        <category>JS</category>
        <category>å¥‡æ·«æŠ€å·§</category>
      </categories>
      <tags>
        <tag>å¥‡æ·«æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰View(ä¸€)(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F05%2F29%2Fcustom-view1-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ Androidç»™æˆ‘ä»¬æä¾›äº†ä¸°å¯Œçš„ç»„ä»¶åº“æ¥åˆ›å»ºä¸°å¯Œçš„UIæ•ˆæœï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†éå¸¸æ–¹ä¾¿çš„æ‹“å±•æ–¹æ³•ã€‚é€šè¿‡ç»§æ‰¿Androidçš„ç³»ç»Ÿç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸æ–¹ä¾¿åœ°æ‹“å±•ç°æœ‰åŠŸèƒ½ï¼Œåœ¨ç³»ç»Ÿç»„ä»¶çš„åŸºç¡€ä¸Šåˆ›å»ºæ–°çš„åŠŸèƒ½ï¼Œç”šè‡³å¯ä»¥ç›´æ¥è‡ªå®šä¹‰ä¸€ä¸ªæ§ä»¶ï¼Œå®ç°Androidç³»ç»Ÿæ§ä»¶æ‰€æ²¡æœ‰çš„åŠŸèƒ½ã€‚è‡ªå®šä¹‰æ§ä»¶ä½œä¸ºAndroidä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œä¸€ç›´ä»¥æ¥éƒ½è¢«åˆå­¦è€…è®¤ä¸ºæ˜¯ä»£è¡¨é«˜æ‰‹çš„è±¡å¾ã€‚å…¶å®ï¼Œè‡ªå®šä¹‰Viewå¹¶æ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆéš¾ï¼Œä¸å…¶è¯´æ˜¯åœ¨è‡ªå®šä¹‰ä¸€ä¸ªViewï¼Œä¸å¦‚è¯´æ˜¯åœ¨è®¾è®¡ä¸€ä¸ªå›¾å½¢ï¼Œåªæœ‰ç«™åœ¨ä¸€ä¸ªè®¾è®¡è€…çš„è§’åº¦ä¸Šï¼Œæ‰å¯ä»¥æ›´å¥½åœ°åˆ›å»ºè‡ªå®šä¹‰Viewã€‚æˆ‘ä»¬ä¸èƒ½æœºæ¢°åœ°è®°å¿†æ‰€æœ‰ç»˜å›¾çš„APIï¼Œè€Œæ˜¯è¦è®©è¿™äº›APIä¸ºä½ æ‰€ç”¨ï¼Œç»“åˆç°å®ä¸­ç»˜å›¾çš„æ–¹æ³•ï¼Œç”šè‡³æ˜¯PhotoShopçš„æŠ€å·§ï¼Œæ‰èƒ½è®¾è®¡å‡ºæ›´å¥½çš„è‡ªå®šä¹‰Viewã€‚ é€‚å½“åœ°ä½¿ç”¨è‡ªå®šä¹‰Viewï¼Œå¯ä»¥ä¸°å¯Œåº”ç”¨ç¨‹åºçš„ä½“éªŒæ•ˆæœï¼Œä½†æ»¥ç”¨è‡ªå®šä¹‰Viewåˆ™ä¼šå¸¦æ¥é€‚å¾—å…¶åçš„æ•ˆæœã€‚ä¸€ä¸ªè®©ç”¨æˆ·è§‰å¾—ç†Ÿæ‚‰å¾—æ§ä»¶ï¼Œæ‰æ˜¯ä¸€ä¸ªå¥½çš„æ§ä»¶ã€‚å¦‚æœä¸€å‘³è¿½æ±‚ç‚«é…·çš„æ•ˆæœè€Œåˆ›å»ºè‡ªå®šä¹‰Viewï¼Œåˆ™ä¼šè®©ç”¨æˆ·è§‰å¾—åè€Œä¸å®ã€‚è€Œä¸”ï¼Œåœ¨ç³»ç»ŸåŸç”Ÿæ§ä»¶å¯ä»¥å®ç°åŠŸèƒ½çš„åŸºç¡€ä¸Šï¼Œç³»ç»Ÿä¹Ÿæä¾›äº†ä¸»é¢˜ã€å›¾ç‰‡èµ„æºã€å„ç§é£æ ¼æ¥åˆ›å»ºä¸°å¯Œçš„UIã€‚è¿™äº›æ§ä»¶éƒ½æ˜¯ç»è¿‡äº†Androidä¸€ä»£ä»£ç‰ˆæœ¬è¿­ä»£åçš„äº§ç‰©ã€‚å³ä½¿è¿™æ ·ï¼Œåœ¨å¦‚ä»Šçš„ç‰ˆæœ¬ä¸­ï¼Œä¾ç„¶å­˜åœ¨ä¸å°‘Bugï¼Œæ›´ä¸è¦ææˆ‘ä»¬è‡ªå®šä¹‰çš„Viewäº†ã€‚ç‰¹åˆ«æ˜¯ç°åœ¨Android ROMçš„å¤šæ ·æ€§ï¼Œå¯¼è‡´Androidçš„é€‚é…å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œå¾ˆéš¾ä¿è¯è‡ªå®šä¹‰Viewåœ¨å…¶ä»–æ‰‹æœºä¸Šä¹Ÿèƒ½è¾¾åˆ°ä½ æƒ³è¦çš„æ•ˆæœã€‚ å½“ç„¶ï¼Œäº†è§£Androidç³»ç»Ÿè‡ªå®šä¹‰Viewçš„è¿‡ç¨‹ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬äº†è§£ç³»ç»Ÿçš„ç»˜å›¾æœºæ™ºã€‚åŒæ—¶ï¼Œåœ¨é€‚å½“çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰Viewæ¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºæ›´ä½³çµæ´»çš„å¸ƒå±€ã€‚ åœ¨è‡ªå®šä¹‰Viewæ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå»é‡å†™onDraw()æ–¹æ³•æ¥æŒ¥ç€Viewçš„æ˜¾ç¤ºå†…å®¹ã€‚å¦‚æœè¯¥Viewè¿˜éœ€è¦ä½¿ç”¨wrap_contentå±æ€§ï¼Œé‚£ä¹ˆè¿˜å¿…é¡»å†™onMeasure()æ–¹æ³•ã€‚å¦å¤–ï¼Œé€šè¿‡è‡ªå®šä¹‰attrså±æ€§ï¼Œè¿˜å¯ä»¥è®¾ç½®æ–°çš„å±æ€§é…ç½®å€¼ã€‚ åœ¨Viewä¸­é€šå¸¸æœ‰ä»¥ä¸‹ä¸€äº›æ¯”è¾ƒé‡è¦çš„å›è°ƒæ–¹æ³•ã€‚ onFinishInflate()ï¼šä»XMLåŠ è½½ç»„ä»¶åå›è°ƒã€‚ onSizeChanged()ï¼šç»„ä»¶å¤§å°æ”¹å˜æ—¶å›è°ƒã€‚ onMeasure()ï¼šå›è°ƒè¯¥æ–¹æ³•æ¥è¿›è¡Œæµ‹é‡ã€‚ onLayout()ï¼šå›è°ƒè¯¥æ–¹æ³•æ¥ç¡®å®šæ˜¾ç¤ºçš„ä½ç½®ã€‚ onTouchEvent()ï¼šç›‘å¬åˆ°è§¦æ‘¸äº‹ä»¶æ—¶å›è°ƒã€‚ å½“ç„¶ï¼Œåˆ›å»ºè‡ªå®šä¹‰Viewçš„æ—¶å€™ï¼Œå¹¶ä¸éœ€è¦é‡å†™æ‰€æœ‰çš„æ–¹æ³•ï¼Œåªéœ€è¦é‡å†™ç‰¹å®šæ¡ä»¶çš„å›è°ƒæ–¹æ³•å³å¯ã€‚è¿™ä¹Ÿæ˜¯Androidæ§ä»¶æ¶æ„çµæ´»æ€§çš„ä½“ç°ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§æ–¹æ³•æ¥å®ç°è‡ªå®šä¹‰çš„æ§ä»¶ã€‚ å¯¹ç°æœ‰æ§ä»¶è¿›è¡Œæ‹“å±• é€šè¿‡ç»„åˆæ¥å®ç°æ–°çš„æ§ä»¶ é‡å†™Viewæ¥å®ç°å…¨æ–°çš„æ§ä»¶ å¯¹ç°æœ‰æ§ä»¶è¿›è¡Œæ‹“å±• è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„è‡ªå®šä¹‰Viewæ–¹æ³•ï¼Œå®ƒå¯ä»¥åœ¨åŸç”Ÿæ§ä»¶çš„åŸºç¡€ä¸Šè¿›è¡Œæ‹“å±•ï¼Œå¢åŠ æ–°çš„åŠŸèƒ½ã€ä¿®æ”¹æ˜¾ç¤ºçš„UIç­‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å†åŸç”Ÿæ§ä»¶çš„åŸºç¡€ä¸Šè¿›è¡Œæ‹“å±•ï¼Œå¢åŠ æ–°çš„åŠŸèƒ½ã€ä¿®æ”¹æ˜¾ç¤ºçš„UIç­‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨onDraw()æ–¹æ³•ä¸­å¯¹åŸç”Ÿæ§ä»¶è¡Œä¸ºè¿›è¡Œæ‹“å±•ã€‚ ä¸‹é¢ä»¥ä¸€ä¸ªTextViewä¸ºä¾‹ï¼Œæ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨æ‹“å±•åŸç”Ÿæ§ä»¶çš„æ–¹æ³•åˆ›å»ºæ–°çš„æ§ä»¶ã€‚æ¯”å¦‚æƒ³è®©ä¸€ä¸ªTextViewçš„èƒŒæ™¯æ›´ä½³ä¸°å¯Œï¼Œç»™å…¶å¤šç»˜åˆ¶å‡ å±‚èƒŒæ™¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹å¦‚ä½•å®ç°è¿™ä¸ªæ•ˆæœï¼ŒåŸç”Ÿçš„TextViewä½¿ç”¨onDraw()æ–¹æ³•ç»˜åˆ¶è¦æ˜¾ç¤ºçš„æ–‡å­—ã€‚å½“ç»§æ‰¿äº†ç³»ç»Ÿçš„TextViewä¹‹åï¼Œå¦‚æœä¸é‡å†™å…¶onDraw()æ–¹æ³•ï¼Œåˆ™ä¸ä¼šä¿®æ”¹TextViewçš„ä»»ä½•æ•ˆæœã€‚å¯ä»¥è®¤ä¸ºåœ¨è‡ªå®šä¹‰çš„TextViewä¸­è°ƒç”¨TextViewç±»çš„onDraw()æ–¹æ³•æ¥ç»˜åˆ¶æ˜¾ç¤ºçš„æ–‡å­—ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234@Overrideprotected void onDraw(Canvas canvas) &#123; super.onDraw(canvas);&#125; ç¨‹åºè°ƒç”¨super.onDraw(canvas)æ–¹æ³•æ¥å®ç°åŸç”Ÿæ§ä»¶çš„åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨åŠ¨ç”¨super.onDraw()æ–¹æ³•ä¹‹å‰å’Œä¹‹åï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å®ç°è‡ªå·±çš„é€»è¾‘ï¼Œåˆ†åˆ«åœ¨ç³»ç»Ÿç»˜åˆ¶æ–‡å­—å‰åï¼Œå®Œæˆè‡ªå·±çš„æ“ä½œï¼Œå³å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456@Overrideprotected void onDraw(Canvas canvas) &#123; //åœ¨è°ƒçˆ¶ç±»æ–¹æ³•å‰ï¼Œå®ç°è‡ªå·±çš„é€»è¾‘ï¼Œå¯¹TextViewæ¥è¯´å³æ˜¯åœ¨ç»˜åˆ¶æ–‡æœ¬å†…å®¹å‰ super.onDraw(canvas); //åœ¨è°ƒçˆ¶ç±»æ–¹æ³•åï¼Œå®ç°è‡ªå·±çš„é€»è¾‘ï¼Œå¯¹TextViewæ¥è¯´å³æ˜¯åœ¨ç»˜åˆ¶æ–‡æœ¬å†…å®¹å&#125; ä»¥ä¸Šå°±æ˜¯é€šè¿‡æ”¹å˜æ§ä»¶çš„ç»˜åˆ¶è¡Œä¸ºåˆ›å»ºè‡ªå®šä¹‰Viewçš„æ€è·¯ã€‚æœ‰äº†ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆè½»æ¾åœ°å®ç°ä¸Šå›¾æ‰€ç¤ºçš„è‡ªå®šä¹‰TextViewäº†ã€‚æˆ‘ä»¬åœ¨æ„é€ æ–¹æ³•ä¸­å®Œæˆå¿…è¦å¯¹è±¡çš„åˆå§‹åŒ–å·¥ä½œï¼Œå¦‚åˆå§‹åŒ–ç”»ç¬”ç­‰ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456mPaint1 = new Paint();mPaint1.setColor(Color.BLUE);mPaint1.setStyle(Paint.Style.FILL);mPaint2 = new Paint();mPaint2.setColor(Color.YELLOW);mPaint2.setStyle(Paint.Style.FILL); è€Œä»£ç ä¸­æœ€é‡è¦çš„éƒ¨åˆ†åˆ™æ˜¯åœ¨onDraw()æ–¹æ³•ä¸­ï¼Œä¸ºäº†æ”¹å˜åŸç”Ÿçš„ç»˜åˆ¶è¡Œä¸ºï¼Œåœ¨ç³»ç»Ÿè°ƒç”¨super.onDraw(canvas)æ–¹æ³•å‰ï¼Œä¹Ÿå°±æ˜¯åœ¨ç»˜åˆ¶æ–‡å­—ä¹‹å‰ï¼Œç»˜åˆ¶ä¸¤ä¸ªä¸åŒå¤§å°çš„çŸ©å½¢ï¼Œå½¢æˆä¸€ä¸ªé‡å æ•ˆæœï¼Œå†è®©ç³»ç»Ÿè°ƒç”¨super.onDraw(canvas)æ–¹æ³•ï¼Œæ‰§è¡Œç»˜åˆ¶æ–‡å­—çš„å·¥ä½œã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±é€šè¿‡æ”¹å˜æ§ä»¶ç»˜åˆ¶è¡Œä¸ºï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ§ä»¶ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678910111213141516171819202122//ç»˜åˆ¶å¤–å±‚çŸ©å½¢canvas.drawRect( 0, 0, getMeasuredWidth(), getMeasuredHeight(), mPaint1);//ç»˜åˆ¶å†…å±‚çŸ©å½¢canvas.drawRect( 10, 10, getMeasuredWidth() - 10, getMeasuredHeight() - 10, mPaint2);canvas.save();//ç»˜åˆ¶æ–‡å­—å‰å¹³ç§»10åƒç´ canvas.translate(10,0);//çˆ¶ç±»å®Œæˆçš„æ–¹æ³•ï¼Œå³ç»˜åˆ¶æ–‡æœ¬super.onDraw(canvas);canvas.restore(); ä¸‹é¢å†æ¥çœ‹ä¸€ä¸ªç¨å¾®å¤æ‚ä¸€ç‚¹çš„TextViewã€‚åœ¨å‰é¢ä¸€ä¸ªå®ä¾‹ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨äº†Canvaså¯¹è±¡æ¥è¿›è¡Œå›¾åƒçš„ç»˜åˆ¶ï¼Œç„¶ååˆ©ç”¨Androidçš„ç»˜å›¾æœºåˆ¶ï¼Œå¯ä»¥ç»˜åˆ¶å‡ºæ›´å¤æ‚ä¸°å¯Œçš„å›¾åƒã€‚æ¯”å¦‚å¯ä»¥åˆ©ç”¨LinearGradient Shader å’ŒMatrixæ¥å®ç°ä¸€ä¸ªåŠ¨æ€çš„æ–‡å­—é—ªåŠ¨æ•ˆæœï¼Œç¨‹åºè¿è¡Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ è¦æƒ³å®ç°è¿™ä¸ªæ•ˆæœï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨Androidä¸­Paintå¯¹è±¡çš„Shaderæ¸²æŸ“å™¨ã€‚é€šè¿‡è®¾ç½®ä¸€ä¸ªä¸æ–­å˜åŒ–çš„LinearGradientï¼Œå¹¶ä½¿ç”¨å¸¦æœ‰è¯¥å±æ€§çš„Paintå¯¹è±¡æ¥ç»˜åˆ¶è¦æ˜¾ç¤ºçš„æ–‡å­—ã€‚é¦–å…ˆï¼Œåœ¨onSizeChanged()æ–¹æ³•ä¸­è¿›è¡Œä¸€äº›å¯¹è±¡çš„åˆå§‹åŒ–å·¥ä½œï¼Œå¹¶æ ¹æ®Viewçš„å®½åº¦è®¾ç½®ä¸€ä¸ªLinearGradientæ¸å˜æ¸²æŸ“å™¨ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 123456789101112131415161718192021222324@Overrideprotected void onSizeChanged(int w, int h, int oldw, int oldh) &#123; super.onSizeChanged(w, h, oldw, oldh); if (mViewWidth == 0) &#123; mViewWidth = getMeasuredWidth(); if (mViewWidth &gt; 0) &#123; mPaint = getPaint(); mLinearGradient = new LinearGradient( 0, 0, mViewWidth, 0, new int[]&#123; Color.BLUE, 0xffffff, Color.BLUE &#125;, null, Shader.TileMode.CLAMP); mPaint.setShader(mLinearGradient); mGradientMatrix = new Matrix(); &#125; &#125;&#125; å…¶ä¸­æœ€å…³é”®çš„å°±æ˜¯ä½¿ç”¨getPaint()æ–¹æ³•è·å–å½“å‰ç»˜åˆ¶TextViewçš„Paintå¯¹è±¡ï¼Œå¹¶ç»™è¿™ä¸ªPaintå¯¹è±¡è®¾ç½®åŸç”ŸTextViewæ²¡æœ‰çš„LinearGradientå±æ€§ã€‚æœ€åï¼Œåœ¨onDraw()æ–¹æ³•ä¸­ï¼Œé€šè¿‡çŸ©å½¢çš„æ–¹å¼æ¥ä¸æ–­å¹³ç§»æ¸å˜æ•ˆæœï¼Œä»è€Œåœ¨ç»˜åˆ¶æ–‡å­—æ—¶ï¼Œäº§ç”ŸåŠ¨æ€çš„é—ªåŠ¨æ•ˆæœï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12345678910111213@Overrideprotected void onDraw(Canvas canvas) &#123; super.onDraw(canvas); if (mGradientMatrix != null) &#123; mTranslate += mViewWidth / 5; if (mTranslate &gt; 2 * mViewWidth) &#123; mTranslate = -mViewWidth; &#125; mGradientMatrix.setTranslate(mTranslate, 0); mLinearGradient.setLocalMatrix(mGradientMatrix); postInvalidateDelayed(100); &#125;&#125; åŸæ–‡åœ°å€è‡ªå®šä¹‰View(ä¸€)(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</category>
      </categories>
      <tags>
        <tag>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ViewGroupçš„æµ‹é‡ä¸ç»˜åˆ¶(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F05%2F28%2Fmeasure-draw-viewGroup-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ ViewGroupçš„æµ‹é‡ ä¹‹å‰åˆ†æä¸­è¯´äº†ï¼ŒViewGroupä¼šå»ç®¡ç†å…¶å­Viewï¼Œå…¶ä¸­ä¸€ä¸ªç®¡ç†é¡¹ç›®å°±æ˜¯è´Ÿè´£å­Viewçš„æ˜¾ç¤ºå¤§å°ã€‚å½“ViewGroupçš„å¤§å°ä¸ºwrap_contentæ—¶ï¼ŒViewGroupå°±éœ€è¦å¯¹å­Viewè¿›è¡Œéå†ï¼Œä»¥ä¾¿è·å¾—æ‰€æœ‰å­Viewçš„å¤§å°ï¼Œä»è€Œæ¥å†³å®šè‡ªå·±çš„å¤§å°ã€‚è€Œåœ¨å…¶ä»–æ¨¡å¼ä¸‹åˆ™ä¼šé€šè¿‡å…·ä½“çš„æŒ‡å®šå€¼æ¥è®¾ç½®è‡ªèº«çš„å¤§å°ã€‚ ViewGroupåœ¨æµ‹é‡æ—¶é€šè¿‡éå†æ‰€æœ‰å­Viewï¼Œä»è€Œè°ƒç”¨å­Viewçš„Measureæ–¹æ³•æ¥è·å¾—æ¯ä¸€ä¸ªå­Viewçš„æµ‹é‡ç»“æœï¼Œå‰é¢æ‰€è¯´çš„å¯¹Viewçš„æµ‹é‡ï¼Œå°±æ˜¯åœ¨è¿™é‡Œè¿›è¡Œçš„ã€‚ å½“å­Viewæµ‹é‡å®Œæ¯•åï¼Œå°±éœ€è¦å°†å­Viewæ”¾åˆ°åˆé€‚çš„ä½ç½®ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯Viewçš„Layoutè¿‡ç¨‹ï¼ŒåŒæ ·æ˜¯ä½¿ç”¨éå†æ¥è°ƒç”¨å­Viewçš„Layoutæ–¹æ³•ï¼Œå¹¶åˆ¶å®šå…¶å…·ä½“æ˜¾ç¤ºçš„ä½ç½®ï¼Œä»è€Œæ¥å†³å®šå…¶å¸ƒå±€ä½ç½®ã€‚ åœ¨è‡ªå®šä¹‰ViewGroupæ—¶ï¼Œé€šå¸¸ä¼šå»é‡å†™onLayout()æ–¹æ³•æ¥æ§åˆ¶å…¶å­Viewæ˜¾ç¤ºä½ç½®çš„é€»è¾‘ã€‚åŒæ ·ï¼Œå¦‚æœéœ€è¦æ”¯æŒwrap_contentå±æ€§ï¼Œé‚£ä¹ˆå®ƒè¿˜éœ€è¦é‡å†™onMeasure()æ–¹æ³•ï¼Œè¿™ç‚¹ä¸Viewæ˜¯ç›¸åŒçš„ã€‚ ViewGroupçš„ç»˜åˆ¶ ViewGroupé€šå¸¸æƒ…å†µä¸‹ä¸éœ€è¦ç»˜åˆ¶ï¼Œå› ä¸ºå®ƒæœ¬èº«å°±æ²¡æœ‰éœ€è¦ç»˜åˆ¶çš„ä¸œè¥¿ï¼Œå¦‚æœä¸æ˜¯æŒ‡å®šäº†ViewGroupçš„èƒŒæ™¯é¢œè‰²ï¼Œé‚£ä¹ˆViewGroupçš„onDraw()æ–¹æ³•éƒ½ä¸ä¼šè¢«è°ƒç”¨ã€‚ä½†æ˜¯ï¼ŒViewGroupä¼šè°ƒç”¨dispatchDraw()æ–¹æ³•æ¥ç»˜åˆ¶å…¶å­Viewï¼Œå…¶è¿‡ç¨‹åŒæ ·æ˜¯é€šè¿‡éå†æ‰€æœ‰å­Viewï¼Œå¹¶è°ƒç”¨å­Viewçš„ç»˜åˆ¶æ–¹æ³•æ¥å®Œæˆç»˜åˆ¶å·¥ä½œã€‚ åŸæ–‡åœ°å€ViewGroupçš„æµ‹é‡ä¸ç»˜åˆ¶(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</category>
      </categories>
      <tags>
        <tag>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Viewçš„ç»˜åˆ¶(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F05%2F20%2Fdraw-view-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ å½“æµ‹é‡å¥½äº†ä¸€ä¸ªViewä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®€å•åœ°é‡å†™onDraw()æ–¹æ³•ï¼Œå¹¶åœ¨Canvaså¯¹è±¡ä¸Šæ¥ç»˜åˆ¶æ‰€éœ€è¦çš„å›¾å½¢ã€‚é¦–å…ˆæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹åˆ©ç”¨ç³»ç»Ÿ2Dç»˜å›¾APIæ‰€å¿…é¡»è¦ä½¿ç”¨åˆ°çš„Canvaså¯¹è±¡ã€‚ è¦æƒ³åœ¨Androidçš„ç•Œé¢ä¸­ç»˜åˆ¶ç›¸åº”çš„å›¾åƒï¼Œå°±å¿…é¡»åœ¨Canvasä¸Šè¿›è¡Œç»˜åˆ¶ã€‚Canvaså°±åƒæ˜¯ä¸€ä¸ªç”»æ¿ï¼Œä½¿ç”¨Paintå°±å¯ä»¥åœ¨ä¸Šé¢ä½œç”»äº†ã€‚é€šå¸¸éœ€è¦é€šè¿‡ç»§æ‰¿Viewå¹¶é‡å†™å®ƒçš„onDraw()æ–¹æ³•æ¥å®Œæˆç»˜å›¾ã€‚ é‚£ä»€ä¹ˆæ˜¯Canvaså‘¢ï¼Ÿä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨é‡å†™Viewç±»ä¸­çš„onDraw()æ–¹æ³•æ¥ç»˜å›¾ï¼ŒonDraw()ä¸­æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯Canvas canvaså¯¹è±¡ã€‚ä½¿ç”¨è¿™ä¸ªCanvaså¯¹è±¡å°±å¯ä»¥è¿›è¡Œç»˜å›¾äº†ï¼Œè€Œåœ¨å…¶ä»–åœ°æ–¹ï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨ä»£ç åˆ›å»ºä¸€ä¸ªCanvaså¯¹è±¡ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1Canvas canvas = new Canvas(bitmap); å½“åˆ›å»ºä¸€ä¸ªCanvaså¯¹è±¡æ—¶ï¼Œä¸ºä»€ä¹ˆè¦ä¼ è¿›å»ä¸€ä¸ªbitmapå¯¹è±¡å‘¢ï¼Ÿå¦‚æœä¸ä¼ è¿›å…¥ä¸€ä¸ªbitmapå¯¹è±¡ï¼ŒIDEç¼–è¯‘è™½ç„¶ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯ä¸€èˆ¬æˆ‘ä»¬ä¸ä¼šè¿™æ ·åšã€‚è¿™æ˜¯å› ä¸ºä¼ è¿›å»çš„bitmapä¸é€šè¿‡è¿™ä¸ªbitmapåˆ›å»ºçš„Canvasç”»å¸ƒæ˜¯ç´§ç´§è”ç³»åœ¨ä¸€èµ·çš„ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¹‹ä¸ºè£…è½½ç”»å¸ƒã€‚è¿™ä¸ªbitmapç”¨æ¥å­˜å‚¨æ‰€æœ‰ç»˜åˆ¶åœ¨Canvasä¸Šçš„åƒç´ ä¿¡æ¯ã€‚æ‰€ä»¥å½“ä½ é€šè¿‡è¿™ç§æ–¹å¼åˆ›å»ºäº†Canvaså¯¹è±¡åï¼Œåé¢è°ƒç”¨æ‰€æœ‰çš„Canvas.drawXXXæ–¹æ³•éƒ½å‘ç”Ÿåœ¨è¿™ä¸ªbitmapä¸Šã€‚å¦‚æœåœ¨Viewç±»çš„onQraw()æ–¹æ³•ä¸­ï¼Œé€šè¿‡ä¸‹é¢è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°canvasä¸bitmapç›´æ¥çš„å…³ç³»ã€‚é¦–å…ˆåœ¨onDrawæ–¹æ³•ä¸­ç»˜åˆ¶ä¸¤ä¸ªbitmapï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12canvas.drawBiimap(bitmap1, 0, 0, null);canvas.drawBitmap(bitmap2, 0, 0, null); è€Œå¯¹äºbitmap2ï¼Œæˆ‘ä»¬å°†å®ƒè£…è½½åˆ°å¦ä¸€ä¸ªCanvaså¯¹è±¡ä¸­ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1Canvas mCanvas=new Canvas(bitmap2); åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨Canvaså¯¹è±¡çš„ç»˜å›¾æ–¹æ³•åœ¨è£…è½½bitmap2çš„Canvaså¯¹è±¡ä¸Šè¿›è¡Œç»˜å›¾ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1mCanvas.drawXXX é€šè¿‡mCanvaså°†ç»˜åˆ¶æ•ˆæœä½œç”¨åœ¨äº†bitmap2ä¸Šï¼Œå†åˆ·æ–°Viewçš„æ—¶å€™ï¼Œå°±ä¼šå‘ç°é€šè¿‡onDraw()æ–¹æ³•ç”»å‡ºæ¥çš„bitmap2å·²ç»å‘ç”Ÿå˜åŒ–ï¼Œè¿™å°±æ˜¯å› ä¸ºbitmap2æ‰¿è½½äº†åœ¨mCanvasä¸Šæ‰€è¿›è¡Œçš„ç»˜å›¾æ“ä½œã€‚è™½ç„¶æˆ‘ä»¬ä¹Ÿä½¿ç”¨äº†Canvasçš„ç»˜åˆ¶APIï¼Œä½†å…¶å®å¹¶æ²¡æœ‰å°†å›¾å½¢ç›´æ¥ç»˜åˆ¶åœ¨onDraw()æ–¹æ³•æŒ‡å®šçš„é‚£å—ç”»å¸ƒä¸Šï¼Œè€Œæ˜¯é€šè¿‡æ”¹å˜bitmapï¼Œç„¶åè®©Viewé‡ç»˜ï¼Œä»è€Œæ˜¾ç¤ºæ”¹å˜ä¹‹åçš„bitmapã€‚è¿™ä¸€è¿‡ç¨‹å¯¹åˆå­¦è€…æ¥è¯´å¯èƒ½éå¸¸éš¾ä»¥ç†è§£ï¼Œä½†æ˜¯å´éå¸¸é‡è¦ï¼Œè¿™å¯¹åç»­è¿›è¡Œæ·±å…¥åœ°å­¦ä¹ å’Œæå‡ç»˜å›¾æŠ€å·§éå¸¸æœ‰å¸®åŠ©ã€‚ åœ¨ç†è§£äº†Canvaså¯¹è±¡åï¼Œæˆ‘ä»¬å°±å¯ä»¥è°ƒç”¨Canvasæ‰€æä¾›çš„ç»˜å›¾æ–¹æ³•ï¼Œæ¥ç»˜åˆ¶è‡ªå·±æƒ³è¦çš„å›¾å½¢äº†ã€‚ä¸ç®¡æ˜¯å¤šä¹ˆå¤æ‚ã€ç²¾ç¾çš„æ§ä»¶ï¼Œå®ƒéƒ½å¯ä»¥è¢«æ‹†åˆ†æˆä¸€ä¸ªä¸ªå°çš„å›¾å½¢å•å…ƒï¼Œæˆ‘ä»¬è¦åšçš„æ­£æ˜¯æ‰¾åˆ°è¿™äº›å°çš„ç»˜å›¾å•å…ƒå¹¶å°†å®ƒä»¬ç»˜åˆ¶å‡ºæ¥ã€‚ åŸæ–‡åœ°å€Viewçš„ç»˜åˆ¶(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</category>
      </categories>
      <tags>
        <tag>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Viewçš„æµ‹é‡(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F05%2F20%2Fmeasure-view-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ Androidç³»ç»Ÿåœ¨ç»˜åˆ¶Viewä¹‹å‰ä¹Ÿå¿…é¡»å¯¹Viewè¿›è¡Œæµ‹é‡ï¼Œå³å‘Šè¯‰ç³»ç»Ÿè¯¥ç”»ä¸€ä¸ªå¤šå¤§çš„Viewã€‚è¿™ä¸ªè¿‡ç¨‹åœ¨onMeasure()æ–¹æ³•ä¸­è¿›è¡Œã€‚ Androidç³»ç»Ÿç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç‰›é€¼çš„ç±»â€”-MeasureSpecç±»ï¼Œæˆ‘ä»¬å¯é€šè¿‡å®ƒæ¥æµ‹é‡Viewã€‚MeasureSpecæ˜¯ä¸€ä¸ª32ä½çš„å€¼ï¼Œå…¶ä¸­é«˜ä¸¤ä½ä¸ºæµ‹é‡çš„æ¨¡å¼ï¼Œä½30ä½ä¸ºæµ‹é‡çš„å¤§å°ï¼Œåœ¨è®¡ç®—ä¸­ä½¿ç”¨ä½è¿ç®—å½“ç„¶æ˜¯æé«˜è¿è¡Œé€Ÿç‡äº†ã€‚ æµ‹é‡æ¨¡å¼ä¸ºä»¥ä¸‹ä¸‰ç§ã€‚ EXACTLY å³ç²¾ç¡®æ¨¡å¼ï¼Œå½“æˆ‘ä»¬å°†æ§ä»¶çš„layout_widthæˆ–layout_heightå±æ€§è®¾å®šä¸ºå…·ä½“å€¼æ—¶ï¼Œæ¯”å¦‚android:layout_width=â€100dpâ€ï¼Œæˆ–è€…æŒ‡å®šä¸ºmatch_parentå±æ€§æ—¶ï¼ˆå æ®çˆ¶Viewçš„å¤§å°ï¼‰ï¼Œç³»ç»Ÿä½¿ç”¨çš„æ˜¯EXACTLYæ¨¡å¼ã€‚ AT_MOST å³æœ€å¤§æ¨¡å¼ï¼Œå½“æ§ä»¶çš„layout_widthæˆ–layout_heightå±æ€§è®¾å®šä¸ºwrap_contentæ—¶ï¼Œæ§ä»¶å¤§å°ä¸€èˆ¬éšç€æ§ä»¶çš„å­æ§ä»¶æˆ–å†…å®¹çš„å˜åŒ–è€Œå˜åŒ–ï¼Œæ­¤æ—¶æ§ä»¶çš„å°ºå¯¸åªè¦ä¸è¶…è¿‡çˆ¶æ§ä»¶å…è®¸çš„æœ€å¤§å°ºå¯¸å³å¯ã€‚ UNSPECIFIED è¿™ä¸ªå±æ€§æ¯”è¾ƒå¥‡æ€ªâ€”-å®ƒä¸æŒ‡å®šå…¶å¤§å°æµ‹é‡æ¨¡å¼ï¼ŒViewæƒ³å¤šå¤§å°±å¤šå¤§ï¼Œé€šå¸¸åœ¨è‡ªå®šä¹‰Viewæ—¶æ‰ä¼šä½¿ç”¨ã€‚ Viewç±»é»˜è®¤çš„onMeasure()æ–¹æ³•åªæ”¯æŒEXACTLYæ¨¡å¼ï¼Œæ‰€ä»¥å¦‚æœåœ¨è‡ªå®šä¹‰æ§ä»¶çš„æ—¶å€™ä¸é‡å†™onMeasure()æ–¹æ³•çš„è¯ï¼Œå°±åªèƒ½ä½¿ç”¨EXACTLYæ¨¡å¼ã€‚æ§ä»¶å¯ä»¥å“åº”ä½ æŒ‡å®šçš„å…·ä½“å®½é«˜å€¼æˆ–è€…æ˜¯match_parentå±æ€§ã€‚è€Œå¦‚æœè¦è®©è‡ªå®šä¹‰Viewæ”¯æŒwrap_contentå±æ€§ï¼Œé‚£å°±å¿…é¡»é‡å†™onMeasure()æ–¹æ³•æ¥æŒ‡å®šwrap_contentæ—¶çš„å¤§å°ã€‚ é€šè¿‡MeasureSpecè¿™ä¸€ä¸ªç±»ï¼Œæˆ‘ä»¬å°±è·å–äº†Viewçš„æµ‹é‡æ¨¡å¼å’ŒViewæƒ³è¦ç»˜åˆ¶çš„å¤§å°ã€‚æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ§åˆ¶Viewæœ€åæ˜¾ç¤ºçš„å¤§å°ã€‚ ä¸‹é¢æ¥çœ‹ä¸€ä¸ªç®€å•çš„å®ä¾‹æ¼”ç¤ºå¦‚ä½•è¿›è¡ŒViewçš„æµ‹é‡ã€‚é¦–å…ˆè¦é‡å†™onMeasure()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234@Overrideprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123; super.onMeasure(widthMeasureSpec, heightMeasureSpec);&#125; åœ¨IDEä¸­æŒ‰ä½Ctrl+é¼ æ ‡å·¦é”®ç‚¹å‡»onMeasureæŸ¥çœ‹æºä»£ç ï¼Œå¯ä»¥å‘ç°ç³»ç»Ÿæœ€ç»ˆä¼šè°ƒç”¨setMeasuredDimension(int measuredWidth, int measuredHeight)æ–¹æ³•å°†æµ‹é‡åçš„å®½é«˜å€¼è®¾ç½®è¿›å»ï¼Œä»è€Œå®Œæˆæµ‹é‡å·¥ä½œã€‚æ‰€ä»¥åœ¨é‡å†™onMeasure()æ–¹æ³•åï¼Œæœ€é‡è¦æœ€çš„å·¥ä½œå°±æ˜¯æŠŠæµ‹é‡åçš„å®½é«˜å€¼ä½œä¸ºå‚æ•°ä¼ ç»™setMeasuredDimension()æ–¹æ³•ã€‚ é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œé‡å†™çš„onMeasure()æ–¹æ³•ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 1234@Overrideprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123; setMeasuredDimension(measureWidth(widthMeasureSpec), measureHeight(heightMeasureSpec));&#125; åœ¨onMeasure()æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨è‡ªå®šä¹‰çš„measureWidth()æ–¹æ³•å’ŒmeasureHeight()æ–¹æ³•åˆ†åˆ«å¯¹å®½é«˜è¿›è¡Œé‡å®šä¹‰ï¼Œå‚æ•°åˆ™æ˜¯å®½å’Œé«˜çš„MeasureSpecå¯¹è±¡ï¼ŒMeasureSpecå¯¹è±¡æ ¹æ®å‰é¢çš„ä»‹ç»å¯ä»¥çŸ¥é“å®ƒåŒ…å«äº†æµ‹é‡çš„æ¨¡å¼å’Œæµ‹é‡å€¼çš„å¤§å°ã€‚ ä¸‹é¢æˆ‘ä»¬å°±ä»¥measureWidth()æ–¹æ³•ä¸ºä¾‹ï¼Œè®²è§£å¦‚ä½•è‡ªå®šä¹‰æµ‹é‡å€¼ã€‚ ç¬¬ä¸€æ­¥ï¼Œä»MeasureSpecå¯¹è±¡ä¸­æå–å‡ºå…·ä½“çš„æµ‹é‡æ¨¡å¼å’Œå¤§å°ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 12int specMode = MeasureSpec.getMode(widthMeasureSpec);int specSize = MeasureSpec.getSize(widthMeasureSpec); æ¥ä¸‹æ¥é€šè¿‡åˆ¤æ–­æµ‹é‡çš„æ¨¡å¼ï¼Œç»™å‡ºä¸åŒçš„æµ‹é‡å€¼ã€‚å½“specModeä¸ºEXACTLYæ—¶ï¼Œç›´æ¥ä½¿ç”¨æŒ‡å®šçš„specSizeå³å¯ï¼›å½“specModeä¸ºå…¶ä»–ä¸¤ç§æ¨¡å¼æ—¶ï¼Œéœ€è¦ç»™å®ƒä¸€ä¸ªé»˜è®¤çš„å¤§å°ã€‚ç‰¹åˆ«åœ°ï¼Œå¦‚æœæŒ‡å®šwrap_contentå±æ€§ï¼Œå³AT_MOSTæ¨¡å¼ï¼Œåˆ™éœ€è¦æå–å‡ºæˆ‘ä»¬æŒ‡å®šçš„å¤§å°ä¸specSizeä¸­æœ€å°çš„ä¸€ä¸ªæ¥ä½œä¸ºæœ€åçš„æµ‹é‡å€¼ï¼ŒmeasureWidth()æ–¹æ³•çš„ä»£ç å¦‚ä¸‹ã€‚è¿™æ®µä»£ç åŸºæœ¬å¯ä»¥ä½œä¸ºæ¨¡æ¿ä»£ç ã€‚ 1234567891011121314private int measureWidth(int widthMeasureSpec) &#123; int result = 0; int specMode = MeasureSpec.getMode(widthMeasureSpec); int specSize = MeasureSpec.getSize(widthMeasureSpec); if (specMode == MeasureSpec.EXACTLY) &#123; result = specSize; &#125; else &#123; result = 200; if (specMode == MeasureSpec.AT_MOST) &#123; result = Math.min(result, specSize); &#125; &#125; return result;&#125; measureHeight()ä¸measureWidth()æ–¹æ³•åŸºæœ¬ä¸€è‡´ï¼Œä¸å†ç»™å‡ºä»£ç ï¼Œé€šè¿‡è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†å¯¹å®½é«˜å€¼å¾—è‡ªå®šä¹‰ã€‚æœ€åå¯ä»¥åœ¨ç¨‹åºä¸­éªŒè¯ä»¥ä¸Šåˆ†æã€‚ åœ¨å¸ƒå±€æ–‡ä»¶ä¸­é¦–å…ˆæŒ‡å®šç¡®å®šçš„å®½é«˜å€¼400pxï¼Œç¨‹åºæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å½“æŒ‡å®šå®½é«˜å±æ€§ä¸ºmatch_parentæ—¶ï¼Œè¿è¡Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å½“æŒ‡å®šå®½é«˜å±æ€§ä¸ºwrap_contentæ—¶ï¼Œå¦‚æœä¸å†™onMeasure()æ–¹æ³•ï¼Œé‚£ä¹ˆç³»ç»Ÿå°±ä¸çŸ¥é“è¯¥ä½¿ç”¨é»˜è®¤å¤šå¤§å°ºå¯¸ã€‚å› æ­¤å®ƒå°±ä¼šé»˜è®¤å¡«å……æ•´ä¸ªçˆ¶å¸ƒå±€ï¼Œæ‰€ä»¥é‡å†™onMeasure()æ–¹æ³•çš„ç›®çš„å°±æ˜¯ä¸ºäº†èƒ½å¤Ÿç»™Viewä¸€ä¸ªwrap_contentå±æ€§ä¸‹çš„é»˜è®¤å¤§å°ï¼Œå…¶è¿è¡Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ å¯ä»¥å‘ç°ï¼Œå½“æŒ‡å®šwrap_contentå±æ€§æ—¶ï¼ŒViewå°±ä¼šè·å¾—ä¸€ä¸ªé»˜è®¤å€¼200pxï¼Œè€Œä¸æ˜¯å†å¡«å……çˆ¶å¸ƒå±€äº†ã€‚ é€šè¿‡è¿™ä¸ªå®ä¾‹ï¼Œç›¸ä¿¡å¤§å®¶å¯¹Viewçš„æµ‹é‡ä¸å†é™Œç”Ÿäº†ï¼Œå®ƒå¹¶ä¸æ˜¯ä»€ä¹ˆé«˜æ·±è«æµ‹çš„ä¸œè¥¿ï¼Œå®ƒçš„æ•´ä¸ªè¿‡ç¨‹ä¸æˆ‘ä»¬åœ¨ç”Ÿæ´»ä¸­ç²¾ç¡®ç»˜å›¾æ˜¯ä¸€æ ·çš„ã€‚ åŸæ–‡åœ°å€Viewçš„æµ‹é‡(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</category>
      </categories>
      <tags>
        <tag>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidæ§ä»¶æ¶æ„(Androidç¾¤è‹±ä¼ )]]></title>
    <url>%2F2016%2F05%2F19%2Fandroid-widget-struct-hero%2F</url>
    <content type="text"><![CDATA[å†…å®¹æ˜¯åšä¸»ç…§ç€ä¹¦æ•²å‡ºæ¥çš„ï¼Œåšä¸»ç å­—æŒºè¾›è‹¦çš„ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œååºå†…å®¹é™†ç»­ä¼šç å‡ºã€‚ æ§ä»¶å¤§è‡´è¢«åˆ†ä¸ºä¸¤ç±»ï¼ŒViewGroupæ§ä»¶å’ŒViewæ§ä»¶ã€‚ViewGroupå¯ä»¥åŒ…å«å¤šä¸ªViewå¹¶ç®¡ç†å®ƒä»¬ã€‚é€šè¿‡ViewGroupï¼Œæ•´ä¸ªç•Œé¢ä¸Šçš„æ§ä»¶å½¢æˆä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„æ§ä»¶æ ‘ï¼Œä¸Šå±‚æ§ä»¶è´Ÿè´£ä¸‹å±‚å­æ§ä»¶çš„æµ‹é‡ä¸ç»˜åˆ¶ï¼Œå¹¶ä¼ é€’äº¤äº’äº‹ä»¶ã€‚é€šå¸¸åœ¨Activityä¸­ä½¿ç”¨findViewById()æ–¹æ³•ï¼Œå°±æ˜¯åœ¨æ§ä»¶æ ‘ä¸­ä»¥æ ‘çš„æ·±åº¦ä¼˜å…ˆéå†æ¥æŸ¥æ‰¾å¯¹åº”å…ƒç´ ã€‚åœ¨æ¯æ£µæ§ä»¶æ ‘çš„é¡¶éƒ¨ï¼Œéƒ½æœ‰ä¸€ä¸ªViewParentå¯¹è±¡ï¼Œè¿™å°±æ˜¯æ•´æ£µæ ‘çš„æ§åˆ¶æ ¸å¿ƒï¼Œæ‰€æœ‰çš„äº¤äº’ç®¡ç†äº‹ä»¶éƒ½ç”±å®ƒç»Ÿä¸€è°ƒåº¦å’Œåˆ†é…ï¼Œä»è€Œå¯ä»¥å¯¹æ•´ä¸ªè§†å›¾è¿›è¡Œæ•´ä½“æ§åˆ¶ã€‚Viewè§†å›¾æ ‘å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œåœ¨Activityä¸­ä½¿ç”¨setContentView()æ–¹æ³•æ¥è®¾ç½®ä¸€ä¸ªå¸ƒå±€ï¼Œåœ¨è°ƒç”¨è¯¥æ–¹æ³•åï¼Œå¸ƒå±€å†…å®¹æ‰çœŸæ­£æ˜¾ç¤ºå‡ºæ¥ã€‚ä¸‹é¢æ¥çœ‹ä¸€ä¸‹Androidç•Œé¢çš„æ¶æ„å›¾ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æ¯ä¸ªActivityéƒ½åŒ…å«ä¸€ä¸ªWindowå¯¹è±¡ï¼Œåœ¨Androidä¸­Windowå¯¹è±¡é€šå¸¸ç”±PhoneWindowæ¥å®ç°ã€‚PhoneWindowå°†ä¸€ä¸ªDecorViewè®¾ç½®ä¸ºæ•´ä¸ªåº”ç”¨çª—å£çš„æ ¹Viewã€‚DecorViewä½œä¸ºçª—å£ç•Œé¢çš„é¡¶å±‚è§†å›¾ï¼Œå°è£…äº†ä¸€äº›çª—å£æ“ä½œçš„é€šç”¨æ–¹æ³•ã€‚å¯ä»¥è¯´ï¼ŒDecorViewå°†è¦æ˜¾ç¤ºçš„å…·ä½“å†…å®¹å‘ˆç°åœ¨äº†PhoneWindowä¸Šï¼Œè¿™é‡Œé¢çš„æ‰€æœ‰Viewçš„ç›‘å¬äº‹ä»¶éƒ½é€šè¿‡WindowManagerServiceæ¥è¿›è¡Œæ¥æ”¶ï¼Œå¹¶é€šè¿‡Activityå¯¹è±¡æ¥å›è°ƒç›¸åº”çš„onClickListenerã€‚åœ¨æ˜¾ç¤ºä¸Šï¼Œä»–å°†å±å¹•åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯TitleViewï¼Œå¦ä¸€ä¸ªæ˜¯ContentViewã€‚çœ‹åˆ°è¿™é‡Œï¼Œå¤§å®¶ä¸€å®šçœ‹è§äº†ä¸€ä¸ªéå¸¸ç†Ÿæ‚‰å¾—å¸ƒå±€â€”-ContentViewã€‚å®ƒæ˜¯ä¸€ä¸ªIDä¸ºcontentçš„FrameLayoutï¼Œactivity_main.xmlå°±æ˜¯è®¾ç½®åœ¨è¿™æ ·ä¸€ä¸ªFramelayouté‡Œã€‚é€šè¿‡ä»¥ä¸Šè¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹èµ·è¿™æ ·ä¸€ä¸ªæ ‡å‡†è§†å›¾æ ‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ä¸Šå›¾æ‰€ç¤ºçš„è§†å›¾æ ‘çš„ç¬¬äºŒå±‚è£…åœ¨äº†ä¸€ä¸ªLinearLayoutä½œä¸ºViewGroupï¼Œè¿™ä¸€å±‚çš„å¸ƒå±€ç»“æ„ä¼šæ ¹æ®å¯¹åº”çš„å‚æ•°è®¾ç½®ä¸åŒçš„å¸ƒå±€ï¼Œå¦‚æœ€å¸¸ç”¨çš„å¸ƒå±€â€”-ä¸Šé¢æ˜¾ç¤ºTitleBarï¼Œä¸‹é¢æ˜¯Contentè¿™æ ·çš„å¸ƒå±€ï¼Œä¹Ÿå°±æ˜¯å›¾3.3ä¸­æ‰€è®¾ç½®çš„å¸ƒå±€ã€‚è€Œå¦‚æœç”¨æˆ·é€šè¿‡è®¾ç½®requestWindowFeature(Window.FEATURE_NO_TITLE)æ¥è®¾ç½®æ˜¾ç¤ºå…¨å±ï¼Œè§†å›¾æ ‘ä¸­çš„å¸ƒå±€å°±åªæœ‰Contentäº†ï¼Œè¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆè°ƒç”¨requestWindowFeature()æ–¹æ³•ä¸€å®šè¦åœ¨setContentView()æ–¹æ³•ä¹‹å‰æ‰èƒ½ç”Ÿæ•ˆçš„åŸå› ã€‚ä¸è¿‡è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºæ¯ä¸ªAndroidç‰ˆæœ¬å¯¹UIçš„ä¿®æ”¹éƒ½æ¯”è¾ƒå¤šï¼Œä¸Šå›¾åªæ˜¯æ¯”è¾ƒç²—ç•¥åœ°æ˜¾ç¤ºäº†è§†å›¾æ ‘çš„ç»“æ„ã€‚ è€Œåœ¨ä»£ç ä¸­ï¼Œå½“ç¨‹åºåœ¨onCreat()æ–¹æ³•ä¸­è°ƒç”¨setContentView()æ–¹æ³•åï¼ŒActivityManagerServiceä¼šå›è°ƒonResume()æ–¹æ³•ï¼Œæ­¤æ—¶ç³»ç»Ÿæ‰ä¼šæŠŠæ•´ä¸ªDecorViewæ·»åŠ åˆ°PhoneWindowä¸­ï¼Œå¹¶è®©å…¶æ˜¾ç¤ºå‡ºæ¥ï¼Œä»è€Œæœ€ç»ˆå®Œæˆç•Œé¢çš„ç»˜åˆ¶ã€‚ åŸæ–‡åœ°å€Androidæ§ä»¶æ¶æ„(Androidç¾¤è‹±ä¼ ) æˆ‘çš„è‡ªåª’ä½“åšå®¢Blankjå°ç«™ï¼Œæ¬¢è¿æ¥é€›é€›ã€‚]]></content>
      <categories>
        <category>Androidç¾¤è‹±ä¼ </category>
        <category>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</category>
      </categories>
      <tags>
        <tag>3.Androidæ§ä»¶æ¶æ„ä¸è‡ªå®šä¹‰æ§ä»¶è¯¦è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[The Last ACM]]></title>
    <url>%2F2016%2F04%2F23%2Fthe-last-acm%2F</url>
    <content type="text"><![CDATA[å¤§å­¦æœ€åä¸€æ¬¡çš„ACMï¼Œä¹‹å‰ä¸¤æ¬¡çš„ä¸€æ— æ‰€è·ä¹Ÿæ€»ç®—åº”äº†é‚£å¥è¯ï¼Œæ‰€æœ‰çš„äº‹æƒ…åˆ°æœ€åéƒ½ä¼šæ˜¯å¥½çš„ï¼Œå¦‚æœä¸æ˜¯ï¼Œè¯´æ˜è¿˜æ²¡åˆ°æœ€åã€‚åœ¨å°ä¼™ä¼´ä»¬çš„ä¸æ‡ˆå¥‹æ–—ä¸‹å’Œæˆ‘çªå‘å…¶æ¥çš„çµæ„Ÿå’Œæ›¾ç»çš„ç»éªŒï¼Œç»ˆäºæ°´å‡ºäº†äº”é“ï¼Œä»ä¸­ä¹Ÿå¸å–äº†ä¸€å®šè¦ç»†å¿ƒç»†å¿ƒå†ç»†å¿ƒçš„æ•™è®­ï¼Œè™½ç„¶åªæ˜¯é“œå¥–ï¼Œä½†ä¹Ÿä¸ºæˆ‘ä»¬å­¦æ ¡ç ´äº†è¿™ä¸¤å¹´é›¶è›‹çš„é­”å’’ï¼Œä»¥åçš„å°±äº¤ç»™å­¦å¼Ÿå­¦å¦¹ä»¬äº†ã€‚å½“ç„¶æˆ‘è¿˜æ˜¯ä¼šç»§ç»­å–œæ¬¢Algorithmsï¼Œè¿˜æ˜¯ä¼šå»åˆ·åƒLeetcodeè¿™æ ·å¥½çš„OJå¹³å°ï¼Œå½“ä¸‹çš„è¯ç»§ç»­æ·±å…¥å­¦ä¹ å®‰å“ï¼Œæ­å»ºè‡ªå·±çš„æ¡†æ¶ï¼Œé€›é€›Githubè¿™ä¸ªç›¸ç”¨æ¨æ™šçš„å¹³å°ã€‚]]></content>
      <categories>
        <category>Life</category>
        <category>ACM</category>
      </categories>
      <tags>
        <tag>ACM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ çœŸçš„ä¼šå†™å•ä¾‹å—]]></title>
    <url>%2F2016%2F04%2F21%2Freally-use-singleton%2F</url>
    <content type="text"><![CDATA[æåˆ°å•ä¾‹æ¨¡å¼ï¼Œç›¸ä¿¡éƒ½ä¸ä¼šé™Œç”Ÿï¼Œä»Šå¤©å¯¹å…¶è¿›è¡Œæ€»ç»“ã€‚ ä»¥ä¸‹æ˜¯å•ä¾‹æ¨¡å¼çš„ç‰¹ç‚¹ï¼š å•ä¾‹ç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ã€‚ å•ä¾‹ç±»å¿…é¡»è‡ªå·±è‡ªå·±åˆ›å»ºè‡ªå·±çš„å”¯ä¸€å®ä¾‹ã€‚ å•ä¾‹ç±»å¿…é¡»ç»™æ‰€æœ‰å…¶ä»–å¯¹è±¡æä¾›è¿™ä¸€å®ä¾‹ã€‚ ç§ç±»çš„è¯ä¸å¥½è¯´æœ‰å‡ ç±»ï¼Œå› ä¸ºè¦è€ƒè™‘åˆ°æ˜¯å¦åœ¨å¤šçº¿ç¨‹ä¸‹è¿è¡Œï¼Œä¸‹é¢æ¥ä»‹ç»ä¸»è¦çš„å‡ ç±»ï¼š æ‡’æ±‰ç±»123456789101112131415//æ‡’æ±‰å¼å•ä¾‹ç±».åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™å®ä¾‹åŒ–è‡ªå·± public class Singleton &#123; private Singleton() &#123; &#125; private static Singleton single = null; //é™æ€å·¥å‚æ–¹æ³• public static Singleton getInstance() &#123; if (single == null) &#123; single = new Singleton(); &#125; return single; &#125;&#125; æ‡’æ±‰ä¹ˆï¼Œæ‰€ä»¥åœ¨å¤šçº¿ç¨‹ä¸‹ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥ä¸‹é¢ä»‹ç»ä¸‰ç§æ‡’æ±‰çš„å‡çº§ç‰ˆæ¥é€‚åº”å¤šçº¿ç¨‹ åœ¨getinstanceå‰åŠ ä¸Šsynchronizedï¼ˆåŒæ­¥ï¼‰ï¼Œä½†è¿™å¯¼è‡´çš„æ˜¯æ¯æ¬¡getInstanceéƒ½ä¼šå»åŒæ­¥ï¼Œæ¶ˆè€—èµ„æºã€‚ 1234567891011121314public class Singleton &#123; private Singleton() &#123; &#125; private static Singleton single = null; // é™æ€å·¥å‚æ–¹æ³• public static synchronized Singleton getInstance() &#123; if (single == null) &#123; single = new Singleton(); &#125; return single; &#125;&#125; åŒé‡æ£€æŸ¥é”ï¼Œå®ƒæ˜¯åœ¨ä»¥ä¸Šåšçš„ä¿®æ”¹ï¼Œåˆ¤æ–­ä¸¤æ¬¡ç©ºï¼Œæ‰€ä»¥åªæœ‰åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™ä¼šåŒæ­¥ï¼Œé¿å…äº†æ¯æ¬¡åŒæ­¥èµ„æºçš„æ¶ˆè€—ï¼Œæ³¨æ„ volatile å…³é”®å­—ã€‚ 123456789101112131415161718public class Singleton &#123; private Singleton() &#123; &#125; private volatile static Singleton singleton = null; // å£°æ˜æˆ volatile //é™æ€å·¥å‚æ–¹æ³• public static Singleton getInstance() &#123; if (singleton == null) &#123; synchronized (Singleton.class) &#123; if (singleton == null) &#123; singleton = new Singleton(); &#125; &#125; &#125; return singleton; &#125;&#125; å†…éƒ¨é™æ€ç±»ï¼Œè¿™ç§æˆ‘è§‰å¾—æ˜¯æœ€å¥½çš„ï¼Œæ—¢å®ç°äº†çº¿ç¨‹å®‰å…¨ï¼Œä¹Ÿé¿å…äº†åŒæ­¥å¸¦æ¥çš„æ€§èƒ½å½±å“ã€‚ 123456789101112public class Singleton &#123; private static class LazyHolder &#123; private static final Singleton INSTANCE = new Singleton(); &#125; private Singleton() &#123; &#125; public static Singleton getInstance() &#123; return LazyHolder.INSTANCE; &#125;&#125; é¥¿æ±‰ç±»é¥¿æ±‰å¼æ˜¯å…¸å‹çš„ç©ºé—´æ¢æ—¶é—´ï¼Œå½“ç±»è£…è½½çš„æ—¶å€™å°±ä¼šåˆ›å»ºç±»çš„å®ä¾‹ï¼Œä¸ç®¡ä½ ç”¨ä¸ç”¨ï¼Œå…ˆåˆ›å»ºå‡ºæ¥ï¼Œç„¶åæ¯æ¬¡è°ƒç”¨çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦å†åˆ¤æ–­ï¼ŒèŠ‚çœäº†è¿è¡Œæ—¶é—´ã€‚ 123456789101112//é¥¿æ±‰å¼å•ä¾‹ç±».åœ¨ç±»åˆå§‹åŒ–æ—¶ï¼Œå·²ç»è‡ªè¡Œå®ä¾‹åŒ–public class Singleton &#123; private Singleton() &#123; &#125; private static final Singleton single = new Singleton(); //é™æ€å·¥å‚æ–¹æ³• public static Singleton getInstance() &#123; return single; &#125;&#125; è¿™ç§ä¹Ÿæ˜¯æˆ‘æ¯”è¾ƒå–œæ¬¢çš„ï¼Œå› ä¸ºç®€å•æ˜“æ‡‚ï¼Œä½†å½“å®ç°äº†Serializableæ¥å£åï¼Œååºåˆ—åŒ–æ—¶å•ä¾‹ä¼šè¢«ç ´åï¼Œå®ç°Serializableæ¥å£éœ€è¦é‡å†™readResolveï¼Œæ‰èƒ½ä¿è¯å…¶ååºåˆ—åŒ–ä¾æ—§æ˜¯å•ä¾‹ï¼š 123private Object readResolve() throws ObjectStreamException &#123; return single; &#125; æšä¸¾ç±»123456public enum Singleton &#123; INSTANCE; public void whateverMethod() &#123; &#125;&#125; è¿™ç§æ–¹å¼æ˜¯Effective Javaä½œè€…Josh Bloch æå€¡çš„æ–¹å¼ï¼Œå®ƒä¸ä»…èƒ½é¿å…å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œè€Œä¸”è¿˜èƒ½é˜²æ­¢ååºåˆ—åŒ–é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œå¯è°“æ˜¯å¾ˆåšå¼ºçš„å£å’å•Šï¼Œä¸è¿‡ï¼Œä¸ªäººè®¤ä¸ºç”±äº1.5ä¸­æ‰åŠ å…¥enumç‰¹æ€§ï¼Œç”¨è¿™ç§æ–¹å¼å†™ä¸å…è®©äººæ„Ÿè§‰ç”Ÿç–ï¼Œåœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä¹Ÿå¾ˆå°‘çœ‹è§æœ‰äººè¿™ä¹ˆå†™è¿‡ã€‚ ä»¥ä¸Šå°±æ˜¯å¸¸ç”¨çš„å•ä¾‹æ¨¡å¼ï¼Œä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä¼šä½¿ç”¨é¥¿æ±‰å¼ï¼Œåªæœ‰åœ¨è¦æ˜ç¡®å®ç°lazy loadingæ•ˆæœæ—¶æ‰ä¼šä½¿ç”¨å†…éƒ¨é™æ€ç±»ï¼Œå¦å¤–ï¼Œå¦‚æœæ¶‰åŠåˆ°ååºåˆ—åŒ–åˆ›å»ºå¯¹è±¡æ—¶æˆ‘ä¼šè¯•ç€ä½¿ç”¨æšä¸¾çš„æ–¹å¼æ¥å®ç°å•ä¾‹ï¼Œä¸è¿‡ï¼Œæˆ‘ä¸€ç›´ä¼šä¿è¯æˆ‘çš„ç¨‹åºæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
        <tag>å•ä¾‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¦æ­£åˆ™æ ¡éªŒçš„EditText]]></title>
    <url>%2F2016%2F04%2F12%2FeditText-reg%2F</url>
    <content type="text"><![CDATA[è¿™æ˜¯å¥½ä¹…ä¹‹å‰å†™çš„äº†ï¼Œç°åœ¨æ•´ç†ä¸‹æ–‡ç« é‚£å°±å†™ä¸€ä¸‹å§ï¼Œç›´æ¥ä¸Šæ¼”ç¤ºDemoï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œä¼¸æ‰‹å…šä»¬å¯ç›´æ¥è·³åˆ°æœ€åå»ä¸‹è½½æºç ã€‚ åŸç†å¾ˆç®€å•ï¼Œå®ç°TextWatcheræ¥å£ä¸­çš„afterTextChanged()å‡½æ•°ï¼Œæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼è¿”å›çš„ç»“æœæ¥åŠ¨æ€åŠ è½½rightDrawableï¼Œè‡³äºæ ¡éªŒæˆåŠŸæˆ–è€…å¤±è´¥çš„drawableç”¨æˆ·åœ¨åˆå§‹åŒ–çš„æ—¶å€™å¯ä»¥è‡ªå®šä¹‰ï¼Œä¸‹é¢ç»™å‡ºæºç å‚è€ƒï¼Œå…¶å®ç°äº†å¸¸ç”¨çš„æ‰‹æœºã€åº§æœºã€é‚®ç®±ã€urlã€æ±‰å­—ã€ç”¨æˆ·åçš„æ ¡éªŒï¼Œå¦‚æœä½ è§‰å¾—è¿˜ä¸æ»¡è¶³çš„è¯ï¼Œæœ€åè¿˜æä¾›äº†ç”¨æˆ·è‡ªå®šä¹‰æ­£åˆ™çš„æ ¡éªŒï¼Œè¿™æ ·æ€»æ»¡æ„äº†å§ï¼Œä¸‹é¢ç»™å‡ºå…¶ä»£ç ä¾›å‚è€ƒã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110import android.content.Context;import android.graphics.drawable.Drawable;import android.text.Editable;import android.text.TextWatcher;import android.util.AttributeSet;import android.widget.EditText;/** * Created by cmj on 2016/4/11. */public class AutoCheckEditText extends EditText implements TextWatcher &#123; //æ‰‹æœºæ ¡éªŒç±»å‹ public static final int TYPE_OF_MOBILE = 0xb0; //åº§æœºæ ¡éªŒç±»å‹ public static final int TYPE_OF_TEL = 0xb1; //é‚®ç®±æ ¡éªŒç±»å‹ public static final int TYPE_OF_EMAIL = 0xb2; //urlæ ¡éªŒç±»å‹ public static final int TYPE_OF_URL = 0xb3; //æ±‰å­—æ ¡éªŒç±»å‹ public static final int TYPE_OF_CHZ = 0xb4; //ç”¨æˆ·åæ ¡éªŒç±»å‹ public static final int TYPE_OF_USERNAME = 0xb5; //ç”¨æˆ·è‡ªå®šä¹‰ public static final int TYPE_OF_USER_DEFINE = 0xbb; private int type; private Drawable successDrawable; private Drawable unsuccessDrawable; private String userRegx; public AutoCheckEditText(Context context) &#123; super(context); &#125; public AutoCheckEditText(Context context, AttributeSet attrs) &#123; super(context, attrs); &#125; public AutoCheckEditText(Context context, AttributeSet attrs, int defStyleAttr) &#123; super(context, attrs, defStyleAttr); &#125; /** * @param typ è¦æ ¡éªŒçš„ç±»å‹ * @param success åŒ¹é…æˆåŠŸæ—¶çš„å›¾æ ‡ * @param unsuccess åŒ¹é…å¤±è´¥æ—¶çš„å›¾æ ‡ */ public void creatCheck(int typ, Drawable success, Drawable unsuccess) &#123; type = typ; successDrawable = success; successDrawable.setBounds(0, 0, successDrawable.getMinimumWidth(), successDrawable.getMinimumHeight()); unsuccessDrawable = unsuccess; unsuccessDrawable.setBounds(0, 0, unsuccessDrawable.getMinimumWidth(), unsuccessDrawable.getMinimumHeight()); this.addTextChangedListener(this); &#125; /** * @param typ è¦æ ¡éªŒçš„ç±»å‹ * @param success åŒ¹é…æˆåŠŸæ—¶çš„å›¾æ ‡ * @param unsuccess åŒ¹é…å¤±è´¥æ—¶çš„å›¾æ ‡ */ public void creatCheck(int typ, Drawable success, Drawable unsuccess, String userRegex) &#123; creatCheck(typ, success, unsuccess); this.userRegx = userRegex; &#125; @Override public void beforeTextChanged(CharSequence s, int start, int count, int after) &#123; System.out.println("a"); &#125; @Override public void afterTextChanged(Editable s) &#123; if (s != null &amp;&amp; s.length() &gt; 0) &#123; boolean isMatch; if (type == TYPE_OF_MOBILE) &#123; isMatch = Check.isMobile(s.toString()); &#125; else if (type == TYPE_OF_TEL) &#123; isMatch = Check.isTel(s.toString()); &#125; else if (type == TYPE_OF_EMAIL) &#123; isMatch = Check.isEmail(s.toString()); &#125; else if (type == TYPE_OF_URL) &#123; isMatch = Check.isURL(s.toString()); &#125; else if (type == TYPE_OF_CHZ) &#123; isMatch = Check.isChz(s.toString()); &#125; else if (type == TYPE_OF_USERNAME) &#123; isMatch = Check.isUsername(s.toString()); &#125; else if (type == TYPE_OF_USER_DEFINE) &#123; isMatch = Check.isMatch(userRegx, s.toString()); &#125; else &#123; return; &#125; if (isMatch) &#123; setCompoundDrawables(null, null, successDrawable, null); &#125; else &#123; setCompoundDrawables(null, null, unsuccessDrawable, null); &#125; &#125; else &#123; setCompoundDrawables(null, null, null, null); &#125; &#125; @Override public void onTextChanged(CharSequence s, int start, int before, int count) &#123; System.out.println(); &#125;&#125; æœ€åçŒ®ä¸Šæºç åœ°å€ï¼šAutoCheckEditTextDemoï¼Œæ¬¢è¿å¤§å®¶starå’Œforkã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>è‡ªå®šä¹‰View</category>
      </categories>
      <tags>
        <tag>è‡ªå®šä¹‰View</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitçš„ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2016%2F03%2F24%2Fgit-simple-use%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374$ mkdir learngit$ cd learngit$ pwd/Users/michael/learngit//åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“$ git init //æ·»åŠ æ–‡ä»¶åˆ°Gitä»“åº“ï¼Œåˆ†ä¸¤æ­¥ï¼š$ git add readme.txt$ git commit -m &quot;...&quot;//æŸ¥çœ‹ä»“åº“å½“å‰çš„çŠ¶æ€$ git status//æŸ¥çœ‹difference$ git diff readme.txt //æŸ¥çœ‹å†å²è®°å½•$ git log//ä¿¡æ¯å¤ªå¤šå¯ç”¨å¦‚ä¸‹$ git log --pretty=oneline//ç”¨HEADè¡¨ç¤ºå½“å‰ç‰ˆæœ¬ï¼Œä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD^ï¼Œä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD^^//å½“ç„¶å¾€ä¸Š100ä¸ªç‰ˆæœ¬å†™100ä¸ª^æ¯”è¾ƒå®¹æ˜“æ•°ä¸è¿‡æ¥ï¼Œæ‰€ä»¥å†™æˆHEAD~100ã€‚//å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬$ git reset --hard HEAD^//æŸ¥çœ‹å‘½ä»¤å†å²$ git reflog//å›é€€åˆ°idæ˜¯1234..çš„ç‰ˆæœ¬$ git reset --hard 1234..//å›åˆ°æœ€è¿‘ä¸€æ¬¡git commitæˆ–git addæ—¶çš„çŠ¶æ€$ git checkout -- readme.txt//æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€æ‰ï¼ˆunstageï¼‰ï¼Œé‡æ–°æ”¾å›å·¥ä½œåŒº$ git reset HEAD readme.txt//åˆ é™¤ä¸€ä¸ªæ–‡ä»¶$ git rm test.txt//å…³è”ä¸€ä¸ªè¿œç¨‹åº“$ git remote add origin http://192.168.0.62:82/cmj/learnGit.git//æ¨é€masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹ï¼Œè¿œç¨‹çš„è¯commitä¹‹åï¼Œæœ€åè¿˜éœ€è¦pushåˆ°è¿œç¨‹åº“ï¼Œè¿œç¨‹åº“æ‰ä¼šå‘ç”Ÿä¿®æ”¹$ git push -u origin master//æ¨é€æœ€æ–°ä¿®æ”¹$ git push origin master//ç”¨httpåè®®å…‹éš†ä¸€ä¸ªä»“åº“$ git clone http://192.168.0.62:82/cmj/learnGit.git//æˆ‘ä»¬åˆ›å»ºdevåˆ†æ”¯ï¼Œç„¶ååˆ‡æ¢åˆ°devåˆ†æ”¯$ git checkout -b dev//ç­‰åŒäºä»¥ä¸‹ä¸¤å¥&#123;//åˆ›å»ºåˆ†æ”¯$ git branch dev//åˆ‡æ¢åˆ†æ”¯åˆ°dev$ git checkout dev&#125;//æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼Œå‰é¢å¸¦*çš„å°±æ˜¯å½“å‰åˆ†æ”¯$ git branch//åˆ†æ”¯æŸåˆå¹¶åˆ°å½“å‰åˆ†æ”¯$ git merge dev//åˆ é™¤åˆ†æ”¯$ git branch -d dev]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AndroidEventBusç¬”è®°]]></title>
    <url>%2F2016%2F03%2F22%2FandroidEventBus-note%2F</url>
    <content type="text"><![CDATA[EventBusæœ€ç›´æ¥çš„å¥½å¤„å°±æ˜¯è§£è€¦ï¼Œä½†å› ä¸ºå†…éƒ¨å®ç°æ˜¯åå°„ï¼Œå°é¡¹ç›®æ— æ‰€è°“ï¼Œå¤§é¡¹ç›®çš„è¯æ€§èƒ½ä¸æ˜¯å¾ˆå¥½ã€‚ æœ¬æ¬¡è¦ä»‹ç»çš„æ˜¯AndroidEventBusï¼Œè€Œä¸æ˜¯greenrobotçš„EventBusï¼Œå…¶ä½¿ç”¨æ³¨è§£ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œä½†æ•ˆç‡æ¯”ä¸ä¸ŠEventBusã€‚è®¢é˜…å‡½æ•°æ”¯æŒtag(ç±»ä¼¼å¹¿æ’­æ¥æ”¶å™¨çš„Action)ä½¿å¾—äº‹ä»¶çš„æŠ•é€’æ›´åŠ å‡†ç¡®ï¼Œèƒ½é€‚åº”æ›´å¤šä½¿ç”¨åœºæ™¯ã€‚å…¶githubé¡¹ç›®åœ°å€ä¸ºï¼šandroideventbusä¸‹é¢ä»‹ç»å…¶ç”¨æ³•ã€‚é¦–å…ˆåœ¨build.gradleä¸­åŠ å…¥ä¾èµ– 123dependencies &#123; compile 'org.simple:androideventbus:1.0.5.1'// å¯ä»¥åœ¨å®˜ç½‘æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬&#125; åœ¨Androidä¸­æˆ‘ä»¬å¯ä»¥åœ¨onCreateæ–¹æ³•ä¸­è°ƒç”¨EventBusçš„register(Object subscriber) æ³¨å†Œè®¢é˜…è€…ï¼Œå…·ä½“å¦‚ä¸‹ï¼š 1234567891011121314151617@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); tryBtn = (Button) findViewById(R.id.btn_main_try); showTV = (TextView) findViewById(R.id.tv_main_show); tryBtn.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; Intent intent = new Intent(getApplicationContext(), SecondActivity.class); startActivity(intent); &#125; &#125;); //æ³¨å†ŒEventBus EventBus.getDefault().register(this);&#125; æ³¨å†Œè€…ä¸­é€šè¿‡Subscriberæ³¨è§£æ¥æ ‡è¯†äº‹ä»¶æ¥æ”¶å¯¹è±¡ä¸­çš„æ¥æ”¶æ–¹æ³•ã€‚ 123456@Subscriber(tag = "my_tag", mode = ThreadMode.MAIN)public void onEvent(FirstEvent event) &#123; String msg = "onEventæ”¶åˆ°äº†æ¶ˆæ¯ï¼š" + event.getMsg(); showTV.setText(msg); Toast.makeText(this, msg, Toast.LENGTH_LONG).show();&#125; tagå¯ç”¨æ¥åŒºåˆ†postè¿‡æ¥çš„æ¶ˆæ¯æ ‡è¯†ï¼Œæ ¹æ®tagå€¼å¯å¤„ç†ä¸åŒçš„æ¶ˆæ¯ã€‚ modeæœ‰ä¸‰ç§ã€‚ ThreadMode.MAIN:æ‰§è¡Œåœ¨UIçº¿ç¨‹ã€‚ ThreadMode.POST:postå‡½æ•°åœ¨å“ªä¸ªçº¿ç¨‹æ‰§è¡Œ,è¯¥å‡½æ•°å°±æ‰§è¡Œåœ¨å“ªä¸ªçº¿ç¨‹ã€‚ ThreadMode.ASYNC:æ‰§è¡Œåœ¨ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ã€‚ è°ƒç”¨EventBusçš„unregister(Object subscriber) æ–¹æ³•ï¼Œå–æ¶ˆæ³¨å†Œçš„è®¢é˜…è€…ï¼š 123456@Overrideprotected void onDestroy() &#123; super.onDestroy(); //æ³¨é”€EventBus EventBus.getDefault().unregister(this);&#125; ä»¥ä¸Šä¸‰æ­¥ä¸€èˆ¬éƒ½å†™åœ¨åŒä¸€ä¸ªç±»ä¸­ã€‚ ä¸‹é¢ä»‹ç»æ€ä¹ˆæŠŠæ¶ˆæ¯ä¼ è¿‡æ¥ï¼Œå¾ˆç®€å•ï¼Œåªéœ€åœ¨å…¶ä»–éœ€è¦è°ƒç”¨çš„åœ°æ–¹post(Object event) å³å¯ï¼Œæ¶ˆæ¯ä¾¿ä¼šè¿›å…¥é˜Ÿåˆ—ã€‚ 12345678910111213@Overrideprotected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_second); firstEventBtn = (Button) findViewById(R.id.btn_second_first_event); firstEventBtn.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; //å‘é€æ¶ˆæ¯ EventBus.getDefault().post(new FirstEvent("FirstEvent btn clicked"), "my_tag"); &#125; &#125;);&#125; éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼špostçš„å‚æ•°ä¸€å®šè¦æ˜¯å¯¹è±¡ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ï¼Œintã€byteã€longéƒ½æ˜¯ä¸å¯ä»¥çš„ï¼Œå®åœ¨éœ€è¦å°±å¾—è½¬æ¢ä¸ºIntegerã€Byteå’ŒLongç±»å‹ã€‚ FirstEventç±» 123456789public class FirstEvent &#123; private String mMsg; public FirstEvent(String msg) &#123; mMsg = msg; &#125; public String getMsg()&#123; return mMsg; &#125;&#125; å¥½äº†ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚]]></content>
      <categories>
        <category>Android</category>
        <category>ç¬¬ä¸‰æ–¹åº“</category>
      </categories>
      <tags>
        <tag>ç¬¬ä¸‰æ–¹åº“</tag>
        <tag>AndroidEventBus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[English Game]]></title>
    <url>%2F2016%2F03%2F07%2Fenglish-game%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®æè¿° This English game is a simple English words connection game. The rules are as follows: there are N English words in a dictionary, and every word has its own weight v. There is a weight if the corresponding word is used. Now there is a target string X. You have to pick some words in the dictionary, and then connect them to form X. At the same time, the sum weight of the words you picked must be the biggest. è¾“å…¥è¦æ±‚ There are several test cases. For each test, N (1&lt;=n&lt;=1000) and X (the length of x is not bigger than 10000) are given at first. Then N rows follow. Each row contains a word wi (the length is not bigger than 30) and the weight of it. Every word is composed of lowercases. No two words in the dictionary are the same. è¾“å‡ºè¦æ±‚ For each test case, output the biggest sum weight, if you could not form the string X, output -1. å‡å¦‚è¾“å…¥ 1 aaaa a 2 3 aaa a 2 aa 5 aaa 6 4 abc a 1 bc 2 ab 4 c 1 3 abcd ab 10 bc 20 cd 30 3 abcd cd 100 abc 1000 bcd 10000 åº”å½“è¾“å‡º 8 7 5 40 -1 Javaï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869import java.io.BufferedInputStream;import java.util.Scanner;public class Main &#123; // å­—å…¸æ ‘dp static class Node &#123; int w; boolean end; Node[] next = new Node[26]; &#125; static int[] dp; static String str; static Node root; static int len; public static void main(String[] args) &#123; Scanner scanner = new Scanner(new BufferedInputStream(System.in)); while (scanner.hasNext()) &#123; root = new Node(); int n = scanner.nextInt(); str = " "; str += scanner.next(); len = str.length(); dp = new int[len]; for (int i = 0; i &lt; n; ++i) &#123; String word = scanner.next(); int w = scanner.nextInt(); insertNode(word, w); &#125; solve(0); for (int i = 1; i &lt; len - 1; ++i) &#123; if (dp[i] != 0) solve(i); &#125; System.out.println(dp[len - 1] == 0 ? -1 : dp[len - 1]); &#125; &#125; static void insertNode(String word, int w) &#123; int wlen = word.length(); Node tmp = root; for (int i = 0; i &lt; wlen; ++i) &#123; int x = word.charAt(i) - 'a'; if (tmp.next[x] == null) &#123; tmp.next[x] = new Node(); &#125; tmp = tmp.next[x]; &#125; tmp.end = true; tmp.w = w; &#125; static void solve(int i) &#123; Node cur = root; for (int j = i + 1; j &lt; len; ++j) &#123; int x = str.charAt(j) - 'a'; if (cur.next[x] != null) &#123; if (cur.next[x].end) &#123; dp[j] = Math.max(dp[j], dp[i] + cur.next[x].w); &#125; cur = cur.next[x]; &#125; else &#123; break; &#125; &#125; &#125;&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>æ ‘</tag>
        <tag>DP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Dinner]]></title>
    <url>%2F2016%2F03%2F07%2Fdinner%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®æè¿° Little A is one member of ACM team. He had just won the gold in World Final. To celebrate, he decided to invite all to have one meal. As bowl, knife and other tableware is not enough in the kitchen, Little A goes to take backup tableware in warehouse. There are many boxes in warehouse, one box contains only one thing, and each box is marked by the name of things inside it. For example, if â€œbasketballâ€ is written on the box, which means the box contains only basketball. With these marks, Little A wants to find out the tableware easily. So, the problem for you is to help him, find out all the tableware from all boxes in the warehouse. (The tableware only contains: bowl, knife, fork and chopsticks.) è¾“å…¥è¦æ±‚ There are many test cases. Each case contains one line, and one integer N at the first, N indicates that there are N boxes in the warehouse. Then N strings follow, each string is one name written on the box. è¾“å‡ºè¦æ±‚ For each test of the input, output all the name of tableware. å‡å¦‚è¾“å…¥ 3 basketball fork chopsticks 2 bowl letter åº”å½“è¾“å‡º fork chopsticks bowl æç¤º The tableware only contains: bowl, knife, fork and chopsticks. Java: 12345678910111213141516171819202122232425262728293031323334import java.io.BufferedInputStream;import java.util.HashSet;import java.util.Scanner;import java.util.Set;public class Main &#123; public static void main(String[] args) &#123; Scanner scanner = new Scanner(new BufferedInputStream(System.in)); Set&lt;String&gt; set = new HashSet&lt;String&gt;(); set.add("bowl"); set.add("knife"); set.add("fork"); set.add("chopsticks"); while (scanner.hasNext()) &#123; int n = scanner.nextInt(); int i = 0; for (; i &lt; n; ++i) &#123; String tmp = scanner.next(); if (set.contains(tmp)) &#123; System.out.print(tmp); ++i; break; &#125; &#125; for (; i &lt; n; ++i) &#123; String tmp = scanner.next(); if (set.contains(tmp)) &#123; System.out.print(" " + tmp); &#125; &#125; System.out.println(); &#125; &#125;&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>æ¨¡æ‹Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[125. Valid Palindrome]]></title>
    <url>%2F2016%2F03%2F03%2F125-valid-palindrome%2F</url>
    <content type="text"><![CDATA[Total Accepted: 91860Total Submissions: 392114Difficulty: Easy Given a string, determine if it is a palindrome, considering only alphanumeric characters and ignoring cases. For example, &quot;A man, a plan, a canal: Panama&quot; is a palindrome. &quot;race a car&quot; is not a palindrome. Note:Have you consider that the string might be empty? This is a good question to ask during an interview. For the purpose of this problem, we define empty string as valid palindrome. Java: 123456789101112131415161718192021222324252627public class Solution &#123; public boolean isPalindrome(String s) &#123; if ("".equals(s)) return true; for (int i = 0, j = s.length() - 1; i &lt; j; ++i, --j) &#123; char ci = s.charAt(i); while (i &lt; j &amp;&amp; !(ci &gt;= 'a' &amp;&amp; ci &lt;= 'z' || ci &gt;= 'A' &amp;&amp; ci &lt;= 'Z' || ci &gt;= '0' &amp;&amp; ci &lt;= '9')) ci = s.charAt(++i); char cj = s.charAt(j); while (i &lt; j &amp;&amp; !(cj &gt;= 'a' &amp;&amp; cj &lt;= 'z' || cj &gt;= 'A' &amp;&amp; cj &lt;= 'Z' || cj &gt;= '0' &amp;&amp; cj &lt;= '9')) cj = s.charAt(--j); if (i &lt; j) &#123; if (ci &gt;= 'A' &amp;&amp; ci &lt;= 'Z') ci += 32; if (cj &gt;= 'A' &amp;&amp; cj &lt;= 'Z') cj += 32; if (ci != cj) return false; &#125; &#125; return true; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>String</tag>
        <tag>Two Pointers</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[204. Count Primes]]></title>
    <url>%2F2016%2F03%2F03%2F204-count-primes%2F</url>
    <content type="text"><![CDATA[Total Accepted: 54299Total Submissions: 230350Difficulty: Easy Description:Count the number of prime numbers less than a non-negative number, _n_. Credits:Special thanks to @mithmatt for adding this problem and creating all test cases. Hint: Letâ€™s start with a isPrime function. To determine if a number is prime, we need to check if it is not divisible by any number less than _n_. The runtime complexity of isPrime function would be O(_n_) and hence counting the total prime numbers up to _n_ would be O(_n_2). Could we do better? As we know the number must not be divisible by any number &gt; _n_ / 2, we can immediately cut the total iterations half by dividing only up to _n_ / 2. Could we still do better? Letâ€™s write down all of 12â€™s factors: 12342 Ã— 6 = 123 Ã— 4 = 124 Ã— 3 = 126 Ã— 2 = 12 As you can see, calculations of 4 Ã— 3 and 6 Ã— 2 are not necessary. Therefore, we only need to consider factors up to âˆš_n_ because, if _n_ is divisible by some number _p_, then _n_ = _p_ Ã— _q_ and since _p_ â‰¤ _q_, we could derive that _p_ â‰¤ âˆš_n_. Our total runtime has now improved to O(_n_1.5), which is slightly better. Is there a faster approach? 1234567891011121314151617public int countPrimes(int n) &#123; int count = 0; for (int i = 1; i &lt; n; i++) &#123; if (isPrime(i)) count++; &#125; return count;&#125;private boolean isPrime(int num) &#123; if (num &lt;= 1) return false; // Loop&apos;s ending condition is i * i &lt;= num instead of i &lt;= sqrt(num) // to avoid repeatedly calling an expensive function sqrt(). for (int i = 2; i * i &lt;= num; i++) &#123; if (num % i == 0) return false; &#125; return true;&#125; The Sieve of Eratosthenes is one of the most efficient ways to find all prime numbers up to _n_. But donâ€™t let that name scare you, I promise that the concept is surprisingly simple.Sieve of Eratosthenes: algorithm steps for primes below 121. â€œSieve of Eratosthenes Animationâ€ by SKopp is licensed under CC BY 2.0. We start off with a table of _n_ numbers. Letâ€™s look at the first number, 2. We know all multiples of 2 must not be primes, so we mark them off as non-primes. Then we look at the next number, 3. Similarly, all multiples of 3 such as 3 Ã— 2 = 6, 3 Ã— 3 = 9, â€¦ must not be primes, so we mark them off as well. Now we look at the next number, 4, which was already marked off. What does this tell you? Should you mark off all multiples of 4 as well? 4 is not a prime because it is divisible by 2, which means all multiples of 4 must also be divisible by 2 and were already marked off. So we can skip 4 immediately and go to the next number, 5. Now, all multiples of 5 such as 5 Ã— 2 = 10, 5 Ã— 3 = 15, 5 Ã— 4 = 20, 5 Ã— 5 = 25, â€¦ can be marked off. There is a slight optimization here, we do not need to start from 5 Ã— 2 = 10. Where should we start marking off? In fact, we can mark off multiples of 5 starting at 5 Ã— 5 = 25, because 5 Ã— 2 = 10 was already marked off by multiple of 2, similarly 5 Ã— 3 = 15 was already marked off by multiple of 3. Therefore, if the current number is _p_, we can always mark off multiples of _p_ starting at _p_2, then in increments of _p_: _p_2 + _p_, _p_2 + 2_p_, â€¦ Now what should be the terminating loop condition? It is easy to say that the terminating loop condition is _p_ &lt; _n_, which is certainly correct but not efficient. Do you still remember Hint #3? Yes, the terminating loop condition can be _p_ &lt; âˆš_n_, as all non-primes â‰¥ âˆš_n_ must have already been marked off. When the loop terminates, all the numbers in the table that are non-marked are prime. The Sieve of Eratosthenes uses an extra O(_n_) memory and its runtime complexity is O(_n_ log log _n_). For the more mathematically inclined readers, you can read more about its algorithm complexity on Wikipedia. public int countPrimes(int n) { boolean[] isPrime = new boolean[n]; for (int i = 2; i < n; i++) { isPrime[i] = true; } // Loop's ending condition is i * i < n instead of i < sqrt(n) // to avoid repeatedly calling an expensive function sqrt(). for (int i = 2; i * i < n; i++) { if (!isPrime[i]) continue; for (int j = i * i; j < n; j += i) { isPrime[j] = false; } } int count = 0; for (int i = 2; i < n; i++) { if (isPrime[i]) count++; } return count; } Java: 12345678910111213141516171819public class Solution &#123; public int countPrimes(int n) &#123; if (n &lt; 3) return 0; int count = n / 2; boolean[] isPrime = new boolean[n]; for (int i = 3; i * i &lt; n; i += 2) &#123; if (isPrime[i]) continue; for (int j = i * i; j &lt; n; j += 2 * i) &#123; if (!isPrime[j]) &#123; --count; isPrime[j] = true; &#125; &#125; &#125; return count; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
        <tag>Hash table</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[7. Reverse Integer]]></title>
    <url>%2F2016%2F03%2F02%2F7-reverse-integer%2F</url>
    <content type="text"><![CDATA[Total Accepted: 125501Total Submissions: 532378Difficulty: Easy Reverse digits of an integer. Example1: x = 123, return 321Example2: x = -123, return -321 click to show spoilers. Have you thought about this? Here are some good questions to ask before coding. Bonus points for you if you have already thought through this! If the integerâ€™s last digit is 0, what should the output be? ie, cases such as 10, 100. Did you notice that the reversed integer might overflow? Assume the input is a 32-bit integer, then the reverse of 1000000003 overflows. How should you handle such cases? For the purpose of this problem, assume that your function returns 0 when the reversed integer overflows. Java: 12345678public class Solution &#123; public int reverse(int x) &#123; long res = 0; for (; x != 0; x /= 10) res = res * 10 + x % 10; return res &gt; Integer.MAX_VALUE || res &lt; Integer.MIN_VALUE ? 0: (int) res; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[303. Range Sum Query - Immutable]]></title>
    <url>%2F2016%2F03%2F02%2F303-range-sum-query-immutable%2F</url>
    <content type="text"><![CDATA[Total Accepted: 20875Total Submissions: 85065Difficulty: Easy Given an integer array nums, find the sum of the elements between indices _i_ and _j_ (_i_ â‰¤ _j_), inclusive. Example: Given nums = [-2, 0, 3, -5, 2, -1] sumRange(0, 2) -> 1 sumRange(2, 5) -> -1 sumRange(0, 5) -> -3 Note: You may assume that the array does not change. There are many calls to sumRange function. Java: 1234567891011121314public class NumArray &#123; private static int[] sum; public NumArray(int[] nums) &#123; for (int i = 1; i &lt; nums.length; ++i) nums[i] += nums[i - 1]; this.sum = nums; &#125; public int sumRange(int i, int j) &#123; return sum[j] - (i == 0 ? 0 : sum[i - 1]); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Dynamic Programming</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[67. Add Binary]]></title>
    <url>%2F2016%2F03%2F02%2F67-add-binary%2F</url>
    <content type="text"><![CDATA[Total Accepted: 75848Total Submissions: 283546Difficulty: Easy Given two binary strings, return their sum (also a binary string). For example,a = &quot;11&quot; b = &quot;1&quot; Return &quot;100&quot;. Java: 123456789101112131415public class Solution &#123; public String addBinary(String a, String b) &#123; StringBuilder sb = new StringBuilder(); int carry = 0, i = a.length(), j = b.length(); while (i &gt; 0 || j &gt; 0 || carry == 1) &#123; if (i &gt; 0) carry += a.charAt(--i) - '0'; if (j &gt; 0) carry += b.charAt(--j) - '0'; sb.append((char) ((carry % 2) + '0')); carry &gt;&gt;&gt;= 1; &#125; return sb.reverse().toString(); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
        <tag>String</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[234. Palindrome Linked List]]></title>
    <url>%2F2016%2F03%2F02%2F234-palindrome-linked-list%2F</url>
    <content type="text"><![CDATA[Total Accepted: 39482Total Submissions: 145556Difficulty: Easy Given a singly linked list, determine if it is a palindrome. Follow up:Could you do it in O(n) time and O(1) space? Java: 123456789101112131415161718192021222324252627282930313233343536/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public boolean isPalindrome(ListNode head) &#123; int len = 0; ListNode p = head, tmp, newHead = null; while (p != null) &#123; p = p.next; ++len; &#125; p = head; int halfLen = len &gt;&gt;&gt; 1; for (int i = 0; i &lt; halfLen; ++i) &#123; tmp = p.next; p.next = newHead; newHead = p; p = tmp; &#125; if (len % 2 == 1) &#123; p = p.next; &#125; for (int i = 0; i &lt; halfLen; ++i) &#123; if (newHead.val != p.val) return false; newHead = newHead.next; p = p.next; &#125; return true; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Linked List</tag>
        <tag>Two Pointers</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[257. Binary Tree Paths]]></title>
    <url>%2F2016%2F03%2F02%2F257-binary-tree-paths%2F</url>
    <content type="text"><![CDATA[Total Accepted: 36923Total Submissions: 135278Difficulty: Easy Given a binary tree, return all root-to-leaf paths. For example, given the following binary tree: 1 / \ 2 3 \ 5 All root-to-leaf paths are: ["1->2->5", "1->3"] Java: 1234567891011121314151617181920212223242526272829303132/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public void help(List&lt;String&gt; list, TreeNode node, StringBuilder sb) &#123; if (node == null) return; int len=sb.length(); sb.append(node.val); if (node.left == null &amp;&amp; node.right == null) &#123; list.add(sb.toString()); sb.setLength(len); return; &#125; sb.append("-&gt;"); help(list, node.left, sb); help(list, node.right, sb); sb.setLength(len); &#125; public List&lt;String&gt; binaryTreePaths(TreeNode root) &#123; List&lt;String&gt; res = new ArrayList&lt;String&gt;(); help(res, root, new StringBuilder()); return res; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tree</tag>
        <tag>Depth-first Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[14. Longest Common Prefix]]></title>
    <url>%2F2016%2F03%2F01%2F14-longest-common-prefix%2F</url>
    <content type="text"><![CDATA[Total Accepted: 88409Total Submissions: 321579Difficulty: Easy Write a function to find the longest common prefix string amongst an array of strings. Java: 123456789101112131415public class Solution &#123; public String longestCommonPrefix(String[] strs) &#123; int len = strs.length; if (len == 0) return ""; int minlen = 0x7fffffff; for (int i = 0; i &lt; len; ++i) minlen = Math.min(minlen, strs[i].length()); for (int j = 0; j &lt; minlen; ++j) for (int i = 1; i &lt; len; ++i) if (strs[0].charAt(j) != strs[i].charAt(j)) return strs[0].substring(0, j); return strs[0].substring(0, minlen); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>String</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[203. Remove Linked List Elements]]></title>
    <url>%2F2016%2F03%2F01%2F203-remove-linked-list-elements%2F</url>
    <content type="text"><![CDATA[Total Accepted: 53495Total Submissions: 191288Difficulty: Easy Remove all elements from a linked list of integers that have value val. ExampleGiven: 1 â€“&gt; 2 â€“&gt; 6 â€“&gt; 3 â€“&gt; 4 â€“&gt; 5 â€“&gt; 6, val = 6Return: 1 â€“&gt; 2 â€“&gt; 3 â€“&gt; 4 â€“&gt; 5 Credits:Special thanks to @mithmatt for adding this problem and creating all test cases. Java: 12345678910111213141516171819202122232425/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public ListNode removeElements(ListNode head, int val) &#123; while (head != null &amp;&amp; head.val == val) head = head.next; if (head == null) return null; ListNode p = head; while (p.next != null) &#123; if (p.next.val == val) &#123; p.next = p.next.next; &#125; else &#123; p = p.next; &#125; &#125; return head; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Linked List</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[38. Count and Say]]></title>
    <url>%2F2016%2F02%2F29%2F38-count-and-say%2F</url>
    <content type="text"><![CDATA[Total Accepted: 72708Total Submissions: 258534Difficulty: Easy The count-and-say sequence is the sequence of integers beginning as follows: 1, 11, 21, 1211, 111221, ... 1 is read off as &quot;one 1&quot; or 11. 11 is read off as &quot;two 1s&quot; or 21. 21 is read off as &quot;one 2, then one 1&quot; or 1211. Given an integer _n_, generate the _n_th sequence. Note: The sequence of integers will be represented as a string. Java: 12345678910111213141516171819202122public class Solution &#123; public String countAndSay(int n) &#123; String res = "1"; StringBuilder sb; for (int i = 2; i &lt;= n; ++i) &#123; sb = new StringBuilder(); int len = res.length(); int times = 1; for (int j = 1; j &lt; len; ++j) &#123; if (res.charAt(j - 1) == res.charAt(j)) &#123; ++times; &#125; else &#123; sb.append("" + times + res.charAt(j - 1)); times = 1; &#125; &#125; sb.append("" + times + res.charAt(len - 1)); res = sb.toString(); &#125; return res; &#125;&#125; å½“ç„¶æˆ‘é‡‡ç”¨äº†æ‰“è¡¨æ³•beats 100% Java submition 12345678910111213141516171819202122232425262728293031323334353637public class Solution &#123; public String countAndSay(int n) &#123; String[] res = new String[] &#123; "1", "11", "21", "1211", "111221", "312211", "13112221", "1113213211", "31131211131221", "13211311123113112211", "11131221133112132113212221", "3113112221232112111312211312113211", "1321132132111213122112311311222113111221131221", "11131221131211131231121113112221121321132132211331222113112211", "311311222113111231131112132112311321322112111312211312111322212311322113212221", "", "", "", "", "11131221131211132221232112111312111213111213211231132132211211131221131211221321123113213221123113112221131112311332211211131221131211132211121312211231131112311211232221121321132132211331121321231231121113112221121321133112132112312321123113112221121113122113121113123112112322111213211322211312113211", "", "", "", "", "132113213221133112132123123112111311222112132113311213211231232112311311222112111312211311123113322112132113212231121113112221121321132132211231232112311321322112311311222113111231133221121113122113121113221112131221123113111231121123222112132113213221133112132123123112111312111312212231131122211311123113322112111312211312111322111213122112311311123112112322211211131221131211132221232112111312111213111213211231132132211211131221232112111312212221121123222112132113213221133112132123123112111311222112132113213221132213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121132211332113221122112133221123113112221131112311332111213122112311311123112111331121113122112132113121113222112311311221112131221123113112221121113311211131122211211131221131211132221121321132132212321121113121112133221123113112221131112212211131221121321131211132221123113112221131112311332211211133112111311222112111312211311123113322112111312211312111322212321121113121112133221121321132132211331121321231231121113112221121321132122311211131122211211131221131211322113322112111312211322132113213221123113112221131112311311121321122112132231121113122113322113111221131221", "", "", "", "", "3113112221131112311332111213122112311311123112111331121113122112132113121113222112311311221112131221123113112221121113311211131122211211131221131211132221121321132132212321121113121112133221123113112221131112212211131221121321131211132221123113112221131112311332211211133112111311222112111312211311123113322112111312211312111322212321121113121112133221121321132132211331121321132213211231132132211211131221232112111312212221121123222112311311222113111231133211121321321122111312211312111322211213211321322123211211131211121332211231131122211311123113321112131221123113111231121123222112111331121113112221121113122113111231133221121113122113121113221112131221123113111231121123222112111312211312111322212321121113121112131112132112311321322112111312212321121113122122211211232221121321132132211331121321231231121113112221121321132132211322132113213221123113112221133112132123222112111312211312112213211231132132211211131221131211322113321132211221121332211231131122211311123113321112131221123113111231121113311211131221121321131211132221123113112211121312211231131122211211133112111311222112111312211312111322211213211321223112111311222112132113213221133122211311221122111312211312111322212321121113121112131112132112311321322112111312212321121113122122211211232221121321132132211331121321231231121113112221121321132132211322132113213221123113112221133112132123222112111312211312112213211231132132211211131221131211322113321132211221121332211213211321322113311213212312311211131122211213211331121321123123211231131122211211131221131112311332211213211321223112111311222112132113213221123123211231132132211231131122211311123113322112111312211312111322111213122112311311123112112322211213211321322113312211223113112221121113122113111231133221121321132132211331222113321112131122211332113221122112133221123113112221131112311332111213122112311311123112111331121113122112132113121113222112311311221112131221123113112221121113311211131122211211131221131211132221121321132132212321121113121112133221123113112221131112311332111213122112311311123112112322211322311311222113111231133211121312211231131112311211232221121113122113121113222123211211131221132211131221121321131211132221123113112211121312211231131122113221122112133221121321132132211331121321231231121113121113122122311311222113111231133221121113122113121113221112131221123113111231121123222112132113213221133112132123123112111312211322311211133112111312211213211311123113223112111321322123122113222122211211232221121113122113121113222123211211131211121311121321123113213221121113122123211211131221121311121312211213211321322112311311222113311213212322211211131221131211221321123113213221121113122113121113222112131112131221121321131211132221121321132132211331121321232221123113112221131112311322311211131122211213211331121321122112133221121113122113121113222123112221221321132132211231131122211331121321232221121113122113121113222123211211131211121332211213111213122112132113121113222112132113213221232112111312111213322112132113213221133112132123123112111311222112132113311213211221121332211231131122211311123113321112131221123113112221132231131122211211131221131112311332211213211321223112111311222112132113212221132221222112112322211211131221131211132221232112111312111213111213211231131112311311221122132113213221133112132123222112311311222113111231132231121113112221121321133112132112211213322112111312211312111322212321121113121112131112132112311321322112111312212321121113122122211211232221121311121312211213211312111322211213211321322123211211131211121332211213211321322113311213211322132112311321322112111312212321121113122122211211232221121321132132211331121321231231121113112221121321133112132112312321123113112221121113122113111231133221121321132122311211131122211213211321222113222122211211232221123113112221131112311332111213122112311311123112111331121113122112132113121113222112311311221112131221123113112221121113311211131122211211131221131211132221121321132132212321121113121112133221123113112221131112311332111213213211221113122113121113222112132113213221232112111312111213322112132113213221133112132123123112111312211322311211133112111312212221121123222112132113213221133112132123222113223113112221131112311332111213122112311311123112112322211211131221131211132221232112111312111213111213211231132132211211131221131211221321123113213221123113112221131112211322212322211231131122211322111312211312111322211213211321322113311213211331121113122122211211132213211231131122212322211331222113112211" &#125;; return res[n - 1]; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>String</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[290. Word Pattern]]></title>
    <url>%2F2016%2F02%2F29%2F290-word-pattern%2F</url>
    <content type="text"><![CDATA[Total Accepted: 27238Total Submissions: 96500Difficulty: Easy Given a pattern and a string str, find if str follows the same pattern. Here follow means a full match, such that there is a bijection between a letter in pattern and a non-empty word in str. Examples: pattern = &quot;abba&quot;, str = &quot;dog cat cat dog&quot; should return true. pattern = &quot;abba&quot;, str = &quot;dog cat cat fish&quot; should return false. pattern = &quot;aaaa&quot;, str = &quot;dog cat cat dog&quot; should return false. pattern = &quot;abba&quot;, str = &quot;dog dog dog dog&quot; should return false. Notes:You may assume pattern contains only lowercase letters, and str contains lowercase letters separated by a single space. Java: 1234567891011121314151617181920212223public class Solution &#123; public boolean wordPattern(String pattern, String str) &#123; int len = pattern.length(); String[] strs = str.split(" "); int size = strs.length; if (len != size) return false; String[] map = new String[26]; HashSet&lt;String&gt; set = new HashSet&lt;String&gt;(); for (int i = 0; i &lt; len; ++i) &#123; int idx = pattern.charAt(i) - 'a'; String s = strs[i]; if (map[idx] == null) &#123; if (set.contains(s)) return false; map[idx] = s; set.add(s); &#125; else if (!map[idx].equals(s)) return false; &#125; return true; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Hash Table</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[20. Valid Parentheses]]></title>
    <url>%2F2016%2F02%2F29%2F20-valid-parentheses%2F</url>
    <content type="text"><![CDATA[Total Accepted: 95596Total Submissions: 332615Difficulty: Easy Given a string containing just the characters &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39; and &#39;]&#39;, determine if the input string is valid. The brackets must close in the correct order, &quot;()&quot; and &quot;()[]{}&quot; are all valid but &quot;(]&quot; and &quot;([)]&quot; are not. Java: 1234567891011121314151617181920212223public class Solution &#123; public boolean isValid(String s) &#123; int len = s.length(); char[] stack = new char[len + 1]; int top = 1; for (int i = 0; i &lt; len; ++i) &#123; char c = s.charAt(i); if (c == '(' || c == '[' || c == '&#123;') stack[top++] = c; else if (c == ')' &amp;&amp; stack[top - 1] != '(') return false; else if (c == ']' &amp;&amp; stack[top - 1] != '[') return false; else if (c == '&#125;' &amp;&amp; stack[top - 1] != '&#123;') return false; else --top; &#125; if (top == 1) return true; return false; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>String</tag>
        <tag>Stack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[205. Isomorphic Strings]]></title>
    <url>%2F2016%2F02%2F29%2F205-isomorphic-strings%2F</url>
    <content type="text"><![CDATA[Total Accepted: 47679Total Submissions: 165936Difficulty: Easy Given two strings _s_ and _t_, determine if they are isomorphic. Two strings are isomorphic if the characters in _s_ can be replaced to get _t_. All occurrences of a character must be replaced with another character while preserving the order of characters. No two characters may map to the same character but a character may map to itself. For example,Given &quot;egg&quot;, &quot;add&quot;, return true. Given &quot;foo&quot;, &quot;bar&quot;, return false. Given &quot;paper&quot;, &quot;title&quot;, return true. Note:You may assume both _s_ and _t_ have the same length. Java: 12345678910111213141516171819public class Solution &#123; public boolean isIsomorphic(String s, String t) &#123; int[] times1 = new int[128], times2 = new int[128]; int len = s.length(); for (int i = 0, smax = 0, tmax = 0; i &lt; len; ++i) &#123; char sc = s.charAt(i); char tc = t.charAt(i); if (times1[sc] == 0) &#123; times1[sc] = ++smax; &#125; if (times2[tc] == 0) &#123; times2[tc] = ++tmax; &#125; if (times1[sc] != times2[tc]) return false; &#125; return true; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Hash Table</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[299. Bulls and Cows]]></title>
    <url>%2F2016%2F02%2F28%2F299-bulls-and-cows%2F</url>
    <content type="text"><![CDATA[Total Accepted: 20108Total Submissions: 70200Difficulty: Easy You are playing the following Bulls and Cows game with your friend: You write down a number and ask your friend to guess what the number is. Each time your friend makes a guess, you provide a hint that indicates how many digits in said guess match your secret number exactly in both digit and position (called â€œbullsâ€) and how many digits match the secret number but locate in the wrong position (called â€œcowsâ€). Your friend will use successive guesses and hints to eventually derive the secret number. For example: Secret number: "1807" Friend's guess: "7810" Hint: 1 bull and 3 cows. (The bull is 8, the cows are 0, 1 and 7.) Write a function to return a hint according to the secret number and friendâ€™s guess, use A to indicate the bulls and B to indicate the cows. In the above example, your function should return &quot;1A3B&quot;. Please note that both secret number and friend&#39;s guess may contain duplicate digits, for example: Secret number: "1123" Friend's guess: "0111" In this case, the 1st 1 in friendâ€™s guess is a bull, the 2nd or 3rd 1 is a cow, and your function should return &quot;1A1B&quot;. You may assume that the secret number and your friendâ€™s guess only contain digits, and their lengths are always equal. Java: 1234567891011121314151617181920public class Solution &#123; public String getHint(String secret, String guess) &#123; int len = secret.length(); int[] secretarr = new int[10]; int[] guessarr = new int[10]; int bull = 0, cow = 0; for (int i = 0; i &lt; len; ++i) &#123; if (secret.charAt(i) == guess.charAt(i)) &#123; ++bull; &#125; else &#123; ++secretarr[secret.charAt(i) - '0']; ++guessarr[guess.charAt(i) - '0']; &#125; &#125; for (int i = 0; i &lt; 10; ++i) &#123; cow += Math.min(secretarr[i], guessarr[i]); &#125; return "" + bull + "A" + cow + "B"; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Hash Table</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[19. Remove Nth Node From End of List]]></title>
    <url>%2F2016%2F02%2F27%2F19-remove-nth-node-from-end-of-list%2F</url>
    <content type="text"><![CDATA[Total Accepted: 96063Total Submissions: 333812Difficulty: Easy Given a linked list, remove the _n_th node from the end of list and return its head. For example, Given linked list: 1->2->3->4->5, and n = 2. After removing the second node from the end, the linked list becomes 1->2->3->5. Note:Given _n_ will always be valid.Try to do this in one pass. Java: 1234567891011121314151617181920212223242526/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public ListNode removeNthFromEnd(ListNode head, int n) &#123; ListNode pre = head, after = head; while (n-- != 0) &#123; after = after.next; &#125; if (after != null) &#123; while (after.next != null) &#123; pre = pre.next; after = after.next; &#125; pre.next = pre.next.next; &#125; else &#123; return head.next; &#125; return head; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Linked List</tag>
        <tag>Two Pointers</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[58. Length of Last Word]]></title>
    <url>%2F2016%2F02%2F27%2F58-length-of-last-word%2F</url>
    <content type="text"><![CDATA[Total Accepted: 83878Total Submissions: 291685Difficulty: Easy Given a string _s_ consists of upper/lower-case alphabets and empty space characters &#39; &#39;, return the length of last word in the string. If the last word does not exist, return 0. Note: A word is defined as a character sequence consists of non-space characters only. For example,Given _s_ = &quot;Hello World&quot;, return 5. Java: 12345678910public class Solution &#123; public int lengthOfLastWord(String s) &#123; s = s.trim(); if (s.equals("")) return 0; int res = 0; for (int i = s.length() - 1; i &gt; -1 &amp;&amp; s.charAt(i) != ' '; ++res, --i); return res; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>String</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[190. Reverse Bits]]></title>
    <url>%2F2016%2F02%2F27%2F190-reverse-bits%2F</url>
    <content type="text"><![CDATA[Total Accepted: 54042Total Submissions: 185450Difficulty: Easy Reverse bits of a given 32 bits unsigned integer. For example, given input 43261596 (represented in binary as 00000010100101000001111010011100), return 964176192 (represented in binary as 00111001011110000010100101000000). Follow up:If this function is called many times, how would you optimize it? Related problem: Reverse Integer Java: 1234567891011121314public class Solution &#123; // you need treat n as an unsigned value public int reverseBits(int n) &#123; int res = 0; for (int i = 0; i &lt; 32; ++i) &#123; res &lt;&lt;= 1; if(n != 0)&#123; res += n % 2; n &gt;&gt;&gt;= 1; &#125; &#125; return res; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Bit Manipulation</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[219. Contains Duplicate II]]></title>
    <url>%2F2016%2F02%2F26%2F219-contains-duplicate-ii%2F</url>
    <content type="text"><![CDATA[Total Accepted: 46925Total Submissions: 160698Difficulty: Easy Given an array of integers and an integer _k_, find out whether there are two distinct indices _i_ and _j_ in the array such that nums[i] = nums[j] and the difference between _i_ and _j_ is at most _k_. Java: 123456789101112131415161718192021222324252627282930public class Solution &#123; public class MyArr &#123; int data; int index; &#125; class mycmp implements Comparator&lt;MyArr&gt; &#123; @Override public int compare(MyArr o1, MyArr o2) &#123; return o1.data - o2.data; &#125; &#125; public boolean containsNearbyDuplicate(int[] nums, int k) &#123; int len = nums.length; MyArr[] myArrs = new MyArr[len]; for (int i = 0; i &lt; len; ++i) &#123; myArrs[i] = new MyArr(); myArrs[i].data = nums[i]; myArrs[i].index = i; &#125; Arrays.sort(myArrs, 0, len, new mycmp()); for (int i = 0; i &lt; len - 1; i++) &#123; if (myArrs[i].data == myArrs[i + 1].data &amp;&amp; Math.abs((myArrs[i].index - myArrs[i + 1].index)) &lt;= k) return true; &#125; return false; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Array</tag>
        <tag>Hash Table</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[28. Implement strStr()]]></title>
    <url>%2F2016%2F02%2F25%2F28-implement-strstr%2F</url>
    <content type="text"><![CDATA[Total Accepted: 93775Total Submissions: 386039Difficulty: Easy Implement strStr(). Returns the index of the first occurrence of needle in haystack, or -1 if needle is not part of haystack. Java: 123456789101112131415161718192021222324252627282930313233343536373839404142public class Solution &#123; public int strStr(String haystack, String needle) &#123; int len1 = haystack.length(); int len2 = needle.length(); if (len2 == 0) return 0; int[] next = new int[len2]; char[] substr = needle.toCharArray(); char[] str = haystack.toCharArray(); getNext(substr, next); int i = 0, j = 0; while (i &lt; len1 &amp;&amp; j &lt; len2) &#123; if (j == -1 || str[i] == substr[j]) &#123; ++i; ++j; &#125; else &#123; j = next[j]; &#125; &#125; if (len2 == j) return i - j; return -1; &#125; private void getNext(char str[], int next[]) &#123; int i = 0, j = -1; next[0] = -1; int len = str.length; while (i &lt; len - 1) &#123; if (j == -1 || str[i] == str[j]) &#123; ++i; ++j; if (str[i] == str[j]) next[i] = next[j]; else next[i] = j; &#125; else j = next[j]; &#125; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>String</tag>
        <tag>Two Pointers</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[223. Rectangle Area]]></title>
    <url>%2F2016%2F02%2F21%2F223-rectangle-area%2F</url>
    <content type="text"><![CDATA[Total Accepted: 30441Total Submissions: 104452Difficulty: Easy Find the total area covered by two rectilinear rectangles in a 2D plane. Each rectangle is defined by its bottom left corner and top right corner as shown in the figure. Assume that the total area is never beyond the maximum possible value of int. Java: 12345678public class Solution &#123; public int computeArea(int A, int B, int C, int D, int E, int F, int G, int H) &#123; int r = (C - A) * (D - B) + (G - E) * (H - F); if (!(A &gt;= G || B &gt;= H || C &lt;= E || D &lt;= F)) r -= (Math.min(C, G) - Math.max(A, E)) * (Math.min(D, H) - Math.max(B, F)); return r; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[88. Merge Sorted Array]]></title>
    <url>%2F2016%2F02%2F21%2F88-merge-sorted-array%2F</url>
    <content type="text"><![CDATA[Total Accepted: 88608Total Submissions: 297379Difficulty: Easy Given two sorted integer arrays nums1 and nums2, merge nums2 into nums1 as one sorted array. Note:You may assume that nums1 has enough space (size that is greater or equal to _m_ + _n_) to hold additional elements from nums2. The number of elements initialized in nums1 and nums2 are _m_ and _n_ respectively. Java: 123456789public class Solution &#123; public void merge(int[] nums1, int m, int[] nums2, int n) &#123; int k = m-- + n-- - 1; while (m &gt;= 0 &amp;&amp; n &gt;= 0) nums1[k--] = nums1[m] &gt; nums2[n] ? nums1[m--] : nums2[n--]; while (n &gt;= 0) nums1[k--] = nums2[n--]; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Array</tag>
        <tag>Two Pointers</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[160. Intersection of Two Linked Lists]]></title>
    <url>%2F2016%2F02%2F18%2F160-intersection-of-two-linked-lists%2F</url>
    <content type="text"><![CDATA[Total Accepted: 62565Total Submissions: 208321Difficulty: Easy Write a program to find the node at which the intersection of two singly linked lists begins. For example, the following two linked lists: A: a1 â†’ a2 â†˜ c1 â†’ c2 â†’ c3 â†— B: b1 â†’ b2 â†’ b3 begin to intersect at node c1. Notes: If the two linked lists have no intersection at all, return null. The linked lists must retain their original structure after the function returns. You may assume there are no cycles anywhere in the entire linked structure. Your code should preferably run in O(n) time and use only O(1) memory. Credits:Special thanks to @stellari for adding this problem and creating all test cases. Java: 1234567891011121314151617181920212223/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; * val = x; * next = null; * &#125; * &#125; */public class Solution &#123; public ListNode getIntersectionNode(ListNode headA, ListNode headB) &#123; if(headA==null || headB==null)return null; ListNode a=headA; ListNode b=headB; while(a!=b)&#123; a=a==null?headB:a.next; b=b==null?headA:b.next; &#125; return a; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Linked List</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[111. Minimum Depth of Binary Tree]]></title>
    <url>%2F2016%2F02%2F18%2F111-minimum-depth-of-binary-tree%2F</url>
    <content type="text"><![CDATA[Total Accepted: 93588Total Submissions: 309967Difficulty: Easy Given a binary tree, find its minimum depth. The minimum depth is the number of nodes along the shortest path from the root node down to the nearest leaf node. Java: 12345678910111213141516171819202122232425262728293031/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public int minDepth(TreeNode root) &#123; if(root==null)return 0; Queue&lt;TreeNode&gt; comeIn=new LinkedList&lt;TreeNode&gt;(); int res=0; comeIn.offer(root); while(!comeIn.isEmpty())&#123; int size=comeIn.size(); res++; for(int i = 0;i &lt; size; ++ i)&#123; TreeNode tmp=comeIn.poll(); if(tmp.left == null &amp;&amp; tmp.right == null) return res; if(tmp.left != null) comeIn.offer(tmp.left); if(tmp.right != null) comeIn.offer(tmp.right); &#125; &#125; return 520; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tree</tag>
        <tag>Depth-first Search</tag>
        <tag>Breadth-first Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[225. Implement Stack using Queues]]></title>
    <url>%2F2016%2F02%2F18%2F225-implement-stack-using-queues%2F</url>
    <content type="text"><![CDATA[Total Accepted: 31239Total Submissions: 102745Difficulty: Easy Implement the following operations of a stack using queues. push(x) â€“ Push element x onto stack. pop() â€“ Removes the element on top of the stack. top() â€“ Get the top element. empty() â€“ Return whether the stack is empty. Notes: You must use only standard operations of a queue â€“ which means only push to back, peek/pop from front, size, and is empty operations are valid. Depending on your language, queue may not be supported natively. You may simulate a queue by using a list or deque (double-ended queue), as long as you use only standard operations of a queue. You may assume that all operations are valid (for example, no pop or top operations will be called on an empty stack). Java: 1234567891011121314151617181920212223class MyStack &#123; private Deque&lt;Integer&gt; queue = new ArrayDeque&lt;&gt;(); // Push element x onto stack. public void push(int x) &#123; queue.add(x); &#125; // Removes the element on top of the stack. public void pop() &#123; queue.removeLast(); &#125; // Get the top element. public int top() &#123; return queue.getLast(); &#125; // Return whether the stack is empty. public boolean empty() &#123; return queue.size()==0; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Stack</tag>
        <tag>Design</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[9. Palindrome Number]]></title>
    <url>%2F2016%2F02%2F17%2F9-palindrome-number%2F</url>
    <content type="text"><![CDATA[Total Accepted: 106331Total Submissions: 345763Difficulty: Easy Determine whether an integer is a palindrome. Do this without extra space. click to show spoilers. Some hints: Could negative integers be palindromes? (ie, -1) If you are thinking of converting the integer to string, note the restriction of using extra space. You could also try reversing an integer. However, if you have solved the problem â€œReverse Integerâ€, you know that the reversed integer might overflow. How would you handle such case? There is a more generic way of solving this problem. Java: 12345678910111213public class Solution &#123; public boolean isPalindrome(int x) &#123; if (x &lt; 0) return false; int y = 0, x1 = 1; while (x / x1 != 0) &#123; y = y * 10 + x % 10; x /= 10; x1 *= 10; &#125; return y &lt; 10 * x ? y == x : y / 10 == x; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[112. Path Sum]]></title>
    <url>%2F2016%2F02%2F17%2F112-path-sum%2F</url>
    <content type="text"><![CDATA[Total Accepted: 90381Total Submissions: 293367Difficulty: Easy Given a binary tree and a sum, determine if the tree has a root-to-leaf path such that adding up all the values along the path equals the given sum. For example:Given the below binary tree and sum = 22, 5 / \ 4 8 / / \ 11 13 4 / \ \ 7 2 1 return true, as there exist a root-to-leaf path 5-&gt;4-&gt;11-&gt;2 which sum is 22. Java: 12345678910111213141516171819/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public boolean hasPathSum(TreeNode root, int sum) &#123; if (root == null) return false; if (root.left == null &amp;&amp; root.right == null) return (root.val == sum); return hasPathSum(root.left, sum - root.val) || hasPathSum(root.right, sum - root.val); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tree</tag>
        <tag>Depth-first Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[119. Pascal's Triangle II]]></title>
    <url>%2F2016%2F02%2F17%2F119-pascals-triangle-ii%2F</url>
    <content type="text"><![CDATA[Total Accepted: 66540Total Submissions: 211819Difficulty: Easy Given an index _k_, return the _k_th row of the Pascalâ€™s triangle. For example, given _k_ = 3,Return [1,3,3,1]. Note:Could you optimize your algorithm to use only _O_(_k_) extra space? Java: 1234567891011public class Solution &#123; public List&lt;Integer&gt; getRow(int rowIndex) &#123; Integer[] arr = new Integer[rowIndex + 1]; int end = (rowIndex + 2) &gt;&gt; 1; arr[0] = arr[rowIndex] = 1; long j = rowIndex; for (int i = 1; i &lt; end; ++i, --j) arr[i] = arr[rowIndex - i] = (int) (j * arr[i - 1] / i); return Arrays.asList(arr); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Array</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[102. Binary Tree Level Order Traversal]]></title>
    <url>%2F2016%2F02%2F17%2F102-binary-tree-level-order-traversal%2F</url>
    <content type="text"><![CDATA[Total Accepted: 89586Total Submissions: 282417Difficulty: Easy Given a binary tree, return the level order traversal of its nodesâ€™ values. (ie, from left to right, level by level). For example:Given binary tree {3,9,20,#,#,15,7}, 3 / \ 9 20 / \ 15 7 return its level order traversal as: [ [3], [9,20], [15,7] ] confused what&quot;{1,#,2,3}&quot; means? &gt; read more on how binary tree is serialized on OJ. Java: å®½æœ:1234567891011121314151617181920212223242526272829303132/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123; List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;List&lt;Integer&gt;&gt;(); if (root == null) return res; Queue&lt;TreeNode&gt; q = new LinkedList&lt;TreeNode&gt;(); q.offer(root); while (!q.isEmpty()) &#123; List&lt;Integer&gt; tmp = new ArrayList&lt;Integer&gt;(); int size = q.size(); for (int i = 0; i &lt; size; ++i) &#123; TreeNode t = q.poll(); if (t.left != null) q.offer(t.left); if (t.right != null) q.offer(t.right); tmp.add(t.val); &#125; res.add(tmp); &#125; return res; &#125;&#125; æ·±æœ:123456789101112131415161718192021222324/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123; List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;List&lt;Integer&gt;&gt;(); dfs(res,root,0); return res; &#125; public void dfs(List&lt;List&lt;Integer&gt;&gt; list,TreeNode node,int deep)&#123; if(node==null)return; if(list.size()==deep) list.add(new ArrayList&lt;Integer&gt;()); list.get(deep).add(node.val); dfs(list, node.left, deep+1); dfs(list, node.right, deep+1); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tree</tag>
        <tag>Breadth-first Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[172. Factorial Trailing Zeroes]]></title>
    <url>%2F2016%2F02%2F17%2F172-factorial-trailing-zeroes%2F</url>
    <content type="text"><![CDATA[Total Accepted: 50404Total Submissions: 158693Difficulty: Easy Given an integer _n_, return the number of trailing zeroes in _n_!. Note: Your solution should be in logarithmic time complexity. Credits:Special thanks to @ts for adding this problem and creating all test cases. Java 1234567891011public class Solution &#123; public int trailingZeroes(int n) &#123; int res = 0; while(n &gt; 4) &#123; res += n / 5; n /= 5; &#125; return res; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[118. Pascal's Triangle]]></title>
    <url>%2F2016%2F02%2F17%2F118-pascals-triangle%2F</url>
    <content type="text"><![CDATA[Total Accepted: 73821Total Submissions: 227589Difficulty: Easy Given numRows, generate the first numRows of Pascalâ€™s triangle. For example, given numRows = 5, Return [ [1], [1,1], [1,2,1], [1,3,3,1], [1,4,6,4,1] ] Java: 1234567891011121314151617public class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) &#123; List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;List&lt;Integer&gt;&gt;(); List&lt;Integer&gt; row, pre = null; for (int i = 0; i &lt; numRows; ++i) &#123; row = new ArrayList&lt;Integer&gt;(); for (int j = 0; j &lt;= i; ++j) if (j == 0 || j == i) row.add(1); else row.add(pre.get(j - 1) + pre.get(j)); pre = row; res.add(row); &#125; return res; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Array</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[66. Plus One]]></title>
    <url>%2F2016%2F02%2F17%2F66-plus-one%2F</url>
    <content type="text"><![CDATA[Total Accepted: 86284Total Submissions: 264435Difficulty: Easy Given a non-negative number represented as an array of digits, plus one to the number. The digits are stored such that the most significant digit is at the head of the list. Java: 1234567891011121314151617public class Solution &#123; public int[] plusOne(int[] digits) &#123; int i = digits.length - 1; if (digits[i] &lt; 9) digits[i]++; else &#123; for (; i &gt;= 0 &amp;&amp; digits[i] == 9; --i) digits[i] = 0; if (digits[0] == 0) &#123; digits = new int[digits.length + 1]; digits[0] = 1; &#125; else digits[i]++; &#125; return digits; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
        <tag>Array</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[278. First Bad Version]]></title>
    <url>%2F2016%2F02%2F16%2F278-first-bad-version%2F</url>
    <content type="text"><![CDATA[Total Accepted: 31954Total Submissions: 146259Difficulty: Easy You are a product manager and currently leading a team to develop a new product. Unfortunately, the latest version of your product fails the quality check. Since each version is developed based on the previous version, all the versions after a bad version are also bad. Suppose you have n versions [1, 2, ..., n] and you want to find out the first bad one, which causes all the following ones to be bad. You are given an API bool isBadVersion(version) which will return whether version is bad. Implement a function to find the first bad version. You should minimize the number of calls to the API. Java: 1234567891011121314/* The isBadVersion API is defined in the parent class VersionControl. boolean isBadVersion(int version); */public class Solution extends VersionControl &#123; public int firstBadVersion(int n) &#123; int l=1,r=n; while(l&lt;r)&#123; int mid=l+((r-l)&gt;&gt;1); if (!isBadVersion(mid)) l = mid + 1; else r = mid; &#125; return l; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Binary Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[155. Min Stack]]></title>
    <url>%2F2016%2F02%2F16%2F155-min-stack%2F</url>
    <content type="text"><![CDATA[Total Accepted: 61492Total Submissions: 286112Difficulty: Easy Design a stack that supports push, pop, top, and retrieving the minimum element in constant time. push(x) â€“ Push element x onto stack. pop() â€“ Removes the element on top of the stack. top() â€“ Get the top element. getMin() â€“ Retrieve the minimum element in the stack. Java: 1234567891011121314151617181920212223242526272829class MinStack &#123; Stack&lt;Integer&gt; stack=new Stack&lt;Integer&gt;(); int min=Integer.MAX_VALUE; public void push(int x) &#123; if(x&lt;=min)&#123; //save the last min element stack.push(min); min=x; &#125; stack.push(x); &#125; public void pop() &#123; if(min==stack.pop())&#123; min=stack.peek(); stack.pop(); &#125; if(stack.empty()) min=Integer.MAX_VALUE; &#125; public int top() &#123; return stack.peek(); &#125; public int getMin() &#123; return min; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Stack</tag>
        <tag>Design</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[168. Excel Sheet Column Title]]></title>
    <url>%2F2016%2F02%2F16%2F168-excel-sheet-column-title%2F</url>
    <content type="text"><![CDATA[Total Accepted: 51862Total Submissions: 249733Difficulty: Easy Given a positive integer, return its corresponding column title as appear in an Excel sheet. For example: 1 -> A 2 -> B 3 -> C ... 26 -> Z 27 -> AA 28 -> AB Java: 12345678910public class Solution &#123; public String convertToTitle(int n) &#123; StringBuilder sb = new StringBuilder(); while(n!=0)&#123; sb.insert(0,(char)('A' + --n % 26)); n/=26; &#125; return sb.toString(); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[189. Rotate Array]]></title>
    <url>%2F2016%2F02%2F16%2F189-rotate-array%2F</url>
    <content type="text"><![CDATA[Total Accepted: 61150Total Submissions: 300206Difficulty: Easy Rotate an array of _n_ elements to the right by _k_ steps. For example, with _n_ = 7 and _k_ = 3, the array [1,2,3,4,5,6,7] is rotated to [5,6,7,1,2,3,4]. Note:Try to come up as many solutions as you can, there are at least 3 different ways to solve this problem. Java: 12345678910111213141516public class Solution &#123; public void reverse(int[] nums,int l,int r)&#123; while(l&lt;r)&#123; int temp=nums[l]; nums[l++]=nums[--r]; nums[r]=temp; &#125; &#125; public void rotate(int[] nums, int k) &#123; int n=nums.length; k=k%n; reverse(nums, 0 ,n-k); reverse(nums, n-k,n ); reverse(nums, 0 ,n ); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Array</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[165. Compare Version Numbers]]></title>
    <url>%2F2016%2F02%2F16%2F165-compare-version-numbers%2F</url>
    <content type="text"><![CDATA[Total Accepted: 45172Total Submissions: 268283Difficulty: Easy Compare two version numbers version1 and version2.If version1 &gt; version2 return 1, if version1 &lt; version2 return -1, otherwise return 0. You may assume that the version strings are non-empty and contain only digits and the . character. The . character does not represent a decimal point and is used to separate number sequences. For instance, 2.5 is not â€œtwo and a halfâ€ or â€œhalf way to version threeâ€, it is the fifth second-level revision of the second first-level revision. Here is an example of version numbers ordering: 0.1 < 1.1 < 1.2 < 13.37 Java: 12345678910111213141516public class Solution &#123; public int compareVersion(String version1, String version2) &#123; int len1=version1.length(),len2=version2.length(),i1=-1,i2=-1; while(i1&lt;len1||i2&lt;len2)&#123; ++i1;++i2; int v1=0,v2=0; while(i1&lt;len1&amp;&amp;version1.charAt(i1)!='.') v1=v1*10+version1.charAt(i1++)-'0'; while(i2&lt;len2&amp;&amp;version2.charAt(i2)!='.') v2=v2*10+version2.charAt(i2++)-'0'; if(v1!=v2) return v1&gt;v2?1:-1; &#125; return 0; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>String</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[8. String to Integer (atoi)]]></title>
    <url>%2F2016%2F02%2F16%2F8-string-to-integer-atoi%2F</url>
    <content type="text"><![CDATA[Total Accepted: 87527Total Submissions: 658165Difficulty: Easy Implement atoi to convert a string to an integer. Hint: Carefully consider all possible input cases. If you want a challenge, please do not see below and ask yourself what are the possible input cases. Notes: It is intended for this problem to be specified vaguely (ie, no given input specs). You are responsible to gather all the input requirements up front. Update (2015-02-10):The signature of the C++ function had been updated. If you still see your function signature accepts a const char * argument, please click the reload button to reset your code definition. spoilers alertâ€¦ click to show requirements for atoi. Requirements for atoi: The function first discards as many whitespace characters as necessary until the first non-whitespace character is found. Then, starting from this character, takes an optional initial plus or minus sign followed by as many numerical digits as possible, and interprets them as a numerical value. The string can contain additional characters after those that form the integral number, which are ignored and have no effect on the behavior of this function. If the first sequence of non-whitespace characters in str is not a valid integral number, or if no such sequence exists because either str is empty or it contains only whitespace characters, no conversion is performed. If no valid conversion could be performed, a zero value is returned. If the correct value is out of the range of representable values, INT_MAX (2147483647) or INT_MIN (-2147483648) is returned. å› ä¸ºæ²¡æœ‰çœ‹åˆ°çº¢å­—éƒ¨åˆ†ï¼Œéƒ½æ˜¯ä¸€ç›´æäº¤æ¥æŸ¥çœ‹é”™è¯¯ï¼Œå“ˆå“ˆå“ˆï¼Œæ‰€ä»¥ç•¥å‘ Java: 1234567891011121314151617181920public class Solution &#123; public int myAtoi(String str) &#123; if(str.isEmpty()) return 0; str=str.trim(); int i=0,ans=0,sign=1,len=str.length(); if(str.charAt(i)=='-'||str.charAt(i)=='+') sign=str.charAt(i++)=='+'?1:-1; for(;i&lt;len;++i)&#123; int tmp=str.charAt(i)-'0'; if(tmp&lt;0||tmp&gt;9) break; if(ans&gt;Integer.MAX_VALUE/10||ans==Integer.MAX_VALUE/10&amp;&amp;Integer.MAX_VALUE %10 &lt; tmp) return sign==1?Integer.MAX_VALUE:Integer.MIN_VALUE; else ans=ans*10+tmp; &#125; return sign*ans; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
        <tag>String</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[26. Remove Duplicates from Sorted Array]]></title>
    <url>%2F2016%2F02%2F16%2F26-remove-duplicates-from-sorted-array%2F</url>
    <content type="text"><![CDATA[Total Accepted: 112046Total Submissions: 342076Difficulty: Easy Given a sorted array, remove the duplicates in place such that each element appear only once and return the new length. Do not allocate extra space for another array, you must do this in place with constant memory. For example,Given input array nums = [1,1,2], Your function should return length = 2, with the first two elements of nums being 1 and 1 respectively. It doesnâ€™t matter what you leave beyond the new length. Java: 123456789101112131415public class Solution &#123; public int removeDuplicates(int[] nums) &#123; int dupes = 0; int len=nums.length; for (int i = 1; i &lt; len; i++) &#123; if (nums[i] == nums[i - 1]) dupes++; nums[i - dupes] = nums[i]; &#125; return len - dupes; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Array</tag>
        <tag>Two Pointers</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[27. Remove Element]]></title>
    <url>%2F2016%2F02%2F16%2F27-remove-element%2F</url>
    <content type="text"><![CDATA[Total Accepted: 101318Total Submissions: 307664Difficulty: Easy Given an array and a value, remove all instances of that value in place and return the new length. The order of elements can be changed. It doesnâ€™t matter what you leave beyond the new length. Java: 12345678910public class Solution &#123; public int removeElement(int[] nums, int val) &#123; int len=nums.length; int res=0; for(int i=0;i&lt;len;++i) if(nums[i]!=val) nums[res++]=nums[i]; return res; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Array</tag>
        <tag>Two Pointers</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[107. Binary Tree Level Order Traversal II]]></title>
    <url>%2F2016%2F02%2F16%2F107-binary-tree-level-order-traversal-ii%2F</url>
    <content type="text"><![CDATA[Total Accepted: 70095Total Submissions: 211952Difficulty: Easy Given a binary tree, return the bottom-up level order traversal of its nodesâ€™ values. (ie, from left to right, level by level from leaf to root). For example:Given binary tree {3,9,20,#,#,15,7}, 3 / \ 9 20 / \ 15 7 return its bottom-up level order traversal as: [ [15,7], [9,20], [3] ] confused what &quot;{1,#,2,3}&quot; means? &gt; read more on how binary tree is serialized on OJ. Java: 1234567891011121314151617181920212223242526272829303132/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; levelOrderBottom(TreeNode root) &#123; List&lt;List&lt;Integer&gt;&gt; res=new LinkedList&lt;List&lt;Integer&gt;&gt;(); if(root==null) return res; Queue&lt;TreeNode&gt; q =new LinkedList&lt;TreeNode&gt;(); q.offer(root); while(!q.isEmpty())&#123; int size=q.size(); List&lt;Integer&gt; tmp=new LinkedList&lt;Integer&gt;(); for(int i=0;i&lt;size;++i)&#123; TreeNode temp=q.poll(); if(temp.left!=null) q.offer(temp.left); if(temp.right!=null) q.offer(temp.right); tmp.add(temp.val); &#125; res.add(0, tmp); &#125; return res; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tree</tag>
        <tag>Breadth-first Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[198. House Robber]]></title>
    <url>%2F2016%2F02%2F14%2F198-house-robber%2F</url>
    <content type="text"><![CDATA[Total Accepted: 54030Total Submissions: 163275Difficulty: Easy You are a professional robber planning to rob houses along a street. Each house has a certain amount of money stashed, the only constraint stopping you from robbing each of them is that adjacent houses have security system connected and it will automatically contact the police if two adjacent houses were broken into on the same night. Given a list of non-negative integers representing the amount of money of each house, determine the maximum amount of money you can rob tonight without alerting the police. å…¸å‹çš„åŠ¨æ€è§„åˆ’ï¼Œdp[i]ä»£è¡¨å‰iä¸ªæ•°ä¸­å¯å–æœ€å¤§å€¼dp[i]=Math.max(dp[i-1],nums[i]+dp[i-2]); Java: 123456789101112131415161718public class Solution &#123; public int rob(int[] nums) &#123; int n=nums.length; if(n==0) return 0; if(n==1) return nums[0]; if(n==2) return Math.max(nums[0],nums[1]); int[] dp= new int[n]; dp[0]=nums[0]; dp[1]=Math.max(nums[0],nums[1]); for(int i=2;i&lt;n;++i)&#123; dp[i]=Math.max(dp[i-1],nums[i]+dp[i-2]); &#125; return dp[n-1]; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Dynamic Programming</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[101. Symmetric Tree]]></title>
    <url>%2F2016%2F02%2F13%2F101-symmetric-tree%2F</url>
    <content type="text"><![CDATA[Total Accepted: 93600Total Submissions: 281557Difficulty: Easy Given a binary tree, check whether it is a mirror of itself (ie, symmetric around its center). For example, this binary tree is symmetric: 1 / \ 2 2 / \ / \ 3 4 4 3 But the following is not: 1 / \ 2 2 \ \ 3 3 Note:Bonus points if you could solve it both recursively and iteratively. confused what &quot;{1,#,2,3}&quot; means? &gt; read more on how binary tree is serialized on OJ. Java: é€’å½’:1234567891011121314151617181920212223 * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public boolean isSymmetric(TreeNode root) &#123; if (root == null) return true; return isSymmetric(root.left ,root.right); &#125; public boolean isSymmetric(TreeNode node1 , TreeNode node2)&#123; if(node1 == null &amp;&amp; node2 == null) return true; if(node1 == null || node2 == null) return false; return node1.val == node2.val &amp;&amp;isSymmetric(node1.left, node2.right) &amp;&amp; isSymmetric(node1.right,node2.left); &#125;&#125; å•é˜Ÿåˆ—ï¼š123456789101112131415161718192021222324252627282930313233/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public boolean isSymmetric(TreeNode root) &#123; if (root == null) return true; Queue&lt;TreeNode&gt; q = new LinkedList&lt;TreeNode&gt;(); q.offer(root.left); q.offer(root.right); while (!q.isEmpty()) &#123; TreeNode l = q.poll(); TreeNode r = q.poll(); if (l == null &amp;&amp; r == null) continue; if (l == null || r == null) return false; if(l.val!=r.val) return false; q.offer(l.left); q.offer(r.right); q.offer(l.right); q.offer(r.left); &#125; return true; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tree</tag>
        <tag>Depth-first Search</tag>
        <tag>Breadth-first Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[110. Balanced Binary Tree]]></title>
    <url>%2F2016%2F02%2F13%2F110-balanced-binary-tree%2F</url>
    <content type="text"><![CDATA[Total Accepted: 96062Total Submissions: 287739Difficulty: Easy Given a binary tree, determine if it is height-balanced. For this problem, a height-balanced binary tree is defined as a binary tree in which the depth of the two subtrees of every node never differ by more than 1. Java: 12345678910111213141516171819202122232425262728/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public boolean isBalanced(TreeNode root) &#123; return check(root)!=-1; &#125; public int check(TreeNode root)&#123; if(root==null) return 0; int lh=check(root.left); if(lh==-1) return -1; int rh=check(root.right); if(rh==-1) return -1; if(Math.abs(lh-rh)&gt;1) return -1; return 1+Math.max(lh, rh); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tree</tag>
        <tag>Depth-first Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[232. Implement Queue using Stacks]]></title>
    <url>%2F2016%2F02%2F13%2F232-implement-queue-using-stacks%2F</url>
    <content type="text"><![CDATA[Total Accepted: 33142Total Submissions: 97820Difficulty: Easy Implement the following operations of a queue using stacks. push(x) â€“ Push element x to the back of queue. pop() â€“ Removes the element from in front of queue. peek() â€“ Get the front element. empty() â€“ Return whether the queue is empty. Notes: You must use only standard operations of a stack â€“ which means only push to top, peek/pop from top, size, and is empty operations are valid. Depending on your language, stack may not be supported natively. Youmay simulate a stack by using a list or deque (double-ended queue), aslong as you use only standard operations of a stack. You may assume that all operations are valid (for example, no pop or peek operations will be called on an empty queue). ä¸¤ä¸ªæ ˆæ¥å®ç°é˜Ÿåˆ—çš„æ•ˆæœ Java: 12345678910111213141516171819202122232425262728class MyQueue &#123; Stack&lt;Integer&gt; input = new Stack(); Stack&lt;Integer&gt; output = new Stack(); // Push element x to the back of queue. public void push(int x) &#123; input.push(x); &#125; // Removes the element from in front of queue. public void pop() &#123; peek(); output.pop(); &#125; // Get the front element. public int peek() &#123; if (output.empty()) while (!input.empty()) output.push(input.pop()); return output.peek(); &#125; // Return whether the queue is empty. public boolean empty() &#123; return input.empty() &amp;&amp; output.empty(); &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Stack</tag>
        <tag>Design</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[21. Merge Two Sorted Lists]]></title>
    <url>%2F2016%2F02%2F13%2F21-merge-two-sorted-lists%2F</url>
    <content type="text"><![CDATA[Total Accepted: 107818Total Submissions: 312053Difficulty: Easy Merge two sorted linked lists and return it as a new list. The new list should be made by splicing together the nodes of the first two lists. Java: 1234567891011121314151617181920212223242526272829/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public ListNode mergeTwoLists(ListNode l1, ListNode l2) &#123; ListNode ans=new ListNode(0); ListNode temp=ans; while(l1!=null&amp;&amp;l2!=null)&#123; if(l1.val&lt;l2.val)&#123; temp.next=l1; l1=l1.next; &#125;else&#123; temp.next=l2; l2=l2.next; &#125; temp=temp.next; &#125; if(l1!=null) temp.next=l1; else temp.next=l2; return ans.next; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Linked List</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[326. Power of Three]]></title>
    <url>%2F2016%2F02%2F13%2F326-power-of-three%2F</url>
    <content type="text"><![CDATA[Total Accepted: 18416Total Submissions: 52117Difficulty: Easy Given an integer, write a function to determine if it is a power of three. Follow up: Could you do it without using any loop / recursion? Java: 12345public class Solution &#123; public boolean isPowerOfThree(int n) &#123; return n==Math.pow(3, (int)Math.round(Math.log10(n)/Math.log10(3))); &#125;&#125; æ›´å¥½çš„å½“ç„¶æ˜¯è¿™ä¸ªäº† 12345public class Solution &#123; public boolean isPowerOfThree(int n) &#123; return n&gt;0&amp;&amp;1162261467%n==0; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[202. Happy Number]]></title>
    <url>%2F2016%2F02%2F13%2F202-happy-number%2F</url>
    <content type="text"><![CDATA[Total Accepted: 54163Total Submissions: 152329Difficulty: Easy Write an algorithm to determine if a number is â€œhappyâ€. A happy number is a number defined by the following process: Starting with any positive integer, replace the number by the sum of the squares of its digits, and repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1. Those numbers for which this process ends in 1 are happy numbers. Example: 19 is a happy number 12 + 92 = 82 82 + 22 = 68 62 + 82 = 100 12 + 02 + 02 = 1 Credits:Special thanks to @mithmatt and @ts for adding this problem and creating all test cases. Java: 12345678910111213public class Solution &#123; public boolean isHappy(int n) &#123; while(n&gt;6)&#123; int temp=0; while(n!=0)&#123; temp+=(n%10)*(n%10); n/=10; &#125; n=temp; &#125; return n==1; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
        <tag>Hash Table</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[263. Ugly Number]]></title>
    <url>%2F2016%2F02%2F12%2F263-ugly-number%2F</url>
    <content type="text"><![CDATA[Total Accepted: 41516Total Submissions: 116368Difficulty: Easy Write a program to check whether a given number is an ugly number. Ugly numbers are positive numbers whose prime factors only include 2, 3, 5. For example, 6, 8 are ugly while 14 is not ugly since it includes another prime factor 7. Note that 1 is typically treated as an ugly number. æ³¨æ„0ä¸æ˜¯å°±å¥½ Java: 123456789public class Solution &#123; public boolean isUgly(int num) &#123; if(num==0) return false; while(num%2==0) num=num&gt;&gt;1; while(num%3==0) num=num/3; while(num%5==0) num=num/5; return num==1; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[70. Climbing Stairs]]></title>
    <url>%2F2016%2F02%2F12%2F70-climbing-stairs%2F</url>
    <content type="text"><![CDATA[Total Accepted: 93127Total Submissions: 258282Difficulty: Easy You are climbing a stair case. It takes _n_ steps to reach to the top. Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top? Java: 123456789public class Solution &#123; public int climbStairs(int n) &#123; int[] ans=new int[n+1]; ans[0]=ans[1]=1; for(int i=2;i&lt;=n;++i) ans[i]=ans[i-1]+ans[i-2]; return ans[n]; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Dynamic Programming</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[83. Remove Duplicates from Sorted List]]></title>
    <url>%2F2016%2F02%2F12%2F83-remove-duplicates-from-sorted-list%2F</url>
    <content type="text"><![CDATA[Total Accepted: 100371Total Submissions: 278401Difficulty: Easy Given a sorted linked list, delete all duplicates such that each element appear only once. For example,Given 1-&gt;1-&gt;2, return 1-&gt;2.Given 1-&gt;1-&gt;2-&gt;3-&gt;3, return 1-&gt;2-&gt;3. Java: 1234567891011121314151617181920212223242526272829/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public ListNode deleteDuplicates(ListNode head) &#123; if(head == null||head.next==null) return head; ListNode curr = head; ListNode itr = head; while(curr.next != null) &#123; while(itr.val == curr.val &amp;&amp; itr.next != null) &#123; itr = itr.next; &#125; if(curr.val != itr.val) &#123; curr.next = itr; curr = curr.next; &#125; else &#123; curr.next = null; &#125; &#125; return head; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Linked List</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[191. Number of 1 Bits]]></title>
    <url>%2F2016%2F02%2F10%2F191-number-of-1-bits%2F</url>
    <content type="text"><![CDATA[Total Accepted: 74078Total Submissions: 196833Difficulty: Easy Write a function that takes an unsigned integer and returns the number of â€™1â€™ bits it has (also known as the Hamming weight). For example, the 32-bit integer â€™11â€™ has binary representation 00000000000000000000000000001011, so the function should return 3. javaä¸­éœ€è¦æ³¨æ„ç¬¦å·ä½ï¼Œå› ä¸ºç¬¦å·ä½ä¹Ÿç®—1ï¼Œæ‰€ä»¥å°±è¦ç”¨&gt;&gt;&gt;æ— ç¬¦å·å³ç§» Java: 1234567891011public class Solution &#123; // you need to treat n as an unsigned value public int hammingWeight(int n) &#123; int ans=0; while(n!=0)&#123; ans+=(n&amp;1); n&gt;&gt;&gt;=1; &#125; return ans; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Bit Manipulation</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[13. Roman to Integer]]></title>
    <url>%2F2016%2F02%2F10%2F13-roman-to-integer%2F</url>
    <content type="text"><![CDATA[Total Accepted: 71392Total Submissions: 188974Difficulty: Easy Given a roman numeral, convert it to an integer. Input is guaranteed to be within the range from 1 to 3999. Java: 12345678910111213141516171819202122public class Solution &#123; public int romanToInt(String s) &#123; int len=s.length()-1; int[] hash=new int[26]; hash['I'-'A']=1; hash['V'-'A']=5; hash['X'-'A']=10; hash['L'-'A']=50; hash['C'-'A']=100; hash['D'-'A']=500; hash['M'-'A']=1000; int i=0,ans=0; for(;i&lt;len;++i)&#123; if(hash[s.charAt(i)-'A']&lt;hash[s.charAt(i+1)-'A']) ans-=hash[s.charAt(i)-'A']; else ans+=hash[s.charAt(i)-'A']; &#125; return ans+hash[s.charAt(i)-'A']; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Math</tag>
        <tag>String</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[206. Reverse Linked List]]></title>
    <url>%2F2016%2F02%2F10%2F206-reverse-linked-list%2F</url>
    <content type="text"><![CDATA[Total Accepted: 81448Total Submissions: 214931Difficulty: Easy Reverse a singly linked list. click to show more hints. Hint: A linked list can be reversed either iteratively or recursively. Could you implement both? å‘ç°javaå¤§éƒ¨åˆ†æ˜¯æœ€å¿«çš„ï¼Œéš¾é“æ˜¯easyé¢˜ç›®çš„åŸå› ï¼Ÿ Java: 1234567891011121314151617181920/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public ListNode reverseList(ListNode head) &#123; ListNode re=null,t; while(head!=null)&#123; t=head.next; head.next=re; re=head; head=t; &#125; return re; &#125;&#125;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Linked List</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[328. Odd Even Linked List]]></title>
    <url>%2F2016%2F02%2F10%2F328-odd-even-linked-list%2F</url>
    <content type="text"><![CDATA[Total Accepted: 12675Total Submissions: 33458Difficulty: Easy Given a singly linked list, group all odd nodes together followed by the even nodes. Please note here we are talking about the node number and not the value in the nodes. You should try to do it in place. The program should run in O(1) space complexity and O(nodes) time complexity. Example:Given 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL,return 1-&gt;3-&gt;5-&gt;2-&gt;4-&gt;NULL. Note:The relative order inside both the even and odd groups should remain as it was in the input.The first node is considered odd, the second node even and so on â€¦ C++: 123456789101112131415161718192021222324/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: ListNode* oddEvenList(ListNode* head) &#123; if(head==NULL) return NULL; ListNode *odd=head,*even=head-&gt;next,*te=even; while(even&amp;&amp;even-&gt;next)&#123; odd-&gt;next=even-&gt;next; odd=odd-&gt;next; even-&gt;next=odd-&gt;next; even=even-&gt;next; &#125; odd-&gt;next=te; return head; &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Linked List</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[235. Lowest Common Ancestor of a Binary Search Tree]]></title>
    <url>%2F2016%2F02%2F10%2F235-lowest-common-ancestor-of-a-binary-search-tree%2F</url>
    <content type="text"><![CDATA[Total Accepted: 52403Total Submissions: 137993Difficulty: Easy Given a binary search tree (BST), find the lowest common ancestor (LCA) of two given nodes in the BST. According to the definition of LCA on Wikipedia: â€œThe lowest common ancestor is defined between two nodes v and w as the lowest node in T that has both v and w as descendants (where we allow a node to be a descendant of itself).â€ _______6______ / \ ___2__ ___8__ / \ / \ 0 _4 7 9 / \ 3 5 For example, the lowest common ancestor (LCA) of nodes 2 and 8 is 6. Another example is LCA of nodes 2 and 4 is 2, since a node can be a descendant of itself according to the LCA definition. äºŒå‰æœç´¢æ ‘çš„æ‰¾åˆ°ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€è¿‘åŒäº² C++: 1234567891011121314151617/** * Definition for a binary tree node. * struct TreeNode &#123; * int val; * TreeNode *left; * TreeNode *right; * TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: TreeNode* lowestCommonAncestor(TreeNode* root, TreeNode* p, TreeNode* q) &#123; while((root-&gt;val-p-&gt;val)*(root-&gt;val-q-&gt;val)&gt;0) root=p-&gt;val&lt;root-&gt;val?root-&gt;left:root-&gt;right; return root; &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Tree</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[169. Majority Element]]></title>
    <url>%2F2016%2F02%2F10%2F169-majority-element%2F</url>
    <content type="text"><![CDATA[Total Accepted: 92197Total Submissions: 232301Difficulty: Easy Given an array of size _n_, find the majority element. The majority element is the element that appears more than âŒŠ n/2 âŒ‹ times. You may assume that the array is non-empty and the majority element always exist in the array. è¿˜æ˜¯hashï¼Œhashä¸­è¿‡åŠå³ç­”æ¡ˆ C++: 12345678class Solution &#123;public: int majorityElement(vector&lt;int&gt;&amp; nums) &#123; unordered_map&lt;int,int&gt; h; for(int i=0,n=nums.size();i&lt;n;++i) if(++h[nums[i]]&gt;n/2)return nums[i]; &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Array</tag>
        <tag>Divide and Conquer</tag>
        <tag>Bit Manipulation</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[171. Excel Sheet Column Number]]></title>
    <url>%2F2016%2F02%2F10%2F171-excel-sheet-column-number%2F</url>
    <content type="text"><![CDATA[Total Accepted: 64100Total Submissions: 159751Difficulty: Easy Related to question Excel Sheet Column Title Given a column title as appear in an Excel sheet, return its corresponding column number. For example: A -> 1 B -> 2 C -> 3 ... Z -> 26 AA -> 27 AB -> 28 æˆ‘æ˜¯æŠŠå®ƒçœ‹æˆæ˜¯ç±»ä¼¼æ˜¯26è¿›åˆ¶ C++: 123456789class Solution &#123;public: int titleToNumber(string s) &#123; int ans = 0; for(int i = 0; i &lt; s.length(); ++i) ans = ans * 26 + s[i] - 'A' + 1; return ans; &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[217. Contains Duplicate]]></title>
    <url>%2F2016%2F02%2F10%2F217-contains-duplicate%2F</url>
    <content type="text"><![CDATA[Total Accepted: 67962Total Submissions: 169476Difficulty: Easy Given an array of integers, find if the array contains any duplicates. Your function should return true if any value appears at least twice in the array, and it should return false if every element is distinct. C++: 1234567891011121314class Solution &#123;public: bool containsDuplicate(vector&lt;int&gt;&amp; nums) &#123; int n=nums.size(); unordered_map&lt;int,int&gt; h; for(int i=0;i&lt;n;++i)&#123; if(h.count(nums[i]))&#123; return true; &#125; h[nums[i]]=1; &#125; return false; &#125;&#125;; çœ‹åˆ°äº†ä½¿ç”¨setçš„ï¼Œè¡¨ç¤ºä½©æœï¼Œä»£ç åªéœ€ä¸€è¡Œ 1234class Solution &#123; public: bool containsDuplicate(vector&lt;int&gt;&amp; nums) &#123; return set&lt;int&gt;(nums.begin(), nums.end()).size() &lt; nums.size(); &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Array</tag>
        <tag>Hash Table</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[242. Valid Anagram]]></title>
    <url>%2F2016%2F02%2F10%2F242-valid-anagram%2F</url>
    <content type="text"><![CDATA[Total Accepted: 58209Total Submissions: 143425Difficulty: Easy Given two strings _s_ and _t_, write a function to determine if _t_ is an anagram of _s_. For example,_s_ = â€œanagramâ€, _t_ = â€œnagaramâ€, return true._s_ = â€œratâ€, _t_ = â€œcarâ€, return false. Note:You may assume the string contains only lowercase alphabets. Follow up:What if the inputs contain unicode characters? How would you adapt your solution to such case? æ±‚ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­å­—æ¯å‡ºç°é¢‘ç‡æ˜¯å¦ä¸€è‡´ï¼Œhashæœ€å¿«äº†å½“ç„¶ C++: 12345678910111213141516171819class Solution &#123;public: bool isAnagram(string s, string t) &#123; int l1=s.length(); int l2=t.length(); if(l1!=l2) return false; int hash[26]=&#123;0&#125;; for(int i=0;i&lt;l1;++i)&#123; ++hash[s[i]-'a']; --hash[t[i]-'a']; &#125; for(int i=0;i&lt;26;++i)&#123; if(hash[i]) return false; &#125; return true; &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Hash Table</tag>
        <tag>Sort</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[100. Same Tree]]></title>
    <url>%2F2016%2F02%2F10%2F100-same-tree%2F</url>
    <content type="text"><![CDATA[Total Accepted: 109175Total Submissions: 255839Difficulty: Easy Given two binary trees, write a function to check if they are equal or not. Two binary trees are considered equal if they are structurally identical and the nodes have the same value. å½“ç„¶æˆ‘çš„ä»£ç è¿˜å¯ä»¥ç¼©çŸ­å¾ˆå¤šï¼Œä½†è¿™æ ·æ¸…æ™°æ˜äº† C++: 1234567891011121314151617181920212223242526272829303132/** * Definition for a binary tree node. * struct TreeNode &#123; * int val; * TreeNode *left; * TreeNode *right; * TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: bool isSameTree(TreeNode* p, TreeNode* q) &#123; if(p!=NULL&amp;&amp;q==NULL)&#123; return false; &#125; else if(p==NULL&amp;&amp;q!=NULL)&#123; return false; &#125; else if(p!=NULL&amp;&amp;q!=NULL)&#123; if(p-&gt;val!=q-&gt;val)&#123; return false; &#125; if(!isSameTree(p-&gt;left,q-&gt;left))&#123; return false; &#125; if(!isSameTree(p-&gt;right,q-&gt;right))&#123; return false; &#125; &#125; return true; &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Tree</tag>
        <tag>Depth-first Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[283. Move Zeroes]]></title>
    <url>%2F2016%2F02%2F10%2F283-move-zeroes%2F</url>
    <content type="text"><![CDATA[Total Accepted: 67030Total Submissions: 139534Difficulty: Easy Given an array nums, write a function to move all 0â€˜s to the end of it while maintaining the relative order of the non-zero elements. For example, given nums &amp;nbsp;= [0, 1, 0, 3, 12], after calling your function, nums should be [1, 3, 12, 0, 0]. Note: You must do this in-place without making a copy of the array. Minimize the total number of operations. å…ˆæŠŠéé›¶çš„å†™å¥½ï¼Œæœ€åéƒ½æŠŠ0å†™åœ¨æœ€åå³å¯ C++: 12345678910111213class Solution &#123;public: void moveZeroes(vector&lt;int&gt;&amp; nums) &#123; int i=0,n=nums.size(),j=0; for(;i&lt;n;++i)&#123; if(nums[i]!=0)&#123; nums[j++]=nums[i]; &#125; &#125; for(;j&lt;n;j++) nums[j]=0; &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Array</tag>
        <tag>Two Pointers</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[226. Invert Binary Tree]]></title>
    <url>%2F2016%2F02%2F10%2F226-invert-binary-tree%2F</url>
    <content type="text"><![CDATA[Total Accepted: 67715Total Submissions: 155630Difficulty: Easy Invert a binary tree. 4 / \ 2 7 / \ / \ 1 3 6 9 to 4 / \ 7 2 / \ / \ 9 6 3 1 ä¸€ç§æ˜¯ç”¨é€’å½’ï¼Œä¸€ç§æ˜¯ç”¨æ ˆï¼Œä»£ç å¦‚ä¸‹ C++: 1234567891011121314151617181920212223242526272829303132333435363738394041/** * Definition for a binary tree node. * struct TreeNode &#123; * int val; * TreeNode *left; * TreeNode *right; * TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: TreeNode* invertTree(TreeNode* root) &#123; /*é€’å½’ if (root == NULL) &#123; return NULL; &#125; TreeNode* left = root-&gt;left; TreeNode* right = root-&gt;right; root-&gt;left = invertTree(right); root-&gt;right = invertTree(left); return root; /* if(root==NULL) return root; queue&lt;TreeNode *&gt;q; q.push(root); while(!q.empty())&#123; auto node=q.front(); q.pop(); auto temp=node-&gt;left; node-&gt;left=node-&gt;right; node-&gt;right=temp; if(node-&gt;left!=NULL) q.push(node-&gt;left); if(node-&gt;right!=NULL) q.push(node-&gt;right); &#125; return root; &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Tree</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[237. Delete Node in a Linked List]]></title>
    <url>%2F2016%2F02%2F10%2F237-delete-node-in-a-linked-list%2F</url>
    <content type="text"><![CDATA[Total Accepted: 61181Total Submissions: 139905Difficulty: Easy Write a function to delete a node (except the tail) in a singly linked list, given only access to that node. Supposed the linked list is 1 -&gt; 2 -&gt; 3 -&gt; 4 and you are given the third node with value 3, the linked list should become 1 -&gt; 2 -&gt; 4 after calling your function. æ ‡å‡†å†™å½“ç„¶éœ€è¦deleteäº†ï¼Œä¸æ ‡å‡†çš„è¯å°±ç›´æ¥*node=node-&gt;nextï¼›å³å¯ C++: 12345678910111213141516/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: void deleteNode(ListNode* node) &#123; ListNode *next = node-&gt;next; *node = *next; delete next; &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Linked List</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[104. Maximum Depth of Binary Tree]]></title>
    <url>%2F2016%2F02%2F10%2F104-maximum-depth-of-binary-tree%2F</url>
    <content type="text"><![CDATA[Total Accepted: 120354Total Submissions: 255664Difficulty: Easy Given a binary tree, find its maximum depth. The maximum depth is the number of nodes along the longest path from the root node down to the farthest leaf node. ä¸€ç§æ˜¯é€’å½’ååºéå†æ ‘ï¼Œè¿”å›æ·±åº¦ï¼Œä¸€ç§æ˜¯å±‚æ¬¡éå†ï¼Œæœ‰å‡ å±‚ä¾¿æ˜¯æ·±åº¦ã€‚ C++: 123456789101112131415161718192021222324252627282930313233343536373839404142 * Definition for a binary tree node. * struct TreeNode &#123; * int val; * TreeNode *left; * TreeNode *right; * TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: int maxDepth(TreeNode* root) &#123; /* if(root==NULL) return 0; int rd=maxDepth(root-&gt;right); int ld=maxDepth(root-&gt;left); return 1+max(rd,ld); */ if(root == NULL) return 0; int res = 0; queue&lt;TreeNode *&gt; q; q.push(root); while(!q.empty()) &#123; ++ res; for(int i = 0, n = q.size(); i &lt; n; ++ i) &#123; TreeNode *p = q.front(); q.pop(); if(p -&gt; left != NULL) q.push(p -&gt; left); if(p -&gt; right != NULL) q.push(p -&gt; right); &#125; &#125; return res; &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Tree</tag>
        <tag>Depth-first Search</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[258. Add Digits]]></title>
    <url>%2F2016%2F02%2F10%2F258-add-digits%2F</url>
    <content type="text"><![CDATA[Total Accepted: 67030Total Submissions: 139534Difficulty: Easy Given a non-negative integer num, repeatedly add all its digits until the result has only one digit. For example: Given num = 38, the process is like: 3 + 8 = 11, 1 + 1 = 2. Since 2 has only one digit, return it. Follow up:Could you do it without any loop/recursion in O(1) runtime? Hint: A naive implementation of the above process is trivial. Could you come up with other methods? O(1)çš„è¯è‡ªç„¶ä¸èƒ½ç”¨å¾ªç¯äº†ï¼Œç­”æ¡ˆå°±æ˜¯ä½™ä¹ä¹‹åçš„ç»“æœï¼Œä½†é™¤äº†0ä¹‹å¤–9çš„å€æ•°çš„è¯éƒ½è¿˜æ˜¯9ï¼Œæ‰€ä»¥æ”¹åŠ¨ä¸€ä¸‹å‡1å†ä½™ä¹å†åŠ ä¸€å³å¯ã€‚ C++: 123456class Solution &#123;public: int addDigits(int num) &#123; return (num - 1) % 9 + 1; &#125;&#125;; æœ‰è¶£çš„æ˜¯åŒæ ·çš„ä»£ç Javaæ¯”C++å’ŒCéƒ½è·‘å¾—å¿«]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[292. Nim Game]]></title>
    <url>%2F2016%2F02%2F10%2F292-nim-game%2F</url>
    <content type="text"><![CDATA[Total Accepted: 43053Total Submissions: 84298Difficulty: Easy You are playing the following Nim Game with your friend: There is a heap of stones on the table, each time one of you take turns to remove 1 to 3 stones. The one who removes the last stone will be the winner. You will take the first turn to remove the stones. Both of you are very clever and have optimal strategies for the game. Write a function to determine whether you can win the game given the number of stones in the heap. For example, if there are 4 stones in the heap, then you will never win the game: no matter 1, 2, or 3 stones you remove, the last stone will always be removed by your friend. Hint: If there are 5 stones in the heap, could you figure out a way to remove the stones such that you will always be the winner? è°å…ˆæŠ¢åˆ°4çš„å€æ•°å°±æ˜¯èµ¢å®¶ã€‚ C++: 123456class Solution &#123;public: bool canWinNim(int n) &#123; return n%4!=0; &#125;&#125;;]]></content>
      <categories>
        <category>LeetCode</category>
        <category>C++</category>
      </categories>
      <tags>
        <tag>Brainteaser</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Prim&Dijkstra]]></title>
    <url>%2F2016%2F02%2F08%2Fprim-dijkstra%2F</url>
    <content type="text"><![CDATA[å…ˆæ˜¯æ±‚æœ€å°ç”Ÿæˆæ ‘çš„Primç®—æ³• é¦–å…ˆè¾“å…¥ä¸¤ä¸ªæ•´æ•° n å’Œ mï¼Œè¡¨ç¤ºå›¾ä¸­çš„é¡¶ç‚¹æ•°å’Œè¾¹æ•°ã€‚æ¥ä¸‹æ¥ä¸€å…± m è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•´æ•° aï¼Œbï¼Œcï¼Œè¡¨ç¤ºä¸€æ¡è¿æ¥ a å’Œ b çš„æƒé‡ä¸º c çš„å¸¦æƒæ— å‘è¾¹ã€‚ç¨‹åºæœ€ç»ˆä¼šå°†æœ€å°ç”Ÿæˆæ ‘ä¸Šæ‰€æœ‰è¾¹æƒä¹‹å’Œè¾“å‡ºã€‚ æ¯”å¦‚è¾“å…¥ä¸‹é¢è¿™å¼ å›¾ï¼š å¯¹åº”çš„è¾“å…¥æ•°æ®ä¸º 5 7 0 1 75 0 2 9 1 2 95 1 3 51 2 3 19 2 4 42 3 4 31 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;vector&gt;#include &lt;queue&gt;using namespace std;const int INF = 0x3f3f3f3f;struct Edge &#123; int vertex, weight;&#125;;class Graph &#123;private: int n; bool * visited; vector&lt;Edge&gt; * edges;public: int * dist; Graph (int input_n) &#123; n = input_n; edges = new vector&lt;Edge&gt;[n]; dist = new int[n]; visited = new bool[n]; memset(visited, false, n * sizeof(bool)); memset(dist, 0x3f, n * sizeof(int)); &#125; ~Graph() &#123; delete[] dist; delete[] visited; delete[] edges; &#125; void insert(int x, int y, int weight) &#123; edges[x].push_back(Edge&#123;y, weight&#125;); edges[y].push_back(Edge&#123;x, weight&#125;); &#125; int prim(int v) &#123; int total_weight=0; dist[v]=0; for(int i=0;i&lt;n;++i)&#123; int min_dist=INF,min_vertex; for(int j=0;j&lt;n;++j)&#123; if(!visited[j]&amp;&amp;dist[j]&lt;min_dist)&#123; min_dist=dist[j]; min_vertex=j; &#125; &#125; total_weight+=min_dist; visited[min_vertex]=1; for(Edge &amp;j:edges[min_vertex])&#123; if(!visited[j.vertex]&amp;&amp;j.weight&lt;dist[j.vertex])&#123; dist[j.vertex]=j.weight; &#125; &#125; &#125; return total_weight; &#125;&#125;;int main() &#123; int n, m; cin &gt;&gt; n &gt;&gt; m; Graph g(n); for (int i = 0; i &lt; m; i++) &#123; int a, b, c; cin &gt;&gt; a &gt;&gt; b &gt;&gt; c; g.insert(a, b, c); &#125; cout &lt;&lt; g.prim(0) &lt;&lt; endl; return 0;&#125; å†æ˜¯è®¡ç®—æœ€çŸ­è·¯å¾„çš„Dijkstraç®—æ³•ï¼ŒDijkstra ç®—æ³•å’Œå‰é¢çš„ Prim ç®—æ³•å¾ˆç›¸åƒï¼Œéƒ½æ˜¯ä»ä¸€ä¸ªç‚¹å¼€å§‹ï¼Œæ¯æ¬¡ç¡®å®šä¸€ä¸ªç‚¹å¹¶å®Œæˆæ›´æ–°ï¼Œé‡å¤æ“ä½œç›´è‡³ n ä¸ªç‚¹éƒ½ç¡®å®šä¸ºæ­¢ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒDijkstra ä¸é€‚ç”¨äºæœ‰è¾¹æƒä¸ºè´Ÿæ•°çš„æƒ…å†µå“¦ï¼Œå¦åˆ™ä¼šå½±å“ç®—æ³•çš„æ­£ç¡®æ€§ã€‚ å¦‚æœå¯¹ Prim ç®—æ³•çš„ä»£ç è¿˜æœ‰å°è±¡çš„è¯ï¼Œåº”è¯¥å¯ä»¥æ„Ÿè§‰åˆ°ï¼ŒPrim ç®—æ³•å’Œ Dijkstra ç®—æ³•æä¸ºç›¸ä¼¼ã€‚éƒ½ä¼šç”¨åˆ°ä¸€ä¸ª visited æ•°ç»„æ ‡è®°æ˜¯å¦å·²ç»å®Œæˆè®¡ç®—ï¼Œä»¥åŠä¸€ä¸ª dist æ•°ç»„è¡¨ç¤ºæœ€çŸ­è·¯å¾„ã€‚ä¸è¿‡åœ¨ Dijkstra ç®—æ³•ä¸­ï¼Œdist å­˜å‚¨çš„å°±ä¸æ˜¯åˆ°ç”Ÿæˆæ ‘çš„è·ç¦»äº†ï¼Œè€Œæ˜¯ä»æºç‚¹å‡ºå‘åˆ°æ¯ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ é¦–å…ˆè¾“å…¥ä¸¤ä¸ªæ•´æ•° n å’Œ mï¼Œè¡¨ç¤ºå›¾ä¸­çš„é¡¶ç‚¹æ•°å’Œè¾¹æ•°ã€‚æ¥ä¸‹æ¥ä¸€å…± m è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•´æ•° aï¼Œbï¼Œcï¼Œè¡¨ç¤ºä¸€æ¡è¿æ¥ a å’Œ b çš„æƒé‡ä¸º c çš„å¸¦æƒæ— å‘è¾¹ã€‚ç¨‹åºæœ€ç»ˆä¼šè¾“å‡ºä»æºç‚¹å‡ºå‘åˆ°æ‰€æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚ æ¯”å¦‚è¾“å…¥ä¸‹é¢è¿™å¼ å›¾ï¼š å¯¹åº”çš„è¾“å…¥æ•°æ®ä¸º 5 8 0 1 10 0 2 5 1 2 3 1 3 1 2 3 9 2 4 2 3 4 6 0 4 8 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;vector&gt;#include &lt;queue&gt;using namespace std;const int INF = 0x3f3f3f3f;struct Edge &#123; int vertex, weight;&#125;;class Graph &#123;private: int n; vector&lt;Edge&gt; * edges; bool * visited;public: int * dist; Graph (int input_n) &#123; n = input_n; edges = new vector&lt;Edge&gt;[n]; dist = new int[n]; visited = new bool[n]; memset(visited, 0, n); memset(dist, 0x3f, n * sizeof(int)); &#125; ~Graph() &#123; delete[] dist; delete[] edges; delete[] visited; &#125; void insert(int x, int y, int weight) &#123; edges[x].push_back(Edge&#123;y, weight&#125;); edges[y].push_back(Edge&#123;x, weight&#125;); &#125; void dijkstra(int v) &#123; dist[v]=0; for(int i=0;i&lt;n;++i)&#123; int min_dist=INF,min_vertex; for(int j=0;j&lt;n;++j)&#123; if(!visited[j]&amp;&amp;dist[j]&lt;min_dist)&#123; min_dist=dist[j]; min_vertex=j; &#125; &#125; visited[min_vertex]=1; for(Edge &amp;j:edges[min_vertex])&#123; if(min_dist+j.weight&lt;dist[j.vertex])&#123; dist[j.vertex]=min_dist+j.weight; &#125; &#125; &#125; &#125;&#125;;int main() &#123; int n, m; cin &gt;&gt; n &gt;&gt; m; Graph g(n); for (int i = 0; i &lt; m; i++) &#123; int a, b, c; cin &gt;&gt; a &gt;&gt; b &gt;&gt; c; g.insert(a, b, c); &#125; g.dijkstra(0); for (int i = 0; i &lt; n; i++) &#123; cout &lt;&lt; i &lt;&lt; ": " &lt;&lt; g.dist[i] &lt;&lt; endl; &#125; return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å›¾çš„æ·±æœå’Œå®½æœC++]]></title>
    <url>%2F2016%2F02%2F07%2Fdfs-bfs%2F</url>
    <content type="text"><![CDATA[ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° n å’Œ mï¼Œè¡¨ç¤ºé¡¶ç‚¹æ•°å’Œè¾¹æ•°ã€‚æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° x å’Œ yï¼Œè¡¨ç¤ºä¸€æ¡ä» x è¿å‘ y çš„æ— å‘è¾¹ã€‚ä¹‹åè¾“å…¥ä¸€ä¸ªæ•´æ•° kï¼Œè¡¨ç¤ºæ·±åº¦ä¼˜å…ˆæœç´¢çš„èµ·ç‚¹ã€‚æ³¨æ„é¡¶ç‚¹æ˜¯ä» 0 å¼€å§‹ç¼–å·çš„å“¦ã€‚è¾“å…¥å®Œæˆåä¼šå°†éå†ç»“æœè¾“å‡ºã€‚ å‡å¦‚è¾“å…¥ 5 6 0 1 1 2 1 3 2 3 0 4 1 4 0 éå†çš„ç»“æœä¸º 0 1 2 3 4 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;cstring&gt;using namespace std;class Graph &#123;private: int n; //!&lt; é¡¶ç‚¹æ•°é‡ vector&lt;int&gt; *edges; //!&lt; é‚»æ¥è¡¨ bool *visited;public: Graph(int input_n) &#123; n = input_n; edges = new vector&lt;int&gt;[n]; visited=new bool[n]; memset(visited,0,n); &#125; ~Graph() &#123; delete[] edges; delete[] visited; &#125; void insert(int x, int y) &#123; edges[x].push_back(y); edges[y].push_back(x); &#125; void dfs(int vertex) &#123; cout&lt;&lt;vertex&lt;&lt;endl; visited[vertex]=true; for(int adj_vertex:edges[vertex])&#123; if(!visited[adj_vertex])&#123; dfs(adj_vertex); &#125; &#125; &#125;&#125;;int main() &#123; int n, m, k; cin &gt;&gt; n &gt;&gt; m; Graph g(n); for (int i = 0; i &lt; m; ++i) &#123; int x, y; cin &gt;&gt; x &gt;&gt; y; g.insert(x, y); &#125; cin &gt;&gt; k; g.dfs(k); return 0;&#125; ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° n å’Œ mï¼Œè¡¨ç¤ºé¡¶ç‚¹æ•°å’Œè¾¹æ•°ã€‚æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° x å’Œ yï¼Œè¡¨ç¤ºä¸€æ¡ä» x è¿å‘ y çš„æ— å‘è¾¹ã€‚ä¹‹åè¾“å…¥ä¸€ä¸ªæ•´æ•° kï¼Œè¡¨ç¤ºå¹¿åº¦ä¼˜å…ˆæœç´¢çš„èµ·ç‚¹ã€‚æ³¨æ„é¡¶ç‚¹æ˜¯ä» 0 å¼€å§‹ç¼–å·çš„å“¦ã€‚è¾“å…¥å®Œæˆåä¼šå°†éå†ç»“æœè¾“å‡ºã€‚ å‡å¦‚è¾“å…¥ 5 6 0 1 1 2 1 3 2 3 0 4 1 4 0 éå†çš„ç»“æœä¸º 0 1 4 2 3 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;cstring&gt;#include &lt;queue&gt;using namespace std;class Graph &#123;private: int n; bool *visited; vector&lt;int&gt; *edges; public: Graph(int input_n) &#123; n = input_n; edges = new vector&lt;int&gt;[n]; visited = new bool[n]; memset(visited, 0, n); &#125; ~Graph() &#123; delete[] edges; delete[] visited; &#125; void insert(int x, int y) &#123; edges[x].push_back(y); edges[y].push_back(x); &#125; void bfs(int start_vertex) &#123; queue&lt;int&gt; bfs_queue; bfs_queue.push(start_vertex); visited[start_vertex]=true; while(!bfs_queue.empty())&#123; int vertex=bfs_queue.front(); cout&lt;&lt;vertex&lt;&lt;endl; bfs_queue.pop(); for(int adj_vertex:edges[vertex])&#123; if(!visited[adj_vertex])&#123; visited[adj_vertex]=true; bfs_queue.push(adj_vertex); &#125; &#125; &#125; &#125;&#125;;int main() &#123; int n, m, k; cin &gt;&gt; n &gt;&gt; m; Graph g(n); for (int i = 0; i &lt; m; ++i) &#123; int x, y; cin &gt;&gt; x &gt;&gt; y; g.insert(x, y); &#125; cin &gt;&gt; k; g.bfs(k); return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>æ·±æœ</tag>
        <tag>å¹¿æœ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è·³è·ƒæ¸¸æˆ]]></title>
    <url>%2F2016%2F02%2F06%2Fjump-game%2F</url>
    <content type="text"><![CDATA[ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼Œå‡å®šä½ çš„åˆå§‹ä½ç½®ä¸ºæ•°ç»„ç¬¬ä¸€ä¸ªä¸‹æ ‡ã€‚ æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä½ åœ¨é‚£ä¸ªä½ç½®èƒ½å¤Ÿè·³è·ƒçš„æœ€å¤§é•¿åº¦ã€‚ ä½ çš„ç›®æ ‡æ˜¯åˆ°è¾¾æœ€åä¸€ä¸ªä¸‹æ ‡ï¼Œå¹¶ä¸”ä½¿ç”¨æœ€å°‘çš„è·³è·ƒæ¬¡æ•°ã€‚ ä¾‹å¦‚ï¼š A = [2,3,1,1,4], åˆ°è¾¾æœ€åä¸€ä¸ªä¸‹æ ‡çš„æœ€å°‘è·³è·ƒæ¬¡æ•°ä¸º2.ï¼ˆå…ˆè·³è·ƒ1æ­¥ï¼Œä»ä¸‹æ ‡0åˆ°1,ç„¶åè·³è·ƒ3æ­¥ï¼Œåˆ°è¾¾æœ€åä¸€ä¸ªä¸‹æ ‡ã€‚ä¸€å…±ä¸¤æ¬¡ï¼‰ æ ¼å¼ï¼š ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°nï¼Œæ¥ä¸‹æ¥çš„ä¸€è¡Œï¼Œè¾“å…¥æ•°ç»„A[n]ã€‚ æœ€åè¾“å‡ºæœ€å°‘çš„è·³è·ƒæ¬¡æ•°ã€‚ æ ·ä¾‹1è¾“å…¥ï¼š5 3 1 1 1 1 è¾“å‡ºï¼š2 æ€è·¯ï¼šdp[i]ä»£è¡¨è·³è·ƒåˆ°ç¬¬iä¸ªæ•°æœ€å°‘çš„æ­¥æ•° 1234567891011121314151617181920212223#include&lt;bits/stdc++.h&gt;using namespace std;int main()&#123; int n,a[1000],dp[1000]; cin&gt;&gt;n; for(int i=0;i&lt;n;++i) &#123; cin&gt;&gt;a[i]; &#125; const int inf=0x7fffffff; fill(dp,dp+n,inf); dp[0]=0; for(int i=0;i&lt;n-1;++i) &#123; for(int j=1;j&lt;=a[i];++j) &#123; dp[i+j]=min(dp[i]+1,dp[i+j]); &#125; &#125; cout&lt;&lt;dp[n-1]&lt;&lt;endl; return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ±‚æ•°ç»„çš„æœ€é•¿é€’å‡å­åºåˆ—]]></title>
    <url>%2F2016%2F02%2F05%2Fdp-de%2F</url>
    <content type="text"><![CDATA[ç»™å®šä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œè¾“å‡ºå®ƒçš„æœ€é•¿é€’å‡ï¼ˆæ³¨æ„ä¸æ˜¯â€œä¸é€’å¢â€ï¼‰å­åºåˆ—ã€‚ è¾“å…¥åŒ…æ‹¬ä¸¤è¡Œï¼Œç¬¬ä¸€è¡ŒåŒ…æ‹¬ä¸€ä¸ªæ­£æ•´æ•°Nï¼ˆN&lt;=1000ï¼‰ï¼Œè¡¨ç¤ºè¾“å…¥çš„æ•´æ•°åºåˆ—çš„é•¿åº¦ã€‚ç¬¬äºŒè¡ŒåŒ…æ‹¬ç”¨ç©ºæ ¼åˆ†éš”å¼€çš„Nä¸ªæ•´æ•°ï¼Œæ•´æ•°èŒƒå›´åŒºé—´ä¸º[-30000,30000]ã€‚ è¾“å‡ºä¸ºä¸€è¡Œï¼Œæœ€é•¿é€’å‡å­åºåˆ—çš„ç»“æœï¼Œæ•°å­—é—´ç”¨ç©ºæ ¼åˆ†éš”ï¼ˆæµ‹è¯•caseä¸­åªä¼šæœ‰ä¸€ä¸ªæœ€é•¿é€’å‡å­åºåˆ—ï¼‰ã€‚ æ ·ä¾‹1è¾“å…¥ï¼š8 9 4 3 2 5 4 3 2 è¾“å‡ºï¼š9 5 4 3 2 æ€è·¯ï¼šæ±‚æœ€é•¿é€’å‡åºåˆ—ï¼Œæˆ‘çš„åšæ³•æ˜¯æŠŠè¾“å…¥æ•°æ®åå‘ï¼Œç„¶åæ±‚ç”¨æˆ‘ä¼šåšçš„æ±‚æœ€é•¿é€’å¢åºåˆ—ï¼Œå½“ç„¶æˆ‘ç”¨çš„æ±‚æ³•ä¸æ˜¯Oï¼ˆn^2ï¼‰çš„ï¼Œé‚£æ ·æˆ‘è§‰å¾—ä¼šè¶…æ—¶ï¼Œæ‰€ä»¥æˆ‘ç”¨çš„Oï¼ˆnlognï¼‰çš„ã€‚ 1234567891011121314151617181920212223242526272829303132#include&lt;bits/stdc++.h&gt;using namespace std;int g[30010],num[30010],d[30010];int main()&#123; int n; scanf("%d",&amp;n); int inf=0x7fffffff; fill(g,g+n,inf); for(int i=0;i&lt;n;++i)&#123; scanf("%d",&amp;num[n-1-i]); &#125; //æ ¸å¿ƒä»£ç begin for(int i=0;i&lt;n;++i)&#123; int j=lower_bound(g,g+n,num[i])-g; g[j]=num[i]; d[i]=j+1; &#125; //end int s=*max_element(d,d+n); for(int i=n-1;i&gt;=0;--i) &#123; if(s==d[i]) &#123; if(s!=1) printf("%d ",num[i]); else printf("%d\n",num[i]); --s; &#125; &#125; return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å †æ’åº]]></title>
    <url>%2F2016%2F02%2F05%2Fheap-sort%2F</url>
    <content type="text"><![CDATA[å †å®é™…ä¸Šæ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œå¯¹äºå¤§æ ¹å †æ¥è¯´ï¼Œå®ƒçš„ç‰¹ç‚¹å°±æ˜¯çˆ¶èŠ‚ç‚¹çš„å€¼å¤§äºæ‰€æœ‰å­èŠ‚ç‚¹çš„å€¼ã€‚ C++çš„STLä¸­priority_queueå·²ç»å¸®æˆ‘ä»¬å®ç°å¥½äº†å †çš„æ•°æ®ç»“æ„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·å­¦ä¹ å¹¶å®è·µå¦‚ä½•å®ç°ä¸€ä¸ªå †å¹¶ç”¨å †è¿›è¡Œæ’åºã€‚ priority_queueæ˜¯STLçš„queueè¿™ä¸ªå¤´æ–‡ä»¶ä¸­å®šä¹‰çš„æ•°æ®ç»“æ„ï¼Œå› æ­¤éœ€è¦é¢å¤–å¼•ç”¨å®ƒï¼Œå³#include &lt;queue&gt;ã€‚ 123456789101112131415161718#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;queue&gt;using namespace std;priority_queue&lt;int&gt; myHeap;int main() &#123; int n = 5, num[5] = &#123;1, 3, 2, 5, 4&#125;; // åœ¨ä¸‹é¢çš„å¾ªç¯å†…è¯»å…¥å…ƒç´ å¹¶æ’å…¥å † for (int i = 0; i &lt; n; ++i) &#123; myHeap.push(num[i]); &#125; // åœ¨ä¸‹é¢çš„å¾ªç¯å†…ä»å¤§åˆ°å°è¾“å‡ºå…ƒç´ å¹¶å°†å…ƒç´ ä¾æ¬¡ä»å †é¡¶å¼¹å‡º for (int i = 0; i &lt; n; ++i) &#123; printf("%d\n",myHeap.top()); myHeap.pop(); &#125; return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†—ä½™å…³ç³»]]></title>
    <url>%2F2016%2F02%2F05%2Fredundant%2F</url>
    <content type="text"><![CDATA[è’œå¤´æœ€è¿‘åœ¨æ²‰è¿·å°è¯´ï¼Œå°¤å…¶æ˜¯äººç‰©å…³ç³»å¤æ‚çš„è¨€æƒ…å°è¯´ã€‚å®ƒçœ‹åˆ°çš„äººç‰©å…³ç³»æè¿°å¾—å¾ˆçš„éº»çƒ¦çš„æ—¶å€™è§‰å¾—éå¸¸è’œç–¼ï¼Œå°¤å…¶æ˜¯äººç‰©å…³ç³»é‡Œæœ‰å†—ä½™çš„æ—¶å€™ã€‚ä»€ä¹ˆæ˜¯å†—ä½™å…³ç³»å‘¢ï¼Ÿ è¿™ç¯‡å°è¯´é‡Œæœ‰nå¥æè¿°äººç‰©å…³ç³»çš„å¥å­ï¼Œæè¿°äº†nä¸ªäººçš„å…³ç³»ã€‚ æ¯æ¡å¥å­çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š XY å®ƒçš„æ„æ€æ˜¯ï¼šXè®¤è¯†Yï¼ŒYä¹Ÿè®¤è¯†X æˆ‘ä»¬è®¤ä¸ºå°è¯´ä¸­çš„äººç‰©å…³ç³»æ˜¯å…·æœ‰ä¼ é€’æ€§çš„ï¼Œå‡å¦‚Aè®¤è¯†Bï¼ŒBè®¤è¯†Cï¼Œåˆ™Aä¹Ÿè®¤è¯†Cã€‚ å†—ä½™å…³ç³»çš„å®šä¹‰ï¼šå°±æ˜¯å³ä½¿æ²¡æœ‰è¿™æ¡äººç‰©å…³ç³»ï¼ŒåŸæ¥çš„äººç‰©ä¹‹é—´çš„æ‰€æœ‰å…³ç³»ä¹Ÿç…§æ ·æˆç«‹ã€‚ æ¯”å¦‚ï¼š å°è¯´ä¸­å·²ç»æåˆ°äº†Aè®¤è¯†Bï¼ŒBä¹Ÿè®¤è¯†Cã€‚åœ¨æ­¤ä¹‹åå†è®²Aè®¤è¯†Cå°±æ˜¯ä¸€ä¸ªå†—ä½™çš„å…³ç³»ã€‚ å°è’œå¤´æƒ³æ±‚å‡ºä¸€å…±æœ‰å¤šå°‘æ¡å†—ä½™å…³ç³»ï¼Œä½ èƒ½å¸®å¸®å®ƒå—ï¼Ÿä¹Ÿè®¸å¹¶æŸ¥é›†èƒ½å¸®ä¸Šå¿™å“¦ã€‚ è¾“å…¥æ ¼å¼ï¼šç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå¥å­æ•°é‡n(1&lt;=n&lt;=1000)ï¼Œè¡¨ç¤ºäººæ•°m(1&lt;=m&lt;=1000)ã€‚ æ¥ä¸‹æ¥nè¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•°ï¼Œè¡¨ç¤ºä¸€ç»„äººç‰©å…³ç³»ã€‚ è¾“å‡ºæ ¼å¼ï¼šä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå†—ä½™å…³ç³»çš„æ•°ç›®ã€‚ æ ·ä¾‹1è¾“å…¥ï¼š3 3 1 2 1 3 2 3 è¾“å‡ºï¼š1 12345678910111213141516171819202122232425262728293031323334353637#include &lt;bits/stdc++.h&gt;int fa[2000];// è¿˜è®°å¾—ä¹‹å‰é˜…è¯»è¯¾é‡Œè®²çš„å¹¶æŸ¥é›†ç®—æ³•// fatherå‡½æ•°è¿”å›çš„æ˜¯èŠ‚ç‚¹xçš„ç¥–å…ˆèŠ‚ç‚¹int father(int x) &#123; if (fa[x] != x) fa[x] = father(fa[x]); return fa[x];&#125;// åˆå¹¶ä¸¤ä¸ªèŠ‚ç‚¹æ‰€åœ¨é›†åˆï¼ŒåŒæ—¶åˆ¤æ–­ä¸¤ä¸ªç‚¹ä¹‹å‰æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆé‡Œ// å‡½æ•°è¿”å›trueåˆ™ä¹‹å‰ä¸¤ä¸ªç‚¹ä¸åœ¨ä¸€ä¸ªé›†åˆä¸­bool join(int x, int y) &#123; int fx = father(x), fy = father(y); if (fx != fy) &#123; fa[fx] = fy; return true; &#125; else &#123; return false; &#125;&#125;// åˆå§‹åŒ–ä¸€ä¸ªnä¸ªç‚¹çš„å¹¶æŸ¥é›†void init(int n) &#123; for (int i = 1; i &lt;= n; ++i) fa[i] = i;&#125;int main()&#123; int n,m; scanf("%d%d",&amp;n,&amp;m); init(m); int f,c,ans=0; for(int i=0;i&lt;n;++i)&#123; scanf("%d%d",&amp;f,&amp;c); if(!join(c,f))&#123; ++ans; &#125; &#125; printf("%d",ans); return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>å¹¶æŸ¥é›†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¹¶æŸ¥é›†]]></title>
    <url>%2F2016%2F02%2F05%2Funion-find-sets%2F</url>
    <content type="text"><![CDATA[å¹¶æŸ¥é›†æ˜¯ä¸€ä¸ªå¤šæ£µæ ‘çš„æ•°æ®ç»“æ„(æ£®æ—)ï¼Œæ¯ä¸ªèŠ‚ç‚¹è®°å½•ä¸€ä¸ªfather[i]è¡¨ç¤ºå®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚å¹¶æŸ¥é›†å¯ä»¥è§£å†³é›†åˆçš„åˆå¹¶å’ŒæŸ¥è¯¢æ“ä½œã€‚ å¹¶æŸ¥é›†çš„åˆå§‹åŒ–ä»£ç å¦‚ä¸‹ï¼š 1234void make_set() &#123; for (int i = 0; i &lt; n; ++i) father[i] = i;&#125; æ­¤æ—¶æ¯ä¸ªèŠ‚ç‚¹éƒ½å±äºä¸åŒçš„é›†åˆã€‚æŸ¥è¯¢æ“ä½œçš„ä»£ç å¦‚ä¸‹ï¼š 123int get_father(int v) &#123; return father[v] != v ? get_father(father[v]) : v;&#125; ä¸Šé¢ä»£ç çš„æ„æ€å°±æ˜¯ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹ä¸æ˜¯è¿™æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±ä¸æ–­å›æº¯åˆ°æ ¹èŠ‚ç‚¹ã€‚ æ¥ä¸‹æ¥æ˜¯åˆå¹¶æ“ä½œï¼š 1234void merge(int x, int y) &#123; int root_x = find(x), root_y = find(y); if (root_x != root_y) father[root_x] = root_y;&#125; ä¸‹å›¾æ˜¯åˆå¹¶æ“ä½œçš„å›¾è§£ï¼š å¹¶æŸ¥é›†çš„ä¸€ä¸ªä¼˜åŒ–å«åšã€è·¯å¾„å‹ç¼©ã€‘ï¼Œæ˜¯åœ¨å¹¶æŸ¥é›†æ‰§è¡ŒæŸ¥è¯¢æ—¶å¯¹ç»è¿‡çš„ç‚¹è¿›è¡Œã€æ‰å¹³åŒ–ã€‘çš„æ–¹æ³•ã€‚ä¼˜åŒ–åçš„ä»£ç å¦‚ä¸‹ï¼š 1234int get_father(int v) &#123; if (father[v] != v) father[v] = get_father(father[v]); return father[v];&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>å¹¶æŸ¥é›†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LISï¼ˆæœ€é•¿ä¸Šå‡å­åºåˆ—ï¼‰]]></title>
    <url>%2F2016%2F02%2F04%2Flis%2F</url>
    <content type="text"><![CDATA[æœ€é•¿ä¸Šå‡å­åºåˆ— (Longest Increasing Subsequence, å¸¸ç®€ç§°ä¸º LIS) æ˜¯åŠ¨æ€è§„åˆ’è§£å†³çš„ä¸€ä¸ªç»å…¸é—®é¢˜ã€‚ æˆ‘ä»¬å…ˆè®²ä¸€ä¸‹å­åºåˆ—æ˜¯ä»€ä¹ˆã€‚ä¸€ä¸ªæ•°ç»„çš„å­åºåˆ—å°±æ˜¯ä»é‡Œé¢é€‰å‡ºä¸€äº›å…ƒç´ ï¼Œå¹¶å°†ä»–ä»¬ä¿æŒåŸæœ‰çš„å…ˆåé¡ºåºæ’åˆ—ã€‚æ¯”å¦‚[1, 2, 3, 4, 5]çš„å­åºåˆ—æœ‰[1, 3, 5]ã€[3, 4]ï¼Œè€Œ[1, 5, 3]åˆ™ä¸æ˜¯è¿™ä¸ªæ•°ç»„çš„å­åºåˆ—ã€‚ è¿™é‡Œå¤šä»‹ç»ä¸€ä¸‹ï¼Œè¿˜æœ‰ä¸€ä¸ªå®¹æ˜“ä¸å­åºåˆ—æ··æ·†çš„æ¦‚å¿µï¼šå­ä¸²ã€‚å­ä¸²æ˜¯æŒ‡ä»ä¸€ä¸ªæ•°ç»„ä¸­é€‰å‡ºè¿ç»­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ä¿æŒä»–ä»¬åŸæœ‰çš„é¡ºåºã€‚å­ä¸²ä¸€å®šæ˜¯å­åºåˆ—ï¼Œæ¯”å¦‚å‰é¢çš„å­åºåˆ—[3, 4]å°±æ˜¯å­ä¸²ï¼Œä½†[1, 3, 5]ä¸æ˜¯å­ä¸²ï¼Œå› ä¸ºè¿™ä¸‰ä¸ªå…ƒç´ åœ¨åŸæ•°ç»„ä¸­å¹¶ä¸æ˜¯è¿ç»­çš„ã€‚ ä¸€å¥è¯æ€»ç»“ä»–ä»¬çš„åŒºåˆ«ï¼Œå°±æ˜¯å­åºåˆ—å¯ä»¥ä¸è¿ç»­ï¼Œè€Œå­ä¸²å¿…é¡»è¿ç»­ã€‚ ä¸Šå‡å­åºåˆ—æ˜¯æŒ‡å­åºåˆ—Aiä¸­æ»¡è¶³ A1 &lt; A2 &lt; â€¦ &lt; Anï¼Œä¹Ÿå°±æ˜¯åé¢çš„å…ƒç´ ä¸€å®šæ¯”å‰é¢çš„å…ƒç´ å¤§ï¼Œæ¯”å¦‚(1, 3, 5)æ˜¯ä¸Šå‡å­åºåˆ—ï¼Œ(1, 3, 3)å’Œ(1, 4, 3)éƒ½ä¸æ˜¯ã€‚ç°åœ¨æ¥è·Ÿæˆ‘ä¸€èµ·è§£å†³æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é—®é¢˜å§ï¼(oãƒ»ãƒ»o)/ è¾“å…¥æ ¼å¼ï¼šç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°n(1 â‰¤ n â‰¤ 100)ï¼Œè¡¨ç¤ºåºåˆ—çš„é•¿åº¦ã€‚ ç¬¬äºŒè¡Œ n ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚ è¾“å‡ºæ ¼å¼ï¼šè¾“å‡ºåªæœ‰ä¸€è¡Œï¼Œä¸ºæœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚ æ ·ä¾‹è¾“å…¥ï¼š5 1 5 2 3 4 æ ·ä¾‹è¾“å‡ºï¼š4 è¿˜è®°å¾—ä¸Šä¸€é“æ•°å¡”é—®é¢˜æˆ‘ä»¬æ€ä¹ˆè§£å†³çš„ä¹ˆï¼Ÿæˆ‘ä»¬é¦–å…ˆè¦æŠŠé—®é¢˜æ‹†åˆ†æˆå¾ˆå¤šå­é—®é¢˜ã€‚å¯¹äºè¿™é“é¢˜æ¥è¯´ï¼Œæˆ‘ä»¬åˆ†è§£ä¸ºè¿™æ ·çš„Nä¸ªå­é—®é¢˜ï¼šæ±‚è§£æœ€åä¸€ä¸ªå…ƒç´ ä¸ºåŸæ•°ç»„ä¸­ç¬¬ i (1 â‰¤ i â‰¤ n)ä¸ªå…ƒç´ çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚ å¦‚æœæˆ‘ä»¬æŠŠNä¸ªé—®é¢˜éƒ½è®¡ç®—å‡ºæ¥äº†ï¼Œé‚£ä¹ˆæœ€ç»ˆç»“æœå°±ä»æ‰€æœ‰å­é—®é¢˜ä¸­é€‰å‡ºä¸€ä¸ªæœ€å¤§å€¼æ˜¯ä¸æ˜¯å°±å¯ä»¥å•¦ï¼Ÿå¥½äº†ï¼Œæˆ‘ä»¬å¼€å§‹å†™ä»£ç å§ã€‚ 1234567891011121314151617181920212223#include &lt;iostream&gt;#include &lt;cstdio&gt;using namespace std;int n, dp[101], num[101], result = 0;int main() &#123; scanf("%d", &amp;n); for (int i = 1; i &lt;= n; ++i) &#123; scanf("%d", &amp;num[i]); &#125; // begin: åœ¨ä¸‹é¢å®ç°åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒä»£ç  for (int i = 1; i &lt;= n; ++i) &#123; dp[i]=1; for(int j=1;j&lt;i;++j)&#123; if(num[j]&lt;num[i])&#123; dp[i]=max(dp[j]+1,dp[i]); &#125; &#125; result=max(result,dp[i]); &#125; // end. printf("%d\n", result); return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨å½’ä¹‹æ•°å¡”]]></title>
    <url>%2F2016%2F02%2F04%2Fshu-ta%2F</url>
    <content type="text"><![CDATA[ä¸Šé¢è¿™å¼ å›¾æ˜¯ä¸€ä¸ªæ•°å¡”é—®é¢˜çš„ä¾‹å­ã€‚æ¯æ¬¡ä»é¡¶éƒ¨å…ƒç´ ï¼Œå°±æ˜¯ä¸Šå›¾ä¸­çš„9å‡ºå‘ï¼Œæ¯æ¬¡å¯ä»¥èµ°åˆ°ä¸‹é¢ç›¸é‚»çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œæ¯”å¦‚ä»9å¾€ä¸‹ç›¸é‚»çš„æ˜¯12å’Œ15ï¼Œ6å¾€ä¸‹ç›¸é‚»çš„æ˜¯18å’Œ9ã€‚æ‰¾åˆ°ä¸€æ¡ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šçš„æ•°å€¼å’Œæœ€å¤§ã€‚ ä¸€ä¸ªç›´è§‚çš„è´ªå¿ƒç­–ç•¥æ˜¯æ¯æ¬¡å‘ä¸‹èµ°éƒ½é€‰æ‹©è¾ƒå¤§çš„é‚£ä¸€ä¸ªï¼Œå¾—åˆ°çš„ä¸€ä¸ªè§£æ˜¯9+15+8+9+10=51ï¼Œç„¶è€Œæˆ‘ä»¬å‘ç°æœ€ä¼˜çš„è§£æ˜¯9+12+10+18+10=59ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™é“é¢˜å¹¶ä¸é€‚åˆè´ªå¿ƒç­–ç•¥ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬æŠŠé—®é¢˜åˆ†è§£ï¼Œå‡å¦‚çŸ¥é“ä»é¡¶ç‚¹åˆ°æ¯ä¸ªç‚¹çš„æœ€ä¼˜è§£çš„è¯ï¼Œæœ€ç»ˆç­”æ¡ˆä¹Ÿå°±èƒ½å¤Ÿå¾—å‡ºäº†ã€‚å‡è®¾ç¬¬iè¡Œç¬¬jä¸ªå…ƒç´ ä¸ºæ­¢çš„æœ€ä¼˜è§£ä¸ºf[i][j]ï¼Œå¯ä»¥æƒ³åˆ°f[i][j]åªå’Œf[i-1][j]å’Œf[i-1]j-1æœ‰å…³ã€‚ä¹Ÿå°±æ˜¯è¯´ç¬¬iè¡Œçš„è§£åªä¼šè·Ÿç¬¬i-1è¡Œçš„ä¸€ä¸ªæˆ–ä¸¤ä¸ªå…ƒç´ æœ‰å…³ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;#include &lt;cstdio&gt;using namespace std;const int N = 100;// ä¸‹é¢è¿™ä¸ªå‡½æ•°å®ç°çš„æ˜¯æ›´æ–°æœ€å¤§å€¼ï¼Œoèµ‹å€¼ä¸ºoå’Œxçš„æœ€å¤§å€¼template &lt;class T&gt;void updateMax(T&amp; o, const T&amp; x) &#123; o = (o &gt; x) ? o : x;&#125;// fæ•°ç»„ä¸ºåŠ¨æ€è§„åˆ’çš„çŠ¶æ€æ•°ç»„// numæ•°ç»„ä¸ºè¯»å…¥çš„æ•°å¡”// nä¸ºè¯»å…¥çš„æ•°å¡”é«˜åº¦int f[N][N], num[N][N], n;int main() &#123; // è¯»å…¥nå’Œæ•°å¡”æ•°ç»„num scanf("%d", &amp;n); for (int i = 1; i &lt;= n; ++i) &#123; for (int j = 1; j &lt;= i; ++j) &#123; scanf("%d", &amp;num[i][j]); &#125; &#125; // step 1 begin: åœ¨è¿™é‡Œå®ç°åŠ¨æ€è§„åˆ’ç®—æ³•é€»è¾‘ for (int i = 1; i &lt;= n; ++i) &#123; for (int j = 1; j &lt;= i; ++j) &#123; updateMax(f[i][j],max(f[i-1][j],f[i-1][j-1])+num[i][j]); &#125; &#125; // step 1 end. // å®šä¹‰æœ€ç»ˆç»“æœå˜é‡resultï¼Œå› ä¸ºæ˜¯è®¡ç®—æœ€å¤§å€¼ï¼Œæ‰€ä»¥åˆå§‹åŒ–ä¸º0 int result = 0; for (int i = 1; i &lt;= n; ++i) &#123; // step 2 begin: åœ¨è¿™é‡Œå®ç°æ›´æ–°æœ€ç»ˆç»“æœçš„é€»è¾‘ updateMax(result,f[n][i]); // step 2 end. &#125; // è¾“å‡ºæœ€ç»ˆæœ€å¤§æƒå€¼å’Œresult printf("%d\n", result); return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[QuickSortï¼ˆå¿«é€Ÿæ’åºï¼‰]]></title>
    <url>%2F2016%2F02%2F04%2Fquick-sort%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920212223242526#include &lt;cstdio&gt;#include &lt;iostream&gt;using namespace std;void quick_sort(int dat[], int l, int r) &#123; // é¦–å…ˆè¯·å¡«å†™ä¸‹é¢ä¸‰ä¸ªå˜é‡çš„åˆå€¼ int i = l, j =r , mid = dat[r]; do &#123; while (dat[i] &lt; mid) ++i; while (dat[j] &gt; mid) --j; if (i &lt;= j) &#123; swap(dat[i], dat[j]); ++i; --j; &#125; &#125; while (i &lt; j); // æ¥ä¸‹æ¥è¯·å¡«å†™ç¬¬ä¸€ä¸ªé€’å½’è°ƒç”¨çš„å‚æ•°ï¼Œä»”ç»†å›é¡¾ä¸€ä¸‹åˆšåˆšè®²çš„å¿«é€Ÿæ’åºç®—æ³•çš„æ€æƒ³å“ˆã€‚ if (l &lt; j) quick_sort(dat,l,j); // æ¥ä¸‹æ¥è¯·å¡«å†™ç¬¬äºŒä¸ªé€’å½’è°ƒç”¨çš„å‚æ•°ã€‚ if (i &lt; r) quick_sort(dat,i,r);&#125;int main() &#123; int dat[10] = &#123;1, 4, 3, 2, 5, 3, 2, 5, 10, 9&#125;; quick_sort(dat, 0, 9); for (int i = 0; i &lt; 10; ++i) printf("%d ", dat[i]); return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é“¾è¡¨æ“ä½œ]]></title>
    <url>%2F2016%2F02%2F04%2Flinklist%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100#include&lt;iostream&gt;using namespace std;class Node &#123;public: int data; Node* next; Node(int _data) &#123; data = _data; next = NULL; &#125;&#125;;class LinkList &#123;private: Node* head;public: LinkList() &#123; head = NULL; &#125; void insert(Node *node, int index) &#123; if (head == NULL) &#123; head = node; return; &#125; if (index == 0) &#123; node-&gt;next = head; head = node; return; &#125; Node *current_node = head; int count = 0; while (current_node-&gt;next != NULL &amp;&amp; count &lt; index - 1) &#123; current_node = current_node-&gt;next; count++; &#125; if (count == index - 1) &#123; node-&gt;next = current_node-&gt;next; current_node-&gt;next = node; &#125; &#125; void output() &#123; if (head == NULL) &#123; return; &#125; Node *current_node = head; while (current_node != NULL) &#123; cout &lt;&lt; current_node-&gt;data &lt;&lt; " "; current_node = current_node-&gt;next; &#125; cout &lt;&lt; endl; &#125; void delete_node(int index) &#123; if (head == NULL) &#123; return; &#125; Node *current_node = head; int count = 0; if (index == 0) &#123; head = head-&gt;next; delete current_node; return; &#125; while (current_node-&gt;next != NULL &amp;&amp; count &lt; index -1) &#123; current_node = current_node-&gt;next; count++; &#125; if (count == index - 1 &amp;&amp; current_node-&gt;next != NULL) &#123; Node *delete_node = current_node-&gt;next; current_node-&gt;next = delete_node-&gt;next; delete delete_node; &#125; &#125; void reverse()&#123; if(head==NULL)&#123; return; &#125; Node *next_node,*current_node; current_node=head-&gt;next; head-&gt;next=NULL; while(current_node!=NULL)&#123; next_node=current_node-&gt;next; current_node-&gt;next=head; head=current_node; current_node=next_node; &#125; &#125;&#125;;int main() &#123; LinkList linklist; for (int i = 1; i &lt;= 10; i++) &#123; Node *node = new Node(i); linklist.insert(node, i - 1); &#125; linklist.output(); linklist.delete_node(3); linklist.output(); linklist.reverse(); linklist.output(); return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1007. Maximum Subsequence Sum (25)]]></title>
    <url>%2F2015%2F08%2F28%2Fpat1007%2F</url>
    <content type="text"><![CDATA[Given a sequence of K integers { N1, N2, â€¦, NK }. A continuous subsequence is defined to be { Ni, Ni+1, â€¦, Nj } where 1 &lt;= i &lt;= j &lt;= K. The Maximum Subsequence is the continuous subsequence which has the largest sum of its elements. For example, given sequence { -2, 11, -4, 13, -5, -2 }, its maximum subsequence is { 11, -4, 13 } with the largest sum being 20. Now you are supposed to find the largest sum, together with the first and the last numbers of the maximum subsequence. Input Specification:Each input file contains one test case. Each case occupies two lines. The first line contains a positive integer K (&lt;= 10000). The second line contains K numbers, separated by a space. Output Specification:For each test case, output in one line the largest sum, together with the first and the last numbers of the maximum subsequence. The numbers must be separated by one space, but there must be no extra space at the end of a line. In case that the maximum subsequence is not unique, output the one with the smallest indices i and j (as shown by the sample case). If all the K numbers are negative, then its maximum sum is defined to be 0, and you are supposed to output the first and the last numbers of the whole sequence. Sample Input:10 -10 1 2 3 4 -5 -23 3 7 -21 Sample Output:10 1 4 æ€è·¯ï¼šé¢˜æ„æ˜¯æ±‚åºåˆ—ä¸­æœ€å¤§å­åºåˆ—å’Œï¼Œå¹¶è¦æ ‡è®°ç¬¬ä¸€ä¸ªæœ€å¤§å­åºåˆ—çš„å¼€å§‹å…ƒç´ å’Œç»“æŸå…ƒç´ ï¼Œéå†åºåˆ—ï¼Œè‹¥å½“å‰å­åºåˆ—å’Œå¤§äºæœ€å¤§å€¼ï¼Œå°±æ›´æ–°å¼€å§‹å…ƒç´ å’Œç»“æŸå…ƒç´ å’Œæœ€å¤§å€¼ï¼Œè‹¥å½“å‰å­åºåˆ—å°äºé›¶å°±å°†å­åºåˆ—å’Œç½®é›¶å¹¶å°†è®°å½•ä¸´æ—¶å¼€å§‹å…ƒç´ ä¸ºä¸‹ä¸€ä¸ªï¼Œç®—æ³•å¤æ‚åº¦ä¸ºOï¼ˆnï¼‰ã€‚ Codeï¼š 123456789101112131415161718192021222324252627282930313233343536#include&lt;bits/stdc++.h&gt;using namespace std;int main()&#123; int n,i,arr[10010]; cin&gt;&gt;n; int flag=0,st=1,ed=n,max=-1,sum=0,tpst=1; for(i=1;i&lt;=n;++i) &#123; cin&gt;&gt;arr[i]; if(arr[i]&gt;=0) flag=1; &#125; if(flag==0) cout&lt;&lt;0&lt;&lt;" "&lt;&lt;arr[st]&lt;&lt;" "&lt;&lt;arr[ed]&lt;&lt;endl; else &#123; for(i=1;i&lt;=n;++i) &#123; sum+=arr[i]; if(sum&gt;max) &#123; max=sum; st=tpst; ed=i; &#125; if(sum&lt;0) &#123; sum=0; tpst=i+1; &#125; &#125; cout&lt;&lt;max&lt;&lt;" "&lt;&lt;arr[st]&lt;&lt;" "&lt;&lt;arr[ed]&lt;&lt;endl; &#125; return 0;&#125;]]></content>
      <categories>
        <category>OJ</category>
        <category>PAT</category>
      </categories>
      <tags>
        <tag>æ¨¡æ‹Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1006. Sign In and Sign Out (25)]]></title>
    <url>%2F2015%2F08%2F19%2Fpat1006%2F</url>
    <content type="text"><![CDATA[At the beginning of every day, the first person who signs in the computer room will unlock the door, and the last one who signs out will lock the door. Given the records of signing inâ€™s and outâ€™s, you are supposed to find the ones who have unlocked and locked the door on that day. Input Specification:Each input file contains one test case. Each case contains the records for one day. The case starts with a positive integer M, which is the total number of records, followed by M lines, each in the format: ID_number Sign_in_time Sign_out_time where times are given in the format HH:MM:SS, and ID number is a string with no more than 15 characters. Output Specification:For each test case, output in one line the ID numbers of the persons who have unlocked and locked the door on that day. The two ID numbers must be separated by one space. Note: It is guaranteed that the records are consistent. That is, the sign in time must be earlier than the sign out time for each person, and there are no two persons sign in or out at the same moment. Sample Input:3 CS301111 15:30:28 17:00:10 SC3021234 08:00:00 11:25:25 CS301133 21:45:00 21:58:40 Sample Output:SC3021234 CS301133 æ€è·¯ï¼šé¢˜æ„æ˜¯ç®—å‡ºæœ€æ—©ç­¾åˆ°çš„äººå’Œæœ€æ™šç­¾ç¦»çš„äººï¼Œæ‰€ä»¥åªè¦æŠŠæ—¶é—´åŒ–æˆä¸00:00:00çš„å·®å€¼å³å¯ï¼Œæ¢ç®—æˆç§’ï¼Œæ±‚å‡ºæœ€å°å’Œæœ€å¤§å³å¯ã€‚ Codeï¼š 1234567891011121314151617181920212223242526272829#include&lt;bits/stdc++.h&gt;using namespace std;int main()&#123; int n,i; scanf("%d",&amp;n); char fir[16],last[16],temp[16]; int s,f,m; int min=99999,max=-1; for(i=0;i&lt;n;i++) &#123; scanf("%s %d:%d:%d",temp,&amp;s,&amp;f,&amp;m); int ti=3600*s+60*f+m; if(ti&lt;min) &#123; min=ti; strcpy(fir,temp); &#125; scanf("%d:%d:%d",&amp;s,&amp;f,&amp;m); ti=3600*s+60*f+m; if(ti&gt;max) &#123; max=ti; strcpy(last,temp); &#125; &#125; printf("%s %s\n",fir,last); return 0;&#125;]]></content>
      <categories>
        <category>OJ</category>
        <category>PAT</category>
      </categories>
      <tags>
        <tag>æ¨¡æ‹Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1005. Spell It Right (20)]]></title>
    <url>%2F2015%2F08%2F19%2Fpat1005%2F</url>
    <content type="text"><![CDATA[Given a non-negative integer N, your task is to compute the sum of all the digits of N, and output every digit of the sum in English. Input Specification:Each input file contains one test case. Each case occupies one line which contains an N (&lt;= 10100). Output Specification:For each test case, output in one line the digits of the sum in English words. There must be one space between two consecutive words, but no extra space at the end of a line. Sample Input:12345 Sample Output:one five æ€è·¯ï¼šç»™ä½ ä¸€ä¸ªæ•°ï¼Œæ±‚æ¯ä½ç›¸åŠ ä¹‹åçš„å’Œï¼Œè¿™ä¸ªå’Œæ¯ä½ç”¨è‹±æ–‡æ•°å­—è¡¨ç¤ºï¼Œç®€å•çš„æ¨¡æ‹Ÿï¼Œç”¨äº†æ ˆï¼Œæ³¨æ„0è¿™ä¸ªç»“æœå°±æ»¡åˆ†äº†ã€‚ Codeï¼š 12345678910111213141516171819202122232425262728using namespace std;const int N=102;char dig[][10]=&#123;"zero","one","two","three","four","five","six","seven","eight","nine"&#125;;int main()&#123; char num[N]; gets(num); int len=strlen(num); int sum=0; for(int i=0;i&lt;len;i++) sum+=num[i]-'0'; char stack[10][10]; int top=-1; if(sum==0) cout&lt;&lt;dig[0]; else &#123; while(sum) &#123; strcpy(stack[++top],dig[sum%10]); sum/=10; &#125; cout&lt;&lt;stack[top--]; while(top!=-1) cout&lt;&lt;" "&lt;&lt;stack[top--]; &#125; return 0;&#125;]]></content>
      <categories>
        <category>OJ</category>
        <category>PAT</category>
      </categories>
      <tags>
        <tag>æ ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1004. Counting Leaves (30)]]></title>
    <url>%2F2015%2F08%2F19%2Fpat1004%2F</url>
    <content type="text"><![CDATA[A family hierarchy is usually presented by a pedigree tree. Your job is to count those family members who have no child. InputEach input file contains one test case. Each case starts with a line containing 0 &lt; N &lt; 100, the number of nodes in a tree, and M (&lt; N), the number of non-leaf nodes. Then M lines follow, each in the format: ID K ID[1] ID[2] ... ID[K] where ID is a two-digit number representing a given non-leaf node, K is the number of its children, followed by a sequence of two-digit IDâ€™s of its children. For the sake of simplicity, let us fix the root ID to be 01. OutputFor each test case, you are supposed to count those family members who have no child for every seniority level starting from the root. The numbers must be printed in a line, separated by a space, and there must be no extra space at the end of each line. The sample case represents a tree with only 2 nodes, where 01 is the root and 02 is its only child. Hence on the root 01 level, there is 0 leaf node; and on the next level, there is 1 leaf node. Then we should output â€œ0 1â€ in a line. Sample Input2 1 01 1 02 Sample Output0 1 æ€è·¯ï¼šé¢˜ç›®æ˜¯ç»™ä½ ä¸€æ£µæ ‘ï¼Œè®©ä½ æ±‚æ¯å±‚çš„å¶å­æ•°ï¼Œå½“ç„¶æ˜¯ç”¨æ·±æœè§£å†³ã€‚ Codeï¼š 123456789101112131415161718192021222324252627282930313233using namespace std;const int N=102;vector&lt;int&gt;son[N];int leaf[N],maxdeep;void dfs(int k,int deep)&#123; maxdeep=max(maxdeep,deep); if(son[k].size()==0) leaf[deep]++; else for(vector&lt;int&gt;::iterator it=son[k].begin();it!=son[k].end();it++) dfs(*it,deep+1);&#125;int main()&#123; int n,m; cin&gt;&gt;n&gt;&gt;m; while(m--) &#123; int id,k,chd; cin&gt;&gt;id&gt;&gt;k; while(k--) &#123; cin&gt;&gt;chd; son[id].push_back(chd); &#125; &#125; dfs(1,0); cout&lt;&lt;leaf[0]; for(int i=1;i&lt;=maxdeep;++i) cout&lt;&lt;' '&lt;&lt;leaf[i]; return 0;&#125;]]></content>
      <categories>
        <category>OJ</category>
        <category>PAT</category>
      </categories>
      <tags>
        <tag>æ·±æœ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1003. Emergency (25)]]></title>
    <url>%2F2015%2F08%2F09%2Fpat1003%2F</url>
    <content type="text"><![CDATA[As an emergency rescue team leader of a city, you are given a special map of your country. The map shows several scattered cities connected by some roads. Amount of rescue teams in each city and the length of each road between any pair of cities are marked on the map. When there is an emergency call to you from some other city, your job is to lead your men to the place as quickly as possible, and at the mean time, call up as many hands on the way as possible. InputEach input file contains one test case. For each test case, the first line contains 4 positive integers: N (&lt;= 500) - the number of cities (and the cities are numbered from 0 to N-1), M - the number of roads, C1 and C2 - the cities that you are currently in and that you must save, respectively. The next line contains N integers, where the i-th integer is the number of rescue teams in the i-th city. Then M lines follow, each describes a road with three integers c1, c2 and L, which are the pair of cities connected by a road and the length of that road, respectively. It is guaranteed that there exists at least one path from C1 to C2. OutputFor each test case, print in one line two numbers: the number of different shortest paths between C1 and C2, and the maximum amount of rescue teams you can possibly gather.All the numbers in a line must be separated by exactly one space, and there is no extra space allowed at the end of a line. Sample Input5 6 0 2 1 2 1 5 3 0 1 1 0 2 2 0 3 1 1 2 1 2 4 1 3 4 1 Sample Output2 4 æ€è·¯ï¼šé¢˜ç›®æ„æ€æ˜¯ç»™ä½ ä¸€ä¸ªå¸¦æƒçš„æ— å‘å›¾ï¼Œæ±‚èµ·ç‚¹åˆ°ç»ˆç‚¹æœ€çŸ­è·¯æœ‰å‡ æ¡ï¼Œå¹¶æ±‚æœ€å¤§æƒå€¼ï¼Œé‡‡ç”¨æ·±æœå°±å¯ä»¥è§£å†³ï¼Œè®°å¾—å‰ªææ–¹å¯è¿‡å…¨éƒ¨æµ‹è¯•æ•°æ®ã€‚ Codeï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162using namespace std;#define max 510#define INF 0x7ffffffftypedef struct&#123; int vex[max]; int edge[max][max]; int n,e;&#125;MGraph;MGraph g;int cnt,maxteam,mindis,visit[max];void dfs(int p,int end,int dist,int te)&#123; if(p==end) &#123; if(dist&lt;mindis) &#123; mindis=dist; cnt=1; maxteam=te; &#125; else if(dist==mindis) &#123; ++cnt; if(maxteam&lt;te) maxteam=te; &#125; return; &#125; if(dist&gt;mindis) return; for(int i=0;i&lt;g.n;++i) &#123; if(visit[i]==0&amp;&amp;g.edge[p][i]!=INF) &#123; visit[i]=1; dfs(i,end,dist+g.edge[p][i],te+g.vex[i]); visit[i]=0; &#125; &#125;&#125;int main()&#123; int st,ed,i,j,c1,c2,l; mindis=INF; cin&gt;&gt;g.n&gt;&gt;g.e&gt;&gt;st&gt;&gt;ed; for(i=0;i&lt;g.n;++i) &#123; cin&gt;&gt;g.vex[i]; visit[i]=0; for(j=0;j&lt;g.n;++j) g.edge[i][j]=INF; &#125; for(i=0;i&lt;g.e;++i) &#123; cin&gt;&gt;c1&gt;&gt;c2&gt;&gt;l; g.edge[c2][c1]=g.edge[c1][c2]=l; &#125; dfs(st,ed,0,g.vex[st]); cout&lt;&lt;cnt&lt;&lt;" "&lt;&lt;maxteam&lt;&lt;endl; return 0;&#125;]]></content>
      <categories>
        <category>OJ</category>
        <category>PAT</category>
      </categories>
      <tags>
        <tag>æ·±æœ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1002. A+B for Polynomials (25)]]></title>
    <url>%2F2015%2F08%2F09%2Fpat1002%2F</url>
    <content type="text"><![CDATA[This time, you are supposed to find A+B where A and B are two polynomials. InputEach input file contains one test case. Each case occupies 2 lines, and each line contains the information of a polynomial: K N1 aN1 N2 aN2 â€¦ NK aNK, where K is the number of nonzero terms in the polynomial, Ni and aNi (i=1, 2, â€¦, K) are the exponents and coefficients, respectively. It is given that 1 &lt;= K &lt;= 10ï¼Œ0 &lt;= NK &lt; â€¦ &lt; N2 &lt; N1 &lt;=1000. OutputFor each test case you should output the sum of A and B in one line, with the same format as the input. Notice that there must be NO extra space at the end of each line. Please be accurate to 1 decimal place. Sample Input 2 1 2.4 0 3.2 2 2 1.5 1 0.5 Sample Output3 2 1.5 1 2.9 0 3.2 æ€è·¯ï¼šé¢˜æ„æ˜¯æ ¹æ®è¾“å…¥çš„ä¸¤ä¸ªå¤šé¡¹å¼ç›¸åŠ åï¼Œè¾“å‡ºç›¸åŠ åå¤šé¡¹å¼çš„é¡¹æ•°å’Œç»“æœï¼Œæ³¨æ„ä¸¤ä¸ªå¤šé¡¹å¼ç›¸åŠ åç³»æ•°ä¸º0çš„æƒ…å†µã€‚ Codeï¼š 1234567891011121314151617181920212223242526272829303132333435363738using namespace std;int main()&#123; int i; float pol[1100]; for(i=0;i&lt;1100;++i) pol[i]=0.0; int k,temp1; float temp2; cin&gt;&gt;k; for(i=0;i&lt;k;++i) &#123; cin&gt;&gt;temp1; cin&gt;&gt;pol[temp1]; &#125; int cnt=k; cin&gt;&gt;k; for(i=0;i&lt;k;++i) &#123; cin&gt;&gt;temp1&gt;&gt;temp2; if(pol[temp1]==0.0) &#123; ++cnt; pol[temp1]=temp2; &#125; else pol[temp1]+=temp2; if(pol[temp1]==0.0)//å¦‚æœç›¸åŠ åç³»æ•°ä¸º0ï¼Œæ€»ä¸ªæ•°å‡ä¸€ --cnt; &#125; cout&lt;&lt;cnt; for(i=1099;i&gt;=0;--i) &#123; if(pol[i]!=0.0) printf(" %d %.1f",i,pol[i]); &#125; return 0;&#125;]]></content>
      <categories>
        <category>OJ</category>
        <category>PAT</category>
      </categories>
      <tags>
        <tag>æ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1001. A+B Format (20)]]></title>
    <url>%2F2015%2F08%2F09%2Fpat1001%2F</url>
    <content type="text"><![CDATA[Calculate a + b and output the sum in standard format â€“ that is, the digits must be separated into groups of three by commas (unless there are less than four digits). InputEach input file contains one test case. Each case contains a pair of integers a and b where -1000000 &lt;= a, b &lt;= 1000000. The numbers are separated by a space. OutputFor each test case, you should output the sum of a and b in one line. The sum must be written in the standard format. Sample Input-1000000 9 Sample Output-999,991 æ€è·¯ï¼šé¢˜ç›®æ„æ€æ˜¯ä¸¤æ•°ç›¸åŠ åçš„ç»“æœæ¯ä¸‰ä½åŠ ä¸€ä¸ªé€—å·ï¼Œæˆ‘çš„åšæ³•æ˜¯æŠŠå–ä½™çš„æ¯ä½éƒ½ä¿å­˜åœ¨å­—ç¬¦æ ˆä¸­ï¼Œæ¯å–ä¸‰ä½åŠ ä¸€ä¸ªé€—å·ï¼Œæœ€åå‡ºæ ˆå³å¯ï¼ŒåŒºåˆ†ä¸‹æ­£æ•°è´Ÿæ•°å’Œé›¶çš„æƒ…å†µå³å¯ã€‚ Codeï¼š 1234567891011121314151617181920212223242526272829303132333435using namespace std;int main()&#123; char sta[20]; int top=-1; int a,b,sum; cin&gt;&gt;a&gt;&gt;b; sum=a+b; int flag=0; if(sum!=0) &#123; if(sum&lt;0) &#123; sum=-sum; cout&lt;&lt;'-'; &#125; while(sum) &#123; if(flag%3==0) &#123; sta[++top]=','; flag=0; &#125; ++flag; sta[++top]='0'+sum%10; sum/=10; &#125; while(top!=0) cout&lt;&lt;sta[top--]; --top; cout&lt;&lt;endl; &#125; else cout&lt;&lt;0&lt;&lt;endl;&#125;]]></content>
      <categories>
        <category>OJ</category>
        <category>PAT</category>
      </categories>
      <tags>
        <tag>æ ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ç»“æ„-å›¾çš„é‚»æ¥çŸ©é˜µè¡¨ç¤º]]></title>
    <url>%2F2015%2F07%2F27%2Fdijkstra-algorithm%2F</url>
    <content type="text"><![CDATA[ç»™å‡ºé‚»æ¥çŸ©é˜µæè¿°çš„å›¾ï¼Œé¡¶ç‚¹æ•°&lt;26ï¼Œæ±‚ 1ã€è¾¹æ•° 2ã€æ— å‘å›¾å„é¡¶ç‚¹åº¦æ•° 3ã€æ±‚ä¸¤ä¸ªé¡¶ç‚¹æœ€çŸ­è·¯å¾„ è¾“å…¥è¦æ±‚ç¬¬ä¸€è¡Œä¸€ä¸ªæ•°Nï¼Œè¡¨ç¤ºé‚»æ¥çŸ©é˜µçš„è¡Œæ•°ã€‚ N*Nçš„é‚»æ¥çŸ©é˜µï¼Œç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—ä¸ºé¡¶ç‚¹Aã€‚ æ±‚æœ€çŸ­è·¯å¾„çš„ä¸¤ä¸ªé¡¶ç‚¹ï¼Œç”¨å¤§å†™å­—æ¯è¡¨ç¤ºã€‚ è¾“å‡ºè¦æ±‚ç¬¬ä¸€è¡Œè¾“å‡ºè¾¹çš„ä¸ªæ•°ã€‚ æ¥ä¸‹æ¥Nè¡Œè¾“å‡ºå„é¡¶ç‚¹åº¦æ•°ã€‚ æœ€åè¾“å‡ºç»™å®šä¸¤ç‚¹é—´æœ€çŸ­è·ç¦»ã€‚ å‡å¦‚è¾“å…¥4 0 25 40 100 25 0 45 -1 40 45 0 80 100 -1 80 0 B D åº”å½“è¾“å‡º5 3 2 3 2 125 æç¤º-1è¡¨ç¤ºæ²¡æœ‰è·¯å¾„ ç”¨çš„æ˜¯è¿™å‡ å¤©å­¦çš„è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³• Codeï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283#include&lt;bits/stdc++.h&gt;using namespace std;#define max 60#define INF 0x7ffftypedef struct&#123; int no; int arcnum;&#125;VertexType;typedef struct&#123; VertexType vex[max]; int edge[max][max]; int n,e;&#125;MGraph;int dist[max],path[max];void Dijkstra(MGraph g,int v)&#123; int visit[max]; int min,i,j,u; for(i=0;i&lt;g.n;++i) &#123; dist[i]=g.edge[v][i]; visit[i]=0; if(g.edge[v][i]&lt;INF) path[i]=v; else path[i]=-1; &#125; visit[v]=1; path[v]=-1; for(i=0;i&lt;g.n;++i) &#123; min=INF; for(j=0;j&lt;g.n;++j) &#123; if(visit[j]==0&amp;&amp;dist[j]&lt;min) &#123; u=j; min=dist[j]; &#125; &#125; visit[u]=1; for(j=0;j&lt;g.n;++j) &#123; if(visit[j]==0&amp;&amp;dist[u]+g.edge[u][j]&lt;dist[j]) &#123; dist[j]=dist[u]+g.edge[u][j]; path[j]=u; &#125; &#125; &#125;&#125;int main()&#123; int i,j; MGraph g; char begin,end; g.e=0; cin&gt;&gt;g.n; for(i=0;i&lt;g.n;++i) &#123; g.vex[i].no=i; g.vex[i].arcnum=0; for(j=0;j&lt;g.n;++j) &#123; cin&gt;&gt;g.edge[i][j]; if(g.edge[i][j]!=0&amp;&amp;g.edge[i][j]!=-1) &#123; ++g.e; ++g.vex[i].arcnum; &#125; else g.edge[i][j]=INF;//å°†è‡ªèº«å’Œæ²¡è·¯å¾„çš„å¼§è®¾ç½®ä¸ºæ— ç©· &#125; &#125; cin&gt;&gt;begin&gt;&gt;end; cout&lt;&lt;g.e/2&lt;&lt;endl; for(i=0;i&lt;g.n;++i) cout&lt;&lt;g.vex[i].arcnum&lt;&lt;endl; Dijkstra(g,begin-'A'); cout&lt;&lt;dist[end-'A'];&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸‰ç§é€’å½’éå†äºŒå‰æ ‘]]></title>
    <url>%2F2015%2F07%2F20%2F3order%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®æè¿°ç»™å®šä¸€é¢—äºŒå‰æ ‘ï¼Œè¦æ±‚è¾“å‡ºäºŒå‰æ ‘çš„å‰åºéå†ã€ååºéå†ã€ä¸­åºéå†äºŒå‰æ ‘å¾—åˆ°çš„åºåˆ—ã€‚æœ¬é¢˜å‡è®¾äºŒå‰æ ‘çš„ç»“ç‚¹æ•°ä¸è¶…è¿‡1000ã€‚ è¾“å…¥è¦æ±‚è¾“å…¥æ•°æ®åˆ†ä¸ºå¤šç»„ï¼Œç¬¬ä¸€è¡Œæ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•°nï¼Œä¸‹é¢çš„nè¡Œåˆ†åˆ«ä»£è¡¨ä¸€æ£µäºŒå‰æ ‘ã€‚æ¯æ£µäºŒå‰æ ‘çš„ç»“ç‚¹å‡ä¸ºæ­£æ•´æ•°ï¼Œæ•°æ®ä¸º0ä»£è¡¨å½“å‰ç»“ç‚¹ä¸ºç©ºï¼Œæ•°æ®ä¸º-1ä»£è¡¨äºŒå‰æ ‘æ•°æ®è¾“å…¥ç»“æŸï¼Œ-1ä¸ä½œå¤„ç†ã€‚äºŒå‰æ ‘çš„æ„é€ æŒ‰ç…§å±‚æ¬¡é¡ºåºï¼ˆå³ç¬¬1å±‚1ä¸ªæ•´æ•°ï¼Œç¬¬2å±‚2ä¸ªï¼Œç¬¬3å±‚4ä¸ªï¼Œç¬¬4å±‚æœ‰8ä¸ªâ€¦â€¦ï¼Œå¦‚æœæŸä¸ªç»“ç‚¹ä¸å­˜åœ¨ä»¥0ä»£æ›¿ï¼‰ è¾“å‡ºè¦æ±‚è¾“å‡ºæ¯æ£µäºŒå‰æ ‘çš„å‰åºéå†ã€ååºéå†ã€ä¸­åºéå†äºŒå‰æ ‘å¾—åˆ°çš„åºåˆ—ã€‚ å‡å¦‚è¾“å…¥2 1 -1 1 2 0 3 4 -1 åº”å½“è¾“å‡º1 1 1 1 2 3 4 3 4 2 1 3 2 4 1 Code:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384using namespace std;typedef struct BTree&#123; int data; struct BTree *left; struct BTree *right;&#125;BTree;int arr[1010],n;BTree* CreatBTree(int i)&#123; if(i&gt;=n||arr[i]==0) return NULL; BTree *temp=(BTree *)malloc(sizeof(BTree)); temp-&gt;data=arr[i]; temp-&gt;left=CreatBTree(2*i); temp-&gt;right=CreatBTree(2*i+1); return temp;&#125;void preOrder(BTree *p)&#123; if(p!=NULL) &#123; cout&lt;&lt;p-&gt;data&lt;&lt;" "; preOrder(p-&gt;left); preOrder(p-&gt;right); &#125;&#125;void inOrder(BTree *p)&#123; if(p!=NULL) &#123; inOrder(p-&gt;left); cout&lt;&lt;p-&gt;data&lt;&lt;" "; inOrder(p-&gt;right); &#125;&#125;void postOrder(BTree *p)&#123; if(p!=NULL) &#123; postOrder(p-&gt;left); postOrder(p-&gt;right); cout&lt;&lt;p-&gt;data&lt;&lt;" "; &#125;&#125;int getDeep(BTree *p)&#123; int LD,RD; if(p==NULL) return 0; LD=getDeep(p-&gt;left); RD=getDeep(p-&gt;right); return 1+max(LD,RD);&#125;void delBTree(BTree *p)&#123; if(p) &#123; delBTree(p-&gt;left); delBTree(p-&gt;right); free(p); &#125;&#125;int main()&#123; int t; cin&gt;&gt;t; while(t--) &#123; n=0; while(cin&gt;&gt;arr[++n]&amp;&amp;arr[n]!=-1); BTree *root=CreatBTree(1); //cout&lt;&lt;getDeep(root); //cout&lt;&lt;ceil(log(i-1.0)/log(2.0));//æ ¹æ®æ•°ç»„é•¿åº¦ä¹Ÿå¯æ±‚å¾—æ ‘çš„æ·±åº¦ preOrder(root); cout&lt;&lt;endl; postOrder(root); cout&lt;&lt;endl; inOrder(root); cout&lt;&lt;endl; delBTree(root); &#125; return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KMPæ¨¡å¼åŒ¹é…]]></title>
    <url>%2F2015%2F07%2F18%2Fkmp%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªä¸»ä¸²å’Œä¸€ä¸ªå­ä¸²ï¼Œè‹¥åŒ¹é…æˆåŠŸï¼Œåˆ™æ‰¾å‡ºåŒ¹é…çš„è¶Ÿæ•°å’Œåœ¨å­ä¸²åœ¨ä¸»ä¸²ä¸­çš„ä½ç½®ï¼Œè‹¥åŒ¹é…ä¸æˆåŠŸï¼Œåˆ™è¾“å‡º0 è¾“å…¥è¦æ±‚è¾“å…¥ä¸¤ä¸ªå­—ç¬¦ä¸² è¾“å‡ºè¦æ±‚è¾“å‡ºåŒ¹é…çš„è¶Ÿæ•°å’Œä½ç½® å‡å¦‚è¾“å…¥ababcabcacbab abcac åº”å½“è¾“å‡º3 6 Codeï¼š ä»Šå¤©å¥½å¥½åœ°ç†è§£äº†kmpç®—æ³•ï¼Œç‰©è¶…æ‰€å€¼ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#include&lt;bits/stdc++.h&gt;using namespace std;void getnext(char str[],int next[])&#123; int i=0,j=-1; next[0]=-1; int len=strlen(str); while(i&lt;len-1) &#123; if(j==-1||str[i]==str[j]) &#123; ++i; ++j; next[i]=j; &#125; else j=next[j]; &#125;&#125;void kmp(char str[],char substr[],int next[],int &amp;times,int &amp;pos)&#123; int len1=strlen(str); int len2=strlen(substr); int i=0,j=0; times=1; getnext(substr,next); while(i&lt;len1&amp;&amp;j&lt;len2) &#123; if(j==-1||str[i]==substr[j]) &#123; ++i; ++j; &#125; else &#123; j=next[j]; ++times; &#125; &#125; if(len2==j) pos=i-j; else times=0;&#125;int main()&#123; char str[100],substr[100]; gets(str); gets(substr); int next[100]; int pos,times; kmp(str,substr,next,times,pos); if(times) cout&lt;&lt;times&lt;&lt;" "&lt;&lt;pos+1; else cout&lt;&lt;0; return 0;&#125;]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ“ä½œæ ¼å­]]></title>
    <url>%2F2015%2F05%2F26%2Fczgz%2F</url>
    <content type="text"><![CDATA[é—®é¢˜æè¿°æœ‰nä¸ªæ ¼å­ï¼Œä»å·¦åˆ°å³æ”¾æˆä¸€æ’ï¼Œç¼–å·ä¸º1-nã€‚ å…±æœ‰mæ¬¡æ“ä½œï¼Œæœ‰3ç§æ“ä½œç±»å‹ï¼š 1.ä¿®æ”¹ä¸€ä¸ªæ ¼å­çš„æƒå€¼ï¼Œ 2.æ±‚è¿ç»­ä¸€æ®µæ ¼å­æƒå€¼å’Œï¼Œ 3.æ±‚è¿ç»­ä¸€æ®µæ ¼å­çš„æœ€å¤§å€¼ã€‚ å¯¹äºæ¯ä¸ª2ã€3æ“ä½œè¾“å‡ºä½ æ‰€æ±‚å‡ºçš„ç»“æœã€‚ è¾“å…¥æ ¼å¼ç¬¬ä¸€è¡Œ2ä¸ªæ•´æ•°nï¼Œmã€‚ æ¥ä¸‹æ¥ä¸€è¡Œnä¸ªæ•´æ•°è¡¨ç¤ºnä¸ªæ ¼å­çš„åˆå§‹æƒå€¼ã€‚ æ¥ä¸‹æ¥mè¡Œï¼Œæ¯è¡Œ3ä¸ªæ•´æ•°p,x,yï¼Œpè¡¨ç¤ºæ“ä½œç±»å‹ï¼Œp=1æ—¶è¡¨ç¤ºä¿®æ”¹æ ¼å­xçš„æƒå€¼ä¸ºyï¼Œp=2æ—¶è¡¨ç¤ºæ±‚åŒºé—´[x,y]å†…æ ¼å­æƒå€¼å’Œï¼Œp=3æ—¶è¡¨ç¤ºæ±‚åŒºé—´[x,y]å†…æ ¼å­æœ€å¤§çš„æƒå€¼ã€‚ è¾“å‡ºæ ¼å¼æœ‰è‹¥å¹²è¡Œï¼Œè¡Œæ•°ç­‰äºp=2æˆ–3çš„æ“ä½œæ€»æ•°ã€‚ æ¯è¡Œ1ä¸ªæ•´æ•°ï¼Œå¯¹åº”äº†æ¯ä¸ªp=2æˆ–3æ“ä½œçš„ç»“æœã€‚ æ ·ä¾‹è¾“å…¥4 3 1 2 3 4 2 1 3 1 4 3 3 1 4 æ ·ä¾‹è¾“å‡º6 3 æ•°æ®è§„æ¨¡ä¸çº¦å®šå¯¹äº20%çš„æ•°æ®n &lt;= 100ï¼Œm &lt;= 200ã€‚ å¯¹äº50%çš„æ•°æ®n &lt;= 5000ï¼Œm &lt;= 5000ã€‚ å¯¹äº100%çš„æ•°æ®1 &lt;= n &lt;= 100000ï¼Œm &lt;= 100000ï¼Œ0 &lt;= æ ¼å­æƒå€¼ &lt;= 10000ã€‚ èŠ±äº†ä¸€å¤©å­¦äº†çº¿æ®µæ ‘ï¼Œè¿˜ä¸æ˜¯å¾ˆç†Ÿï¼Œä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687#include&lt;bits/stdc++.h&gt;using namespace std;struct Node&#123; int sum,l,r,max;&#125;node[300001];int find_ans(int x,int y,int i,bool ismax)//è¿”å›åŒºé—´[x,y]çš„æœ€å¤§å€¼æˆ–å’Œ&#123; if(x==node[i].l&amp;&amp;y==node[i].r) return ismax?node[i].max:node[i].sum; int mid=(node[i].l+node[i].r)/2; if(x&gt;mid) return find_ans(x,y,2*i+1,ismax); else if(y&lt;=mid) return find_ans(x,y,2*i,ismax); else return ismax?max(find_ans(x,mid,2*i,ismax),find_ans(mid+1,y,2*i+1,ismax)):find_ans(x,mid,2*i,ismax)+find_ans(mid+1,y,2*i+1,ismax);&#125;void modify(int i,int x,int data)//å°†dataæ›¿æ¢çº¿æ®µæ ‘çš„xä½ç½®çš„å€¼ï¼Œå¹¶æ›´æ–°åŒºé—´æœ€å¤§å€¼å’ŒåŒºé—´å’Œ&#123; if(x==node[i].l&amp;&amp;x==node[i].r) &#123; node[i].sum=data; node[i].max=data; return; &#125; else &#123; int mid=(node[i].l+node[i].r)/2; if(x&gt;mid) modify(2*i+1,x,data); else modify(2*i,x,data); node[i].max=max(node[i*2].max,node[i*2+1].max); node[i].sum=node[i*2].sum+node[i*2+1].sum; &#125;&#125;void insert(int i,int x,int data) //å°†dataæ’å…¥åˆ°çº¿æ®µæ ‘çš„xä½ç½®&#123; node[i].sum+=data; node[i].max=max(data,node[i].max); if(node[i].l==node[i].r) return; int mid=(node[i].l+node[i].r)/2; if(x&gt;mid) insert(2*i+1,x,data); else insert(2*i,x,data);&#125;void init(int l,int r,int i)//åˆå§‹åŒ–çº¿æ®µæ ‘&#123; node[i].l=l; node[i].r=r; node[i].max=0; node[i].sum=0; if(l!=r) &#123; int mid=(l+r)/2; init(l,mid,2*i); init(mid+1,r,2*i+1); &#125;&#125;void solve();int main()&#123; solve(); return 0;&#125;void solve()&#123; int i,n,m,t,x,y; scanf("%d %d",&amp;n,&amp;m); init(1,n,1); for(i=1;i&lt;=n;i++) &#123; scanf("%d",&amp;t); insert(1,i,t); &#125; while(m--) &#123; scanf("%d %d %d",&amp;t,&amp;x,&amp;y); if(t==1) modify(1,x,y); else cout&lt;&lt;find_ans(x,y,1,t==3)&lt;&lt;endl; &#125;&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>çº¿æ®µæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaå¯¹ç»“æ„ä½“çš„æ’åº]]></title>
    <url>%2F2015%2F04%2F01%2Fjava-struct-sort%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®æè¿°è¾“å…¥è‹¥å¹²ä¸ªå­¦ç”Ÿçš„ä¿¡æ¯ï¼ˆå­¦å·ã€å§“åã€æˆç»©ï¼‰ï¼Œè¾“å…¥å­¦å·ä¸º0æ—¶ç»“æŸï¼Œç”¨å•å‘é“¾è¡¨ç»„ç»‡è¿™äº›å­¦ç”Ÿçš„ä¿¡æ¯åï¼Œå†æŒ‰æˆç»©ç”±ä½åˆ°é«˜é¡ºåºè¾“å‡ºã€‚ è¾“å…¥è¦æ±‚æ¯è¡Œè¾“å…¥è‹¥å¹²ä¸ªå­¦ç”Ÿçš„ä¿¡æ¯ï¼ˆå­¦å·ã€å§“åã€æˆç»©ï¼‰ï¼Œå­¦å·å’Œæˆç»©ä¸ºæ•´æ•°ï¼Œå§“åä¸ºé•¿åº¦ä¸è¶…è¿‡10çš„å­—ç¬¦ä¸²ã€‚ è¾“å…¥å­¦å·ä¸º0æ—¶ç»“æŸã€‚ è¾“å‡ºè¦æ±‚æŒ‰æˆç»©ç”±ä½åˆ°é«˜è¾“å‡ºæ‰€æœ‰å­¦ç”Ÿçš„ä¿¡æ¯(å¦‚æœæˆç»©ç›¸åŒï¼ŒæŒ‰è¾“å…¥çš„æ¬¡åºè¾“å‡º)ã€‚ å‡å¦‚è¾“å…¥1 zhang 78 2 wang 80 3 Li 75 4 zhao 85 0 åº”å½“è¾“å‡º3 Li 75 1 zhang 78 2 wang 80 4 zhao 85 1234567891011121314151617181920212223242526272829303132333435363738394041import java.util.Arrays;import java.util.Comparator;import java.util.Scanner;class Stu &#123; int index, id, score; String name;&#125;class mycmp implements Comparator&lt;Stu&gt; &#123; public int compare(Stu s1, Stu s2) &#123; if (s1.score != s2.score) return s1.score - s2.score; else return s1.index - s2.index; &#125;&#125;public class Main &#123; public static void main(String[] args) &#123; Scanner scan = new Scanner(System.in); Stu[] s = new Stu[1000]; int temp, i; for (i = 0; i &lt; 1000; i++) &#123; temp = scan.nextInt(); if (temp == 0) break; else &#123; s[i] = new Stu(); s[i].index = i; s[i].id = temp; s[i].name = scan.next(); s[i].score = scan.nextInt(); &#125; &#125; Arrays.sort(s, 0, i, new mycmp()); for (int j = 0; j &lt; i; j++) &#123; System.out.println(s[j].id + " " + s[j].name + " " + s[j].score); &#125; &#125;&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Blocks]]></title>
    <url>%2F2015%2F03%2F24%2Fblocks%2F</url>
    <content type="text"><![CDATA[DescriptionDonald wishes to send a gift to his new nephew, Fooey. Donald is a bit of a traditionalist, so he has chosen to send a set of N classic baby blocks. Each block is a cube, 1 inch by 1 inch by 1 inch. Donald wants to stack the blocks together into a rectangular solid and wrap them all up in brown paper for shipping. How much brown paper does Donald need? InputThe first line of input contains C, the number of test cases. For each case there is an additional line containing N, the number of blocks to be shipped. N does not exceed 1000. OutputYour program should produce one line of output per case, giving the minimal area of paper (in square inches) needed to wrap the blocks when they are stacked together. Sample Input5 9 10 26 27 100 Sample Output30 34 82 54 130 åˆ†æï¼šæšä¸¾ï¼Œå †ç§¯èµ·æ¥çš„ä½“ç§¯ä¸ºijkï¼Œåˆ™num%ï¼ˆi*jï¼‰è‚¯å®šä¸ºæ•´æ•°ï¼Œç„¶åæ›´æ–°è¡¨é¢ç§¯å¾—åˆ°æœ€å°å³å¯ã€‚ 12345678910111213141516171819202122232425262728293031323334353637#include&lt;iostream&gt;#include&lt;algorithm&gt;#include&lt;vector&gt;#include&lt;cctype&gt;#include&lt;cmath&gt;#include&lt;cstring&gt;#include&lt;cstdio&gt;using namespace std; void solve();int main()&#123; solve(); return 0;&#125;void solve()&#123; int t,i,j,m,num,ans,now; cin&gt;&gt;t; while(t--) &#123; ans=999999999; cin&gt;&gt;num; for(i=1;i&lt;=num;i++) &#123; for(j=1;j*i&lt;=num;j++) &#123; if(num%(i*j)!=0) continue; m=num/(i*j); now=i*j+i*m+m*j; if(now&lt;ans) ans=now; &#125; &#125; cout&lt;&lt;ans*2&lt;&lt;endl; &#125;&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>æšä¸¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hay Points]]></title>
    <url>%2F2015%2F03%2F24%2Fhay-points%2F</url>
    <content type="text"><![CDATA[DescriptionEach employee of a bureaucracy has a job description - a few paragraphs that describe the responsibilities of the job. The employeeâ€™s job description, combined with other factors, such as seniority, is used to determine his or her salary. The Hay Point system frees the Human Resources department from having to make an intelligent judgement as to the value of the employee; the job description is merely scanned for words and phrases that indicate responsibility. In particular, job descriptions that indicate control over a large budget or management over a large number of people yield high Hay Point scores. You are to implement a simplified Hay Point system. You will be given a Hay Point dictionary and a number of job descriptions. For each job description you are to compute the salary associated with the job, according to the system. InputThe first line of input contains 2 positive integers: m &lt;= 1000, the number of words in the Hay Point dictionary, and n &lt;= 100, the number of job descriptions. m lines follow; each contains a word (a string of up to 16 lower-case letters) and a dollar value (a real number between 0 and 1,000,000). Following the dictionary are the n job descriptions. Each job description consists of one or more lines of text; for your convenience the text has been converted to lower case and has no characters other than letters, numbers, and spaces. Each job description is terminated by a line containing a period. OutputFor each job description, output the corresponding salary computed as the sum of the Hay Point values for all words that appear in the description. Words that do not appear in the dictionary have a value of 0. Sample Input7 2 administer 100000 spending 200000 manage 50000 responsibility 25000 expertise 100 skill 50 money 75000 the incumbent will administer the spending of kindergarden milk money and exercise responsibility for making change he or she will share responsibility for the task of managing the money with the assistant whose skill and expertise shall ensure the successful spending exercise . this individual must have the skill to perform a heart transplant and expertise in rocket science . Sample Output700150 150 åˆ†æï¼šè¿™é¢˜å¦‚æœç”¨æ˜ å°„å½“ç„¶æœ€å¥½ä¸è¿‡äº†ï¼Œæˆ‘å¯¹STLè¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œæ‰€ä»¥è¿˜æ˜¯ç”¨ç»“æ„ä½“å¥½äº†ï¼Œè¾“å…¥çš„mä¸ªå•è¯ä½œä¸ºå­—å…¸ï¼Œä¹‹åè¾“å…¥çš„nä¸ªæ–‡æœ¬ä»¥â€™.â€™ç»“å°¾ï¼Œå¦‚æœæ–‡æœ¬ä¸­å‡ºç°å­—å…¸ä¸­çš„å•è¯ï¼Œå°±åŠ ä¸Šå€¼ï¼Œæœ€åè¾“å‡ºã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243#include&lt;iostream&gt;#include&lt;algorithm&gt;#include&lt;vector&gt;#include&lt;cctype&gt;#include&lt;cmath&gt;#include&lt;cstring&gt;#include&lt;cstdio&gt;using namespace std; struct dic&#123; char str[17]; int val;&#125;d[1001];void solve();int main()&#123; solve(); return 0;&#125;void solve()&#123; char temp[17]; int m,n,i,j,ans; cin&gt;&gt;m&gt;&gt;n; for(i=0;i&lt;m;i++) cin&gt;&gt;d[i].str&gt;&gt;d[i].val; for(j=0;j&lt;n;j++) &#123; ans=0; while(cin&gt;&gt;temp&amp;amp;&amp;amp;temp[0]!=&amp;#39;.&amp;#39;) &#123; for(i=0;i&lt;m;i++) &#123; if(strcmp(temp,d[i].str)==0) &#123; ans+=d[i].val; break; &#125; &#125; &#125; cout&lt;&lt;ans&lt;&lt;endl; &#125;&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>æ¨¡æ‹Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[YY's Minions]]></title>
    <url>%2F2015%2F03%2F22%2Fyys-minions%2F</url>
    <content type="text"><![CDATA[Despite YYâ€™s so much homework, she would like to take some time to play with her minions first. YY lines her minions up to an N*M matrix. Every minion has two statuses: awake or asleep. We use 0(the digit) to represent that it is asleep, and 1 for awake. Also, we define the minions who are around a minion closest in one of the eight directions its neighbors. And every minute every minion will change its status by the following specific rules:If this minion is awake, and the number of its neighbors who are awake is less than 2, this minion will feel lonely and turn to asleep.If this minion is awake, and the number of its neighbors who are awake is more than 3, this minion will turn to asleep for it will feel too crowded.If this minion is awake, and the number of its neighbors who are awake is exactly 2 or 3, this minion will keep being awake and feel very happy.If this minion is asleep, and the number of its neighbors who are awake is exactly 3, this minion will wake up because of the noise.Note that all changes take place at the same time at the beginning of a specific minute.Also, some minions will get bored and leave this silly game. We use â€˜Xâ€™s to describe them. We suppose that a minion would leave after T minutes. It will leave at the end of the Tth minute. Its status is considered during the change at the beginning of the Tth minute, and should be ignored after that. Of course, one minion will not leave twice! YY is a girl full of curiosity and wants to know every minionâ€™s status after F minutes. But you know she is weak and lazy! Please help this cute girl to solve this problem :) InputThere are multiple test cases. The first line contains the number of test cases Q. 1&lt;=Q&lt;=100.For each case, there are several lines:The first line contains four integers N, M, F, K. K means the number of leaving messages. 1&lt;=N, M&lt;=50, 1&lt;=F&lt;=1000, 1&lt;=K&lt;=N*M.Next N lines are the matrix which shows the initial status of each minion. Each line contains M chars. We guarantee that â€˜Xâ€™ wouldnâ€™t appear in initial status matrix.And next K lines are the leaving messages. Each line contains three integers Ti, Xi, Yi, They mean the minion who is located in (Xi, Yi) will leave the game at the end of the Tith minutes. 1&lt;=Ti&lt;= F, 1&lt;=Xi&lt;=N, 1&lt;=Yi&lt;=M. OutputFor each case, output N lines as a matrix which shows the status of each minion after F minutes. Sample Input2 3 3 2 1 101 110 001 1 2 2 5 5 6 3 10111 01000 00000 01100 10000 2 3 3 2 4 1 5 1 5 Sample Output010 1X0 010 0000X 11000 00X00 X0000 00000 HintFor case 1: T=0, the game starts 101 110 001 at the beginning of T=1, a change took place 100 101 010 at the end of T=1 (the minion in (2,2) left) 100 1X1 010 at the beginning of T=2, a change took place 010 1X0 010 at the end of T=2 (nothing changed for no minion left at T=2) 010 1X0 010 åˆ†æï¼šé¢˜ç›®è™½ç„¶é•¿äº†ç‚¹ï¼Œä½†å¾ˆå¥½ç†è§£ï¼Œæ³¨æ„é‚£å››ä¸ªæ¡ä»¶å³å¯æ¨¡æ‹Ÿæ±‚å¾—ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980#include&lt;iostream&gt;#include&lt;algorithm&gt;#include&lt;vector&gt;#include&lt;cctype&gt;#include&lt;cmath&gt;#include&lt;cstring&gt;#include&lt;cstdio&gt;using namespace std;int cnt[55][55],lea[55][55];//cntå‘¨å›´é†’ç€çš„æ•°é‡ï¼Œleaå°†è¦ç¦»å¼€çš„æ—¶é—´char sta[55][55];//å½“å‰çŠ¶æ€int dir[8][2]=&#123;&#123;1, 0&#125;, &#123;0, 1&#125;, &#123;0, -1&#125;, &#123;-1, 0&#125;, &#123;1, 1&#125;, &#123;-1, -1&#125;, &#123;1, -1&#125;, &#123;-1, 1&#125;&#125;;//éå†çš„å…«ä¸ªæ–¹å‘void solve();int main()&#123; solve(); return 0;&#125;void solve()&#123; int t,i,j,q,n,m,f,k; cin&gt;&gt;q; while(q--) &#123; memset(sta,0,sizeof(sta)); memset(cnt,0,sizeof(cnt)); memset(lea,0,sizeof(cnt)); cin&gt;&gt;n&gt;&gt;m&gt;&gt;f&gt;&gt;k; getchar();//å»é™¤å›è½¦ for(i=1;i&lt;=n;i++)//å¾—åˆ°åˆå§‹çŠ¶æ€å›¾ &#123; for(j=1;j&lt;=m;j++) sta[i][j]=getchar(); getchar();//å»é™¤å›è½¦ &#125; while(k--) &#123; int t,x,y; cin&gt;&gt;t&gt;&gt;x&gt;&gt;y; lea[x][y]=t;//x,yå¤„è¦ç¦»å¼€çš„æ—¶é—´ &#125; for(t=1;t&lt;=f;t++) &#123; for(i=1;i&lt;=n;i++) &#123; for(j=1;j&lt;=m;j++) &#123; for(k=0;k&lt;8;k++)//éå†å…«ä¸ªæ–¹å‘ &#123; int x=i+dir[k][1]; int y=j+dir[k][0]; if(x&lt;1 || y&lt;1 || x&gt;n || y&gt;m) continue; if(sta[x][y]=='1') ++cnt[i][j]; &#125; &#125; &#125; for(i=1;i&lt;=n;i++) &#123; for(j=1;j&lt;=m;j++) &#123; if(cnt[i][j]==3 &amp;&amp; sta[i][j]=='0')//è‡ªå·±ç¡ç€ï¼Œå‘¨å›´é†’ç€çš„æ•°é‡æ°å¥½ä¸º3å°†é†’æ¥ sta[i][j]='1'; else if((cnt[i][j]&lt;2 || cnt[i][j]&gt;3) &amp;&amp; sta[i][j]=='1')//è‡ªå·±é†’ç€ï¼Œå¹¶ä¸”å¦‚æœå‘¨å›´é†’ç€çš„æ•°é‡å°äº2æˆ–å¤§äº3å°†å…¥ç¡ sta[i][j]='0'; //å…¶ä½™çŠ¶æ€å°±ä¸ç”¨æ”¹å˜ if(lea[i][j]==t) sta[i][j]='X';//åˆ°äº†tæ—¶é—´ç¦»å¼€ cnt[i][j]=0;//é‡ç½®é†’ç€çš„æ•°é‡ &#125; &#125; &#125; for(i=1;i&lt;=n;i++) &#123; for(j=1;j&lt;=m;j++) putchar(sta[i][j]); puts(""); &#125; &#125;&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>æ¨¡æ‹Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç­‰å·®æ•°åˆ—]]></title>
    <url>%2F2015%2F03%2F22%2Farithmetic-progression%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®æè¿°ç»™å®šn(1&lt;=n&lt;=400)ä¸ªæ•°,ä»ä¸­æ‰¾å‡ºå°½å¯èƒ½å¤šçš„æ•°ä½¿å¾—ä»–ä»¬èƒ½å¤Ÿç»„æˆä¸€ä¸ªç­‰å·®æ•°åˆ—.æ±‚æœ€é•¿çš„ç­‰å·®æ•°åˆ—çš„é•¿åº¦. è¾“å…¥è¦æ±‚ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°n,æ¥ä¸‹æ¥ä¸€è¡ŒåŒ…æ‹¬äº†nä¸ªæ•°,æ¯ä¸ªæ•°çš„ç»å¯¹å€¼ä¸è¶…è¿‡10000000. è¾“å‡ºè¦æ±‚å¯¹äºæ¯ä¸ªè¾“å…¥æ•°æ®,è¾“å‡ºä½ æ‰€æ‰¾å‡ºçš„æœ€é•¿ç­‰å·®æ•°åˆ—çš„é•¿åº¦ å‡å¦‚è¾“å…¥7 3 8 4 5 6 2 2 åº”å½“è¾“å‡º5 åˆ†æï¼šæšä¸¾æ³•ï¼Œn^3æ—¶é—´å¤æ‚åº¦ï¼Œå¦ä¸€ç§æ–¹æ³•æ˜¯dpï¼Œdp[j][i]è¡¨ç¤ºä»¥a[j]å’Œa[i]ç»“å°¾çš„æœ€é•¿ç­‰å·®æ•°åˆ—çš„é•¿åº¦ã€‚æšä¸¾æœ€åä¸¤ä¸ªå…ƒç´ ï¼Œå¯¹äºæ¯ä¸€ä¸ªa[j]å’Œa[i]ï¼Œéƒ½è¦æ‰¾åˆ°a[p]ï¼Œp &lt; jï¼Œæ»¡è¶³a[p] + a[i] == 2 * a[j]ã€‚ç„¶ådp[p][j] + 1å»æ›´æ–°dp[j][i]ã€‚çœ‹èµ·æ¥æ˜¯ä¸‰å±‚å¾ªç¯ï¼Œä½†å…¶å®å¯¹äºåŒä¸€ä¸ªiï¼Œpçš„ä½ç½®æ˜¯éšç€jå¢å¤§è€Œå¢å¤§çš„ï¼Œæ‰€ä»¥æœ€é‡Œé¢çš„whileå¾ªç¯å¯¹äºæ¯ä¸ªiå€¼æœ€å¤šæ˜¯O(n)çš„ä»£ä»·ã€‚æ€»çš„ä»£ä»·è¿˜æ˜¯O(n^2)ã€‚ æšä¸¾ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include&lt;iostream&gt;#include&lt;algorithm&gt;#include&lt;vector&gt;#include&lt;cctype&gt;#include&lt;cmath&gt;#include&lt;cstring&gt;#include&lt;cstdio&gt;using namespace std;void solve();int main()&#123; solve(); return 0;&#125;void solve()&#123; int i,j,k,d,n,arr[401],ans=0,sum,la; cin&gt;&gt;n; if (n&lt;=2) cout&lt;&lt;n&lt;&lt;endl; else &#123; for(i=0;i&lt;n;i++) cin&gt;&gt;arr[i]; sort(arr,arr+n); for (i=0;i&lt;n-1;++i) &#123; for (j=i+1;j&lt;n;++j) &#123; d=arr[j]-arr[i]; la=j; sum=2; for (k=j+1;k&lt;n;++k) &#123; if (arr[k]-arr[la]==d) &#123; la=k; ++sum; &#125; else if(arr[k]-arr[la]&gt;d) break; &#125; if (sum&gt;ans) ans=sum; &#125; cout&lt;&lt;ans&lt;&lt;endl; &#125; &#125;&#125; dpä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include&lt;iostream&gt;#include&lt;algorithm&gt;#include&lt;vector&gt;#include&lt;cctype&gt;#include&lt;cmath&gt;#include&lt;cstring&gt;#include&lt;cstdio&gt;using namespace std;#define MAXL 410int dp[MAXL][MAXL];int find_(int a[], int n)&#123; int i, j; for(i = 1; i &lt; n; i++) &#123; int p = 0; for(j = 0; j &lt; i; j++) &#123; dp[j][i] = 2; while(p &lt; j &amp;&amp; a[p] + a[i] &lt; 2 * a[j]) p++; if(p &lt; j &amp;&amp; a[p] + a[i] == 2 * a[j]) dp[j][i] = max(dp[j][i], dp[p][j] + 1); &#125; &#125; int ans = (n &gt; 0); for(i = 1; i &lt; n; i++) for(j = 0; j &lt; i; j++) ans = max(ans, dp[j][i]); return ans;&#125;void solve();int main()&#123; solve(); return 0;&#125;void solve()&#123; int i,n,arr[401]; cin&gt;&gt;n; for(i=0;i&lt;n;i++) cin&gt;&gt;arr[i]; sort(arr,arr+n); cout&lt;&lt;find_(arr,n);&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
        <tag>æšä¸¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maze Problem]]></title>
    <url>%2F2015%2F02%2F12%2Fmaze-problem%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®æè¿°Given a maze, find a shortest path from start to goal. è¾“å…¥è¦æ±‚Input consists serveral test cases. First line of the input contains number of test case T. For each test case the first line contains two integers N , M ( 1 &lt;= N, M &lt;= 100 ). Each of the following N lines contain M characters. Each character means a cell of the map. Here is the definition for chracter. Constraint: For a character in the map: â€˜Sâ€™ : start cell â€˜Eâ€™ : goal cell â€˜-â€˜ : empty cell â€˜#â€™ : obstacle cell no two start cell exists. no two goal cell exists. è¾“å‡ºè¦æ±‚For each test case print one line containing shortest path. If there exists no path from start to goal, print -1. å‡å¦‚è¾“å…¥1 5 5 S-### ----- ##--- E#--- ---## åº”å½“è¾“å‡º9 åˆ†æï¼šè¿·å®«æœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œå®‰å®‰åˆ†åˆ†ç”¨bfså®½æœå°±å¥½ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778#include&lt;stdio.h&gt;#include&lt;iostream&gt;#include&lt;algorithm&gt;#include&lt;vector&gt;#include&lt;cctype&gt;#include&lt;cmath&gt;#include&lt;cstring&gt;#include&lt;queue&gt;#include&lt;string&gt;using namespace std;struct point &#123; int x,y;&#125;r[10005];int dis[4][2]=&#123;&#123;1,0&#125;,&#123;0,-1&#125;,&#123;-1,0&#125;,&#123;0,1&#125;&#125;;char map[105][105];int ans[105][105];int m,n,si,sj,ei,ej;void bfs()&#123; int tail=1,head=0,i,x1,y1; r[0].x=si; r[0].y=sj; while(tail != head) &#123; x1=r[head].x; y1=r[head].y; for(i=0; i&lt;4; i++) &#123; x1+=dis[i][0], y1+=dis[i][1]; if(x1&gt;=0&amp;&amp;y1&gt;=0&amp;&amp;x1&lt;n&amp;&amp;y1&lt;m&amp;&amp;map[x1][y1]!='#'&amp;&amp;ans[x1][y1]==-1) &#123; r[tail].x=x1; r[tail].y=y1; ans[x1][y1] = 1 + ans[x1-dis[i][0]][y1-dis[i][1]]; tail++; &#125; x1-=dis[i][0], y1-=dis[i][1]; &#125; head++; if(ans[ei][ej]!=-1) break; &#125;&#125;void solve();int main()&#123; solve(); return 0;&#125;void solve()&#123; int t,i,j; cin&gt;&gt;t; while(t--) &#123; cin&gt;&gt;n&gt;&gt;m; memset(map,'#',sizeof(map)); memset(ans,-1,sizeof(ans)); for(i=0;i&lt;n;i++) &#123; for(j=0;j&lt;m;j++) &#123; cin&gt;&gt;map[i][j]; if(map[i][j]=='S') si=i,sj=j,ans[i][j]=0; if(map[i][j]=='E') ei=i,ej=j; &#125; getchar(); &#125; bfs(); if(ans[ei][ej]==-1) cout&lt;&lt;-1&lt;&lt;endl; else cout&lt;&lt;ans[ei][ej]&lt;&lt;endl; &#125;&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>å¹¿æœ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tri Tiling]]></title>
    <url>%2F2015%2F01%2F26%2Ftri-tiling%2F</url>
    <content type="text"><![CDATA[In how many ways can you tile a 3xn rectangle with 2x1 dominoes? Here is a sample tiling of a 3x12 rectangle. InputInput consists of several test cases followed by a line containing -1. Each test case is a line containing an integer 0 â‰¤ n â‰¤ 30. OutputFor each test case, output one integer number giving the number of possible tilings. Sample Input2 8 12 -1 Sample Output3 153 2131 åˆ†æï¼šç»™ä½ ä¸€ä¸ª3nçš„æ¡†æ¡†ï¼Œç”¨21çš„æ¡†æ¡†å»å¡«æ»¡ï¼Œé—®ä¸€å…±æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•ã€‚é¦–å…ˆï¼Œnä¸ºå¥‡æ•°è‚¯å®šæ˜¯0ï¼›å½“nä¸ºå¶æ•°æ—¶ï¼Œn=2æœ‰3ç§æ‹¼æ³•ï¼Œå½“å…¨éƒ¨éƒ½ç”±è¿™ä¸‰ç§ç»„æˆçš„è¯f[n]=f[n-2]3;å½“å‡ºç°ä¸Šå›¾ä¸¤ä¸ªçº¢åœˆåœˆçš„æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬å°±åˆæœ‰2ï¼ˆf[n-4]+f[n-6]+â€¦â€¦f[0])ï¼Œæ‰€ä»¥f(n)=3f(n-2)+2f(n-4)+â€¦+2f(0)ï¼Œå¯ä»¥è§£å‡ºf(n)=4f(n-2)-f(n-4)ï¼Œå…¶ä¸­f(0)=1,f(2)=3; acä»£ç : #include&lt;iostream&gt; #include&lt;stdio.h&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cctype&gt; #include&lt;cmath&gt; #include&lt;cstring&gt; #include&lt;string&gt; using namespace std; void solve(); int main() { solve(); return 0; } void solve() { int n,f[31] = {1,0,3}; for (int i = 4;i &lt;= 30;i ++) f[i] = f[i - 2]*4 - f[i - 4]; while (scanf ("%d",&amp;amp;n)&amp;amp;&amp;amp;n != -1) printf ("%d\n",f[n]); }]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tug of War]]></title>
    <url>%2F2015%2F01%2F18%2Ftug-of-war%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®æè¿°A tug of war is to be arranged at the local office picnic. For the tug of war, the picnickers must be divided into two teams. Each person must be on one team or the other; the number of people on the two teams must not differ by more than 1; the total weight of the people on each team should be as nearly equal as possible. The first line of input contains n the number of people at the picnic. n lines follow. The first line gives the weight of person 1; the second the weight of person 2; and so on. Each weight is an integer between 1 and 450. There are at most 100 people at the picnic. Your output will be a single line containing 2 numbers: the total weight of the people on one team, and the total weight of the people on the other team. If these numbers differ, give the lesser first. å‡å¦‚è¾“å…¥3 100 90 200 åº”å½“è¾“å‡º190 200 åˆ†æï¼šæœ‰nä¸ªäººï¼Œè¦åˆ†æˆ2ç»„ï¼Œæ¯ä¸ªäººæœ‰ä¸€ä¸ªä½“é‡ï¼Œè¦æ±‚ä¸¤ç»„äººçš„æ€»ä½“é‡å°½å¯èƒ½çš„æ¥è¿‘ã€‚ä¸¤ä¸ªç»„çš„äººæ•°åªå·®ä¸å¾—è¶…è¿‡1.åˆ†åˆ«è¾“å‡ºä¸¤ä¸ªç»„åˆ†å¥½åï¼Œäººå‘˜æ€»ä½“é‡ã€‚æ€»ä½“é‡å°çš„é‚£ä¸ªç»„å…ˆè¾“å‡ºï¼Œä¸­é—´éš”ä¸€ä¸ªç©ºæ ¼ã€‚å…¸å‹çš„01èƒŒåŒ…åŠ¨æ€è§„åˆ’ã€‚äººæ•°ä¸€å®šï¼Œæ‰¾å‡ºæœ€æ¥è¿‘ä¸­é—´å€¼çš„é‚£ä¸ªæ•°å³å¯ã€‚åŠ¨æ€è½¬ç§»æ–¹ç¨‹ï¼š if(dp[j][k]) dp[j+1][k+wei[i]]=true; dp[j][k]è¡¨ç¤ºä»æ‰€æœ‰äººé‡Œé¢é€‰å‡ºjä¸ªäººèƒ½æ‹¼æˆkçš„æ€»ä½“é‡ï¼› åœ¨jä¸ªäººèƒ½æ‹¼å‡ºçš„æ€»ä½“é‡å¯ä»¥ç­‰äºkæ—¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬åŠ å…¥ç¬¬iä¸ªäººï¼Œæˆ‘ä»¬çš„æ€»äººæ•°å°±æ˜¯j+1äº†ï¼Œè¿™æ—¶å€™æ‹¼å‡ºçš„æ€»ä½“é‡å°±æ˜¯k+wei[i]äº†ï¼› åœ¨å¤„ç†çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¿…é¡»ä»åé¢å¾€å‰é¢æœç´¢kã€‚å¦åˆ™ï¼Œæˆ‘ä»¬æœ¬æ¬¡å¤„ç†çš„å‰é¢å¾—å‡ºçš„æ•°æ®å˜åŒ–ä¼šå½±å“åˆ°åé¢çš„å¤„ç†ã€‚ acæºç : 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include&lt;stdio.h&gt;#include&lt;iostream&gt;#include&lt;algorithm&gt;#include&lt;vector&gt;#include&lt;cctype&gt;#include&lt;cmath&gt;#include&lt;cstring&gt;#include&lt;queue&gt;#include&lt;string&gt;using namespace std;bool dp[55][22550];int wei[102];void solve();int main()&#123; solve(); return 0;&#125;void solve()&#123; int t,n,sum,i,j,k; sum=0; cin&gt;&gt;n; for(i=0; i&lt;n; i++) cin&gt;&gt;wei[i],sum+=wei[i]; memset(dp,false,sizeof(dp)); dp[0][0]=true; for(i=0; i&lt;n; i++) for(j=n/2; j&gt;=0; j--) for(k=sum/2-wei[i]; k&gt;=0; k--) if(dp[j][k]) dp[j+1][k+wei[i]]=true; int max; for(i=sum/2; i&gt;=0; i--) &#123; if(dp[n/2][i]) &#123; max=i; break; &#125; &#125; if(n%2!=0) &#123; for(i=sum/2; i&gt;=0; i--) if(dp[n/2+1][i]) &#123; if(i&gt;max) max=i; break; &#125; &#125; cout&lt;&lt;max&lt;&lt;" "&lt;&lt;sum-max&lt;&lt;endl;&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[A sequence of numbersï¼ˆå¿«é€Ÿæ±‚å¹‚ï¼‰]]></title>
    <url>%2F2015%2F01%2F12%2Fa-sequence-of-numbers%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®æè¿°Xinlv wrote some sequences on the paper a long time ago, they might be arithmetic or geometric sequences. The numbers are not very clear now, and only the first three numbers of each sequence are recognizable. Xinlv wants to know some numbers in these sequences, and he needs your help. è¾“å…¥è¦æ±‚The first line contains an integer N, indicting that there are N sequences. Each of the following N lines contain four integers. The first three indicating the first three numbers of the sequence, and the last one is K, indicating that we want to know the K-th numbers of the sequence.You can assume 0 &lt; K &lt;= 10^9, and the other three numbers are in the range [0, 2^63). All the numbers of the sequences are integers. And the sequences are non-decreasing. è¾“å‡ºè¦æ±‚Output one line for each test case, that is, the K-th number module (%) 200907. å‡å¦‚è¾“å…¥2 1 2 3 5 1 2 4 5 åº”å½“è¾“å‡º5 16 é¢˜ç›®å¤§æ„å¾ˆç®€å•ï¼Œå°±æ˜¯ç»™ä½ ä¸€ä¸ªåºåˆ—çš„å‰ä¸‰é¡¹ï¼Œè¯¥åºåˆ—ä¸æ˜¯ç­‰å·®å°±æ˜¯ç­‰æ¯”ï¼Œè®©ä½ æ±‚ç¬¬Ké¡¹ä½™200907ï¼Œæ±‚ç­‰æ¯”æ—¶ç”¨åˆ°å¿«é€Ÿæ±‚å¹‚ï¼Œä¸ç”¨çš„è¯åº”è¯¥ä¼šTLEï¼Œä¸‹é¢ä»‹ç»å¿«é€Ÿæ±‚å¹‚ï¼š å¿«é€Ÿæ±‚å¹‚å®ç°ä»£ç ä¸º 1234567891011int fastpow(int a,int b) &#123; int r=1,base=a; while(b!=0) &#123; if(b&amp;1) r*=base; base*=base; b&gt;&gt;=1; &#125; return r;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include&lt;iostream&gt;#include&lt;algorithm&gt;#include &lt;vector&gt;#include&lt;string.h&gt;#include&lt;string&gt;#include &lt;cstring&gt;#include&lt;ctype.h&gt;#include&lt;math.h&gt;#include &lt;queue&gt;#include&lt;map&gt;using namespace std;int MOD=200907;long long fastpow(long long q,long long n)&#123; long long r=1; while(n) &#123; if(n&amp;amp;1) r=r%MOD*(q%MOD)%MOD; q=q%MOD*(q%MOD)%MOD; n&gt;&gt;=1; &#125; return r;&#125;void solve();int main()&#123; solve(); return 0;&#125;void solve()&#123; long long t,a1,a2,a3,n,d,ans,q; cin&gt;&gt;t; while(t--) &#123; cin&gt;&gt;a1&gt;&gt;a2&gt;&gt;a3&gt;&gt;n; if(a2*2==a1+a3) &#123; d=a2-a1; ans=(a1+(n-1)*d%MOD)%MOD; &#125; else &#123; q=a2/a1; ans=a1*fastpow(q,n-1)%MOD; &#125; cout&lt;&lt;ans&lt;&lt;endl; &#125;&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>æ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Additive equations]]></title>
    <url>%2F2015%2F01%2F04%2Fadditive-equations%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®æè¿°We all understand that an integer set is a collection of distinct integers. Now the question is: given an integer set, can you find all its addtive equations? To explain what an additive equation is, letâ€™s look at the following examples:1+2=3 is an additive equation of the set {1,2,3}, since all the numbers that are summed up in the left-hand-side of the equation, namely 1 and 2, belong to the same set as their sum 3 does. We consider 1+2=3 and 2+1=3 the same equation, and will always output the numbers on the left-hand-side of the equation in ascending order. Therefore in this example, it is claimed that the set {1,2,3} has an unique additive equation 1+2=3.It is not guaranteed that any integer set has its only additive equation. For example, the set {1,2,5} has no addtive equation and the set {1,2,3,5,6} has more than one additive equations such as 1+2=3, 1+2+3=6, etc. When the number of integers in a set gets large, it will eventually become impossible to find all the additive equations from the top of our minds â€“ unless you are John von Neumann maybe. So we need you to program the computer to solve this problem. è¾“å…¥è¦æ±‚The input data consists of several test cases.The first line of the input will contain an integer N, which is the number of test cases.Each test case will first contain an integer M (1&lt;=M&lt;=30), which is the number of integers in the set, and then is followed by M distinct positive integers in the same line. è¾“å‡ºè¦æ±‚For each test case, you are supposed to output all the additive equations of the set. These equations will be sorted according to their lengths first( i.e, the number of integer being summed), and then the equations with the same length will be sorted according to the numbers from left to right, just like the sample output shows. When there is no such equation, simply output â€œCanâ€™t find any equations.â€ in a line. Print a blank line after each test case. å‡å¦‚è¾“å…¥3 3 1 2 3 3 1 2 5 6 1 2 3 5 4 6 åº”å½“è¾“å‡º1+2=3 Can't find any equations. 1+2=3 1+3=4 1+4=5 1+5=6 2+3=5 2+4=6 1+2+3=6 é¢˜ç›®æ„æ€å¾ˆç®€å•ï¼Œå°±æ˜¯è¾“å…¥ä¸€ä¸²é•¿åº¦ä¸ºMçš„æ•´æ•°ï¼Œæ±‚è¿™ç»„æ•°æ®ä¸­çš„ç­‰å¼å¹¶è¾“å‡ºï¼Œç­‰å¼é•¿åº¦ä»çŸ­åˆ°é•¿ï¼Œä¸”ç­‰å¼ä¸­è‡ªå·¦å‘å³é€’å¢ã€‚ æ€è·¯å°±æ˜¯å…ˆå¯¹è¿™ç»„æ•°æ®è¿›è¡Œæ’åºï¼Œç„¶åä»2â€”â€”ï¼ˆM-1ï¼‰é•¿åº¦çš„ç­‰å¼è¿›è¡Œæ·±æœï¼Œæ·±æœæ³¨æ„å‰ªæï¼Œå¦åˆ™ä¼šè¶…æ—¶ï¼Œæ²¡æœåˆ°ä¸€ä¸ªç­‰å¼å°±å­˜å…¥è¡¨ä¸­ï¼Œæœ€åå¯¹è¡¨è¿›è¡Œæ’åºè¾“å‡ºã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394#include&lt;iostream&gt;#include&lt;algorithm&gt;#include &lt;vector&gt;#include&lt;string.h&gt;#include&lt;string&gt;#include&lt;ctype.h&gt;#include&lt;cmath&gt;#include &lt;queue&gt;#define MAXN 30000using namespace std;int a[50],flag[50];int N;struct s&#123; int a[50]; int lenth;&#125; str[MAXN];int k=0;void input()&#123; k++; str[k].lenth=0; int t=1; for (int i=1; i&lt;=N; i++) if (flag[i]!=0) str[k].a[t++]=a[i],str[k].lenth++;&#125;void dfs(int i,int sum)&#123; sum+=a[i]; if (sum&gt;a[N]) return ; for (int j=i+1; j&lt;=N; j++) if (sum==a[j]) &#123; flag[j]=1; input(); flag[j]=0; break; &#125; for (int j=i+1; j&lt;N; j++) &#123; flag[j]=1; dfs(j,sum); flag[j]=0; &#125;&#125;bool cmp(struct s a,struct s b)&#123; if(a.lenth!=b.lenth) return a.lenth&lt;b.lenth; for(int i=1; i&lt;=a.lenth; i++) if (a.a[i]!=b.a[i]) return a.a[i]&lt;b.a[i];&#125;void solve();int main()&#123; solve(); return 0;&#125;void solve()&#123; int T; cin&gt;&gt;T; while (T--) &#123; memset(flag,0,sizeof(flag)); memset(a,0,sizeof(a)); k=0; cin&gt;&gt;N; for (int i=1; i&lt;=N; i++) cin&gt;&gt;a[i]; sort(a+1,a+1+N); for (int i=1; i&lt;N-1; i++) &#123; flag[i]=1; dfs(i,0); flag[i]=0; &#125; sort(str+1,str+k+1,cmp); if (k==0) printf("Can't find any equations.\n\n"); else for (int i=1; i&lt;=k; i++) &#123; int j; printf("%d",str[i].a[1]); for (j=2; j&lt;str[i].lenth; j++) printf("+%d",str[i].a[j]); printf("=%d\n",str[i].a[j]); &#125; printf("\n"); &#125;&#125;]]></content>
      <categories>
        <category>OJ</category>
      </categories>
      <tags>
        <tag>æ·±æœ</tag>
      </tags>
  </entry>
</search>
