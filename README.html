<h1 id="Blankj’s-Blog"><a href="#Blankj’s-Blog" class="headerlink" title="Blankj’s Blog"></a>Blankj’s Blog</h1><h2 id="About-Blog"><a href="#About-Blog" class="headerlink" title="About Blog"></a>About Blog</h2><h3 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h3><p>博客使用的是 <a href="https://github.com/iissnan/hexo-theme-next">next</a> 主题，版本是 <code>5.1.3</code>。</p>
<h3 id="添加Gitalk评论"><a href="#添加Gitalk评论" class="headerlink" title="添加Gitalk评论"></a>添加<a href="https://github.com/gitalk/gitalk">Gitalk</a>评论</h3><p>需要 <code>Github Application</code>，如果没有 <a href="https://github.com/settings/applications/new">点击这里申请</a>，<code>Authorization callback URL</code> 填写你主页地址，比如我的就是 <code>https://blankj.com</code>，其他都随意。</p>
<ol>
<li>首先创建 <code>Gitalk</code> 的 <code>swig</code> 文件，放在 <code>themes/next/layout/_third-party/comments</code> 文件夹下，命名为 <code>gitalk.swig</code> 。内容如下</li>
</ol>
<pre><code>{% if page.comments &amp;&amp; theme.gitalk.enable %}
  &lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/gitalk/dist/gitalk.css&quot;&gt;

  &lt;script src=&quot;https://unpkg.com/gitalk/dist/gitalk.min.js&quot;&gt;&lt;/script&gt;
   &lt;script type=&quot;text/javascript&quot;&gt;
        var gitalk = new Gitalk({
          clientID: &apos;{{ theme.gitalk.ClientID }}&apos;,
          clientSecret: &apos;{{ theme.gitalk.ClientSecret }}&apos;,
          repo: &apos;{{ theme.gitalk.repo }}&apos;,
          owner: &apos;{{ theme.gitalk.githubID }}&apos;,
          admin: [&apos;{{ theme.gitalk.adminUser }}&apos;],
          id: location.pathname,
          distractionFreeMode: &apos;{{ theme.gitalk.distractionFreeMode }}&apos;
        })
        gitalk.render(&apos;gitalk-container&apos;)           
       &lt;/script&gt;
{% endif %}
</code></pre><ol start="2">
<li>在主题文件 <code>themes/next/layout/_third-party/comments/index.swig</code> 中引入刚刚添加的文件。</li>
</ol>
<pre><code>{% include &apos;gitalk.swig&apos; %}
</code></pre><ol start="3">
<li>在 <code>themes/next/layout/_partials/comments.swig</code> 文件末找到倒数第二个 <code>endif</code> 语句，在前面插入如下代码:</li>
</ol>
<pre><code>{% elseif theme.gitalk.enable %}
  &lt;div id=&quot;gitalk-container&quot;&gt;&lt;/div&gt;
</code></pre><ol start="4">
<li>在 <code>themes/next/_config.xml</code> 文件中引入 <code>Gitalk</code></li>
</ol>
<pre><code>gitalk:
  enable: true
  githubID: Blankj
  repo: xxx
  ClientID: xxx
  ClientSecret: xxx
  adminUser: Blankj
  distractionFreeMode: true
</code></pre><p>其中 <code>githubID</code> 是你的 <code>Github</code> 用户名，<code>repo</code> 是你用来存放评论 <code>issue</code> 的仓库，比如我的就是<a href="https://github.com/Blankj/blog-comment">blog-comment</a>，那么我就写 <code>blog-comment</code> 即可，<code>ClientID</code> 和 <code>ClientSecret</code> 就是你之前申请 <code>Github Application</code> 可以获取到，<code>adminUser</code> 和 <code>githubID</code> 一样即可，<code>distractionFreeMode</code> 是评论时遮照效果的开关。</p>
<h3 id="添加背景图"><a href="#添加背景图" class="headerlink" title="添加背景图"></a>添加背景图</h3><p>在 <code>themes/next/source/css/_custom/custom.styl</code> 中添加如下代码：</p>
<pre><code>body{
    background:url(/images/bg.jpg);
    background-size:cover;
    background-repeat:no-repeat;
    background-attachment:fixed;
    background-position:center;
}
</code></pre><h3 id="修改Logo字体"><a href="#修改Logo字体" class="headerlink" title="修改Logo字体"></a>修改Logo字体</h3><p>在 <code>themes/next/source/css/_custom/custom.styl</code> 中添加如下代码：</p>
<pre><code>@font-face {
    font-family: Blankj;
    src: url(&apos;/fonts/Blankj.ttf&apos;);
}

.site-title {
    font-size: 40px !important;
    font-family: &apos;Blankj&apos; !important;
}
</code></pre><p>其中字体文件在 <code>themes/next/source/fonts</code> 目录下，里面有个 <code>.gitkeep</code> 的隐藏文件，打开写入你要保留的字体文件，比如我的是就是写入 <code>Blankj.ttf</code>，具体字库自己从网上下载即可。</p>
<h3 id="设置圆形头像"><a href="#设置圆形头像" class="headerlink" title="设置圆形头像"></a>设置圆形头像</h3><p>修改 <code>themes/next/source/css/_common/components/sidebar/sidebar-author.styl</code> 为下方代码。</p>
<pre><code>.site-author-image {
  display: block;
  margin: 0 auto;
  padding: $site-author-image-padding;
  max-width: $site-author-image-width;
  height: $site-author-image-height;
  border: $site-author-image-border-width solid $site-author-image-border-color;
  /* 头像圆形 */
  border-radius: 80px;
  -webkit-border-radius: 80px;
  -moz-border-radius: 80px;
  box-shadow: inset 0 -1px 0 #333sf;
  /* 设置循环动画 [animation: (play)动画名称 (2s)动画播放时长单位秒或微秒 (ase-out)动画播放的速度曲线为以低速结束
    (1s)等待1秒然后开始动画 (1)动画播放次数(infinite为循环播放) ]*/
  -webkit-animation: play 2s ease-out 1s 1;
  -moz-animation: play 2s ease-out 1s 1;
  animation: play 2s ease-out 1s 1;
  /* 鼠标经过头像旋转360度 */
  -webkit-transition: -webkit-transform 1.5s ease-out;
  -moz-transition: -moz-transform 1.5s ease-out;
  transition: transform 1.5s ease-out;
}
img:hover {
  /* 鼠标经过停止头像旋转
  -webkit-animation-play-state:paused;
  animation-play-state:paused;*/
  /* 鼠标经过头像旋转360度 */
  -webkit-transform: rotateZ(360deg);
  -moz-transform: rotateZ(360deg);
  transform: rotateZ(360deg);
}
/* Z 轴旋转动画 */
@-webkit-keyframes play {
  0% {
    -webkit-transform: rotateZ(0deg);
  }
  100% {
    -webkit-transform: rotateZ(-360deg);
  }
}
@-moz-keyframes play {
  0% {
    -moz-transform: rotateZ(0deg);
  }
  100% {
    -moz-transform: rotateZ(-360deg);
  }
}
@keyframes play {
  0% {
    transform: rotateZ(0deg);
  }
  100% {
    transform: rotateZ(-360deg);
  }
}
.site-author-name {
  margin: $site-author-name-margin;
  text-align: $site-author-name-align;
  color: $site-author-name-color;
  font-weight: $site-author-name-weight;
}
.site-description {
  margin-top: $site-description-margin-top;
  text-align: $site-description-align;
  font-size: $site-description-font-size;
  color: $site-description-color;
}
</code></pre>